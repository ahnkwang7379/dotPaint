(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{277:function(e,t,n){e.exports=n(503)},282:function(e,t,n){},321:function(e,t){},323:function(e,t){},333:function(e,t){},503:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),f=n(18),o=n.n(f),c=(n(282),n(52)),l=n(28),i=n(12),u=n(9),d=n(13),s=n(3),b=n(7),p=n(558),m=n(557),O=n(551),E=n(562),h=n(576),v=n(560),g=n(553),C=n(554),j=n(555),x=n(556),y=n(157),A=n.n(y),I=n(559),w=n(70),S=n(548),L=n(27),T=n(231),k=n.n(T),_=n(232),D=n.n(_),R=n(234),N=n.n(R),P=n(233),z=n.n(P),F=n(561),H=Object(S.a)((function(e){return{root:{display:"flex"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:{transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},hide:{display:"none"},toolbar:Object(s.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),drawerPaper:{width:240},content:{width:"calc(100% - ".concat(240,"px)"),flexGrow:1,padding:e.spacing(1)}}})),M=a.a.memo(Object(l.f)((function(e){var t,n,f=e.window,o=e.children,c=e.path,l=e.history,i=e.user,s=e.onLogout,y=H(),S=Object(L.a)(),T=Object(r.useState)(!1),_=Object(d.a)(T,2),R=_[0],P=_[1],M=Object(r.useState)(!1),G=Object(d.a)(M,2),U=G[0],W=G[1],B=function(){P(!R)},V=a.a.createElement("div",null,a.a.createElement(O.a,null),a.a.createElement(O.a,null),a.a.createElement(g.a,null,a.a.createElement(C.a,{button:!0,key:"dot",onClick:function(){return l.push("".concat(c,"/dot"))}},a.a.createElement(j.a,null,a.a.createElement(k.a,null)),a.a.createElement(x.a,{primary:"DotArt"})),a.a.createElement(C.a,{button:!0,key:"community",onClick:function(){return l.push("".concat(c,"/community"))}},a.a.createElement(j.a,null,a.a.createElement(D.a,null)),a.a.createElement(x.a,{primary:"Community"}))),a.a.createElement(O.a,null)),Y=void 0!==f?function(){return f().document.body}:void 0;return a.a.createElement("div",{className:y.root},a.a.createElement(m.a,null),a.a.createElement(p.a,{position:"fixed",className:Object(b.a)(y.appBar,Object(u.a)({},y.appBarShift,U))},a.a.createElement(I.a,null,a.a.createElement(h.a,{smUp:!0,implementation:"css"},a.a.createElement(v.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:B,className:y.menuButton},a.a.createElement(A.a,null))),a.a.createElement(h.a,{xsDown:!0,implementation:"css"},a.a.createElement(v.a,{color:"inherit","aria-label":"open drawer",onClick:function(){W(!0)},edge:"start",className:Object(b.a)(y.menuButton,Object(u.a)({},y.hide,U))},a.a.createElement(A.a,null))),a.a.createElement(w.a,{variant:"h6",className:y.title,noWrap:!0},"Dot Art"),i?a.a.createElement(a.a.Fragment,null,a.a.createElement(w.a,{variant:"h6"},i.username),a.a.createElement(F.a,{color:"inherit",onClick:s},"Logout")):a.a.createElement(F.a,{color:"inherit",onClick:function(){return l.push("/login")}},"Login"))),a.a.createElement(h.a,{smUp:!0,implementation:"css"},a.a.createElement(E.a,{container:Y,variant:"temporary",anchor:"left",open:R,onClose:B,classes:{paper:y.drawerPaper},ModalProps:{keepMounted:!0}},V)),a.a.createElement(h.a,{xsDown:!0,implementation:"css"},a.a.createElement(E.a,{variant:"permanent",className:Object(b.a)(y.drawer,(t={},Object(u.a)(t,y.drawerOpen,U),Object(u.a)(t,y.drawerClose,!U),t)),classes:{paper:Object(b.a)((n={},Object(u.a)(n,y.drawerOpen,U),Object(u.a)(n,y.drawerClose,!U),n))}},a.a.createElement("div",{className:y.toolbar},a.a.createElement(v.a,{onClick:function(){W(!1)}},"rtl"===S.direction?a.a.createElement(z.a,null):a.a.createElement(N.a,null))),V)),a.a.createElement("main",{className:y.content},a.a.createElement("div",{className:y.toolbar}),o))}))),G=n(40),U=n.n(G),W=n(577),B=n(575),V=n(37),Y=n(235),K=n.n(Y).a.create();K.interceptors.request.use((function(e){try{var t=localStorage.getItem("access_token");t&&(e.headers.common.Authorization="Bearer ".concat(t))}catch(n){console.log("localStorage is not working")}return e})),K.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}));var Z,J,X=K,q=function(){return X.post("/api/auth/logout")},$=Object(W.a)("loading/START_LOADING",(function(e){return e})),Q=Object(W.a)("loading/FINISH_LOADING",(function(e){return e})),ee=Object(B.a)((Z={},Object(u.a)(Z,"loading/START_LOADING",(function(e,t){return Object(s.a)({},e,Object(u.a)({},t.payload,!0))})),Object(u.a)(Z,"loading/FINISH_LOADING",(function(e,t){return Object(s.a)({},e,Object(u.a)({},t.payload,!1))})),Z),{}),te=function(e){return[e,"".concat(e,"_SUCCESS"),"".concat(e,"_FAILURE")]};function ne(e,t){var n="".concat(e,"_SUCCESS"),r="".concat(e,"_FAILURE");return U.a.mark((function a(f){var o;return U.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(V.c)($(e));case 2:return a.prev=2,a.next=5,Object(V.b)(t,f.payload);case 5:return o=a.sent,a.next=8,Object(V.c)({type:n,payload:o.data});case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(2),a.next=14,Object(V.c)({type:r,payload:a.t0,error:!0});case 14:return a.next=16,Object(V.c)(Q(e));case 16:case"end":return a.stop()}}),a,null,[[2,10]])}))}var re=U.a.mark(me),ae=U.a.mark(Oe),fe=te("user/CHECK"),oe=Object(d.a)(fe,3),ce=oe[0],le=oe[1],ie=oe[2],ue=Object(W.a)("user/TEMP_SET_USER",(function(e){return e})),de=Object(W.a)(ce),se=Object(W.a)("user/LOGOUT"),be=ne(ce,(function(){return X.get("/api/auth/check")}));function pe(){try{localStorage.removeItem("dotArt_user")}catch(e){console.log("localStorage is not working!")}}function me(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(V.b)(q);case 3:localStorage.removeItem("dotArt_user"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),re,null,[[0,6]])}function Oe(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.d)(ce,be);case 2:return e.next=4,Object(V.d)(ie,pe);case 4:return e.next=6,Object(V.d)("user/LOGOUT",me);case 6:case"end":return e.stop()}}),ae)}var Ee=Object(B.a)((J={},Object(u.a)(J,"user/TEMP_SET_USER",(function(e,t){var n=t.payload;return Object(s.a)({},e,{user:n})})),Object(u.a)(J,le,(function(e,t){var n=t.payload;return Object(s.a)({},e,{user:n,checkError:null})})),Object(u.a)(J,ie,(function(e,t){var n=t.payload;return Object(s.a)({},e,{user:null,checkError:n})})),Object(u.a)(J,"user/LOGOUT",(function(e){return Object(s.a)({},e,{user:null})})),J),{user:null,checkError:null}),he=a.a.memo((function(e){var t=e.children,n=e.path,f=Object(i.c)(),o=Object(i.d)((function(e){return{user:e.user.user}})).user,c=Object(r.useCallback)((function(){f(se())}),[f]);return a.a.createElement(M,{window:document.window,path:n,user:o,onLogout:c},t)})),ve=n(5),ge=n(11),Ce=n(565),je=n(566),xe=n(243),ye=n.n(xe),Ae=n(236);function Ie(e,t,n,r){return Te(e,{pSize:n,c:t,duration:r,cssClassName:"dotArt-to-css"})}var we=function(e,t){e=e.flat();var n=function(e){return e%t.c*t.pSize+t.pSize},r=function(e){return parseInt(e/t.c,10)*t.pSize+t.pSize};switch(t.format){case"array":return e.reduce((function(e,t,a){return""!==t&&e.push({x:n(a),y:r(a),color:t}),e}),[]);default:return e.reduce((function(e,t,a){return""!==t?"".concat(e," ").concat(n(a),"px ").concat(r(a),"px ").concat(t,","):e}),"").slice(1,-1)}},Se=function(e,t){var n=Object(Ae.generateAnimationIntervals)(e);return e.reduce((function(e,r,a){var f=e;try{var o=r.layer||r.get("layer")||0;if(o){var c=we(o,{pSize:t.pSize,c:t.c}),l=0===a?0:n[a]+.01,i=n[a+1];f["".concat(l,"%, ").concat(i,"%")]={boxShadow:"".concat(c,";height: ").concat(t.pSize,"px; width: ").concat(t.pSize,"px;")}}}catch(u){console.error("Input data error: Each frame object must contain a grid value")}return f}),{})},Le=function(e,t){var n=we(e,t);return".".concat(t.cssClassName," {\n  box-shadow: ").concat(n,";\n  height: ").concat(t.pSize,"px;\n  width: ").concat(t.pSize,"px;\n}")},Te=function(e,t){console.log(e),console.log(t);var n=Se(e,t),r="";for(var a in r+=".".concat(t.cssClassName," {\n  position: absolute;\n  "),r+="animation: x ".concat(t.duration,"s infinite;\n  "),r+="-webkit-animation: x ".concat(t.duration,"s infinite;\n  "),r+="-moz-animation: x ".concat(t.duration,"s infinite;\n  "),r+="-o-animation: x ".concat(t.duration,"s infinite;\n}\n\n"),r+="@keyframes x {\n",n)if(Object.prototype.hasOwnProperty.call(n,a)){var f=n[a].boxShadow;r+="".concat(a,"{\n  box-shadow: ").concat(f,"\n  }\n")}return r+="}"},ke=n(6),_e=n(33),De=n.n(_e);function Re(){var e=Object(ve.a)(["",""]);return Re=function(){return e},e}var Ne=function(e){var t=e.boxShadow,n=e.duration,r="anim-".concat(De.a.generate()),f="".concat(r),o=Object(ke.c)(Re(),t).rules,c={position:"absolute",animation:"x ".concat(n,"s infinite"),animationName:f},l="@keyframes ".concat(f," {").concat(o,"}");return a.a.createElement("div",null,a.a.createElement("div",{className:"animation-container",style:c}),a.a.createElement("style",null,l))},Pe=a.a.memo((function(e){var t=e.dotSet,n=e.dotList,r=e.column,f=e.size,o=e.animation,c=e.duration,l=e.zIndex,i=e.opacity,u="string"===typeof f?parseFloat(f):f,d={position:"relative",top:"-".concat(u,"px"),left:"-".concat(u,"px")};return a.a.createElement("div",{className:"preview",style:d},function(){var e,f,d=r,s=i||1;if(o)return f=function(e,t,n){return Se(e,{pSize:n,c:t})}(n,d,u),a.a.createElement(Ne,{boxShadow:f,duration:c});e=function(e,t,n,r){return we(e,{format:r,pSize:n,c:t})}(t,d,u,"string");var b={previewWrapper:{position:"absolute",height:u,width:u,boxShadow:e,MozBoxShadow:e,WebkitBoxShadow:e,border:"0px",zIndex:l||"",opacity:s}};return a.a.createElement("div",{style:b.previewWrapper})}())})),ze=n(130);function Fe(){var e=Object(ve.a)(["\n      color: #fff;\n      background: ",";\n      box-shadow: 0 0.1rem #666;\n      transform: translateY(4px);\n    "]);return Fe=function(){return e},e}function He(){var e=Object(ve.a)(["\n      &:hover {\n        color: #fff;\n        background: ",";\n      }\n      &:active {\n        color: #fff;\n        background: ",";\n        box-shadow: 0 0.1rem #666;\n        transform: translateY(4px);\n      }\n    "]);return He=function(){return e},e}function Me(){var e=Object(ve.a)(["\n      background: ",";\n      color: #fff;\n    "]);return Me=function(){return e},e}function Ge(){var e=Object(ve.a)(["\n  font-size: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #6e6e6e;\n  ","\n  width: ",";\n  height: ",";\n  border: 1px solid #225ea7;\n  outline: none;\n  border-radius: 0.5rem;\n  text-align: center;\n  box-shadow: 0 0.3rem #999;\n  transition: all 0.05s ease-in-out;\n  ","\n\n  &:disabled {\n    background: #afafaf;\n    color: #777777;\n  }\n\n  ","\n"]);return Ge=function(){return e},e}var Ue=ke.b.button(Ge(),(function(e){return e.baseColor&&Object(ke.a)(Me(),e.baseColor)}),(function(e){return e.width?"".concat(e.width,"px"):"100%"}),(function(e){return e.height?"".concat(e.height,"px"):"auto"}),(function(e){return!e.disable&&Object(ke.a)(He(),(function(e){return e.color?"".concat(e.color):"skyblue"}),(function(e){return e.color?"".concat(e.color):"skyblue"}))}),(function(e){return!0===e.selected&&Object(ke.a)(Fe(),(function(e){return e.selectColor?"".concat(e.selectColor):"skyblue"}))})),We=a.a.memo((function(e){var t=e.children,n=Object(ze.a)(e,["children"]);return a.a.createElement(Ue,n,t)})),Be=n(64),Ve=n(574);function Ye(e,t){return new Array(e).fill().map((function(){return new Array(t).fill("")}))}function Ke(e,t,n,r){for(var a=Ye(n=n||e.length,r=r||e[0].length),f=0;f<n;f++)for(var o=0;o<r;o++)""!==e[f][o]?a[f][o]=e[f][o]:a[f][o]=t[f][o];return a}function Ze(e,t,n,r){n=n||e[0].length,r=r||e[0][0].length;for(var a=t.map((function(e){return e.dotFrameIdx})),f=Ye(n,r),o=0;o<n;o++)for(var c=0;c<r;c++)for(var l=a.length-1;l>=0;l--){var i=e[a[l]][o][c];if(""!==i){f[o][c]=i;break}}return f}function Je(e,t){return e.map((function(e){return Object(s.a)({},e,{layer:Ze(e.layerList,t)})}))}function Xe(){var e=Object(ve.a)([""]);return Xe=function(){return e},e}function qe(){var e=Object(ve.a)(["\n  overflow: auto;\n  max-width: 100%;\n  max-height: 100%;\n  border: 1px solid #9e9e9e;\n"]);return qe=function(){return e},e}function $e(){var e=Object(ve.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  margin-bottom: 8px;\n  & > * {\n    margin: 8px;\n    max-width: 160px;\n  }\n"]);return $e=function(){return e},e}function Qe(){var e=Object(ve.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  height: 100%;\n"]);return Qe=function(){return e},e}var et,tt,nt=ke.b.div(Qe()),rt=ke.b.div($e()),at=ke.b.div(qe()),ft=ke.b.div.attrs((function(e){var t=e.pixelSize,n=e.columnCount,r=e.rowCount;return{style:{width:"".concat(n*t,"px"),height:"".concat(r*t,"px")}}}))(Xe()),ot=function(e){var t=e.dotFrameList,n=e.activeIdx,f=e.rowCount,o=e.columnCount,c=e.animationDuration,l=e.pixelSize,i=e.layerData,u=e.handleChangeAnimationDuration,s=e.handleChangePixelSize,b=Object(r.useState)(!1),p=Object(d.a)(b,2),m=p[0],O=p[1];return a.a.createElement(nt,null,a.a.createElement(rt,null,a.a.createElement(Ve.a,{size:"small",variant:"outlined",type:"number",label:"Animation Duration",value:c,onChange:function(e){return function(e){O(!1),e.target.value<=0||""===e.target.value?u(0):u(e.target.value)}(e)}}),a.a.createElement(Ve.a,{size:"small",variant:"outlined",type:"number",label:"PixelSize",value:l,onChange:function(e){return function(e){s(e.target.value)}(e)}}),a.a.createElement(We,{onClick:function(){O(!m)},selected:m,selectColor:"#f05556",color:m?"#b71b2d":"#008000",width:"40",height:"40",baseColor:"#3db12a"},m?a.a.createElement(Be.d,null):a.a.createElement(Be.e,null))),a.a.createElement(at,null,a.a.createElement(ft,{pixelSize:l,columnCount:o,rowCount:f},!m&&a.a.createElement(Pe,{dotSet:Ze(t[n].layerList,i),column:o,size:l}),m&&a.a.createElement(Pe,{dotList:Je(t,i),column:o,size:l,animation:m,duration:c}))))},ct=n(23),lt="DOT",it=Object(W.a)("paintTool/CHANGE_PAINT_TOOL",(function(e){return e})),ut=Object(W.a)("paintTool/CHANGE_PAINT_STATE",(function(e){return e})),dt=Object(W.a)("paintTool/SET_DIRECTION",(function(e){return e})),st={selectedPaintTool:lt,paintState:"IDLE",direction:"LEFT"},bt=Object(B.a)((et={},Object(u.a)(et,"paintTool/CHANGE_PAINT_TOOL",(function(e,t){var n=t.payload;return Object(s.a)({},e,{selectedPaintTool:n})})),Object(u.a)(et,"paintTool/CHANGE_PAINT_STATE",(function(e,t){var n=t.payload;return Object(s.a)({},e,{paintState:n})})),Object(u.a)(et,"paintTool/SET_DIRECTION",(function(e,t){var n=t.payload;return Object(s.a)({},e,{direction:n})})),et),st),pt=(Object(W.a)("dot/CLEAR_DOT"),Object(W.a)("dot/NEW_DOT_ART_PROJECT")),mt=Object(W.a)("dot/LOAD_DOT_ART",(function(e){return e})),Ot=Object(W.a)("dot/INCREASE_COLUMN"),Et=Object(W.a)("dot/DECREASE_COLUMN"),ht=Object(W.a)("dot/INCREASE_ROW"),vt=Object(W.a)("dot/DECREASE_ROW"),gt=(Object(W.a)("dot/CHANGE_DOT_AREA",(function(e){return{newRow:e.newRow,newColumn:e.newColumn}})),Object(W.a)("dot/CHANGE_ACTIVE_IDX",(function(e){return e}))),Ct=Object(W.a)("dot/REMOVE_ACTIVE_DOT_ART"),jt=Object(W.a)("dot/COPY_ACTIVE_DOT_ART"),xt=Object(W.a)("dot/ADD_NEW_DOT_ART"),yt=Object(W.a)("dot/CHANGE_ANIMATION_INTERVAL",(function(e,t){return{interval:e,activeIdx:t}})),At=Object(W.a)("dot/CHANGE_ANIMATION_DURATION",(function(e){return e})),It=Object(W.a)("dot/CHANGE_PIXEL_SIZE",(function(e){return e})),wt=Object(W.a)("dot/REORDER_DOT_LIST",(function(e){return{startIdx:e.startIdx,endIdx:e.endIdx}})),St=Object(W.a)("dot/UPDATE_DOT_ART",(function(e){return e})),Lt=Object(W.a)("dot/ADD_NEW_LAYER",(function(e){return e})),Tt=Object(W.a)("dot/REMOVE_LAYER"),kt=Object(W.a)("dot/MERGE_LAYER"),_t=Object(W.a)("dot/MOVE_UP_LAYER",(function(e){return e})),Dt=Object(W.a)("dot/MOVE_DOWN_LAYER",(function(e){return e})),Rt=Object(W.a)("dot/SELECT_LAYER_IDX",(function(e){return e})),Nt=Object(W.a)("dot/RENAME_LAYER",(function(e){return e}));function Pt(e){var t=100/e.length;return e.map((function(n,r){return Object(s.a)({},n,{interval:r===e.length?100:Math.round((r+1)*t*100)/100})}))}var zt={fakeDotArt:Ye(16,16),dotFrameList:[{id:De.a.generate(),layerList:[Ye(16,16)],interval:100}],columnCount:16,rowCount:16,animationDuration:2,activeIdx:0,layerSelectIdx:0,layerData:[{layerName:"Layer 1",dotFrameIdx:0}],pixelSize:10},Ft=Object(B.a)((tt={},Object(u.a)(tt,"dot/CLEAR_DOT",(function(e){return Object(ct.a)(e,(function(t){var n=t.layerData[t.layerSelectIdx].dotFrameIdx;t.dotFrameList[e.activeIdx].layerList[n]=Ye(t.rowCount,t.columnCount)}))})),Object(u.a)(tt,"dot/NEW_DOT_ART_PROJECT",(function(){return Object(s.a)({},zt)})),Object(u.a)(tt,"dot/LOAD_DOT_ART",(function(e,t){var n=t.payload;return Object(s.a)({},e,{activeIdx:0,fakeDotArt:Ye(n.rowCount,n.columnCount),layerSelectIdx:0},n)})),Object(u.a)(tt,"dot/INCREASE_COLUMN",(function(e){return Object(ct.a)(e,(function(e){e.columnCount=e.columnCount+1;for(var t=0;t<e.dotFrameList.length;t++)e.dotFrameList[t].layerList.map((function(e){return e.map((function(e){return e.push("")}))}))}))})),Object(u.a)(tt,"dot/DECREASE_COLUMN",(function(e){return Object(ct.a)(e,(function(e){if(e.columnCount>1){e.columnCount=e.columnCount-1;for(var t=0;t<e.dotFrameList.length;t++)e.dotFrameList[t].layerList.map((function(e){return e.map((function(e){return e.pop()}))}))}}))})),Object(u.a)(tt,"dot/INCREASE_ROW",(function(e){return Object(ct.a)(e,(function(e){e.rowCount=e.rowCount+1;for(var t=0;t<e.dotFrameList.length;t++)e.dotFrameList[t].layerList.map((function(t){return t.push(new Array(e.columnCount).fill(""))}));e.fakeDotArt=Ye(e.rowCount,e.columnCount)}))})),Object(u.a)(tt,"dot/DECREASE_ROW",(function(e){return Object(ct.a)(e,(function(e){if(e.rowCount>1){e.rowCount=e.rowCount-1;for(var t=0;t<e.dotFrameList.length;t++)e.dotFrameList[t].layerList.map((function(e){return e.pop()}));e.fakeDotArt=Ye(e.rowCount,e.columnCount)}}))})),Object(u.a)(tt,"dot/CHANGE_DOT_AREA",(function(e,t){var n=t.payload,r=n.newRow,a=n.newColumn;return Object(ct.a)(e,(function(e){if(!(r<1||a<1)){for(var t=e.rowCount,n=e.columnCount,f=0;f<e.dotFrameList.length;f++){if(a>n)for(var o=n;o<a;o++)e.dotFrameList[f].layerList.map((function(e){return e.map((function(e){return e.push("")}))}));if(a<n)for(var c=a;c<n;c++)e.dotFrameList[f].layerList.map((function(e){return e.map((function(e){return e.pop()}))}));if(r>t)for(var l=t;l<r;l++)e.dotFrameList[f].layerList.map((function(e){return e.push(new Array(a).fill(""))}));if(r<t)for(var i=r;i<t;i++)e.dotFrameList[f].layerList.map((function(e){return e.pop()}))}e.rowCount=r,e.columnCount=a,e.fakeDotArt=Ye(e.rowCount,e.columnCount)}}))})),Object(u.a)(tt,"dot/CHANGE_ACTIVE_IDX",(function(e,t){var n=t.payload;return Object(s.a)({},e,{activeIdx:n})})),Object(u.a)(tt,"dot/REMOVE_ACTIVE_DOT_ART",(function(e){if(1===e.dotFrameList.length)return Object(s.a)({},e);var t=e.dotFrameList,n=e.activeIdx,r=Pt([].concat(t.slice(0,n)).concat(t.slice(n+1)));return Object(s.a)({},e,{dotFrameList:r,activeIdx:n>r.length-1?n-1:n})})),Object(u.a)(tt,"dot/COPY_ACTIVE_DOT_ART",(function(e){var t=e.dotFrameList,n=e.activeIdx,r=Pt([].concat(t.slice(0,n+1)).concat(Object(s.a)({},t[n],{id:De.a.generate()})).concat(t.slice(n+1)));return Object(s.a)({},e,{dotFrameList:r,activeIdx:n+1})})),Object(u.a)(tt,"dot/ADD_NEW_DOT_ART",(function(e){var t=Ye(e.rowCount,e.columnCount),n={id:De.a.generate(),layerList:new Array(e.layerData.length).fill(t),interval:0},r=Pt([].concat(e.dotFrameList.slice()).concat(n));return Object(s.a)({},e,{dotFrameList:r,activeIdx:r.length-1})})),Object(u.a)(tt,"dot/CHANGE_ANIMATION_INTERVAL",(function(e,t){var n=t.payload,r=n.interval,a=n.activeIdx;return Object(ct.a)(e,(function(e){var t=e.dotFrameList;t[a+1].interval<r?t[a].interval=t[a+1].interval:t[a].interval=0===a?r<=0?.1:r:t[a-1].interval>r?t[a-1].interval:r}))})),Object(u.a)(tt,"dot/CHANGE_ANIMATION_DURATION",(function(e,t){var n=t.payload;return Object(s.a)({},e,{animationDuration:n})})),Object(u.a)(tt,"dot/CHANGE_PIXEL_SIZE",(function(e,t){var n=t.payload;return Object(s.a)({},e,{pixelSize:n})})),Object(u.a)(tt,"dot/REORDER_DOT_LIST",(function(e,t){var n=t.payload,r=n.startIdx,a=n.endIdx;return Object(ct.a)(e,(function(e){var t=e.dotFrameList.reduce((function(e,t){return e.concat(t.interval)}),[]),n=e.dotFrameList.splice(r,1),f=Object(d.a)(n,1)[0];e.dotFrameList.splice(a,0,f),t.map((function(t,n){return e.dotFrameList[n].interval=t}));var o=e.activeIdx;o===r?e.activeIdx=a:o>r?o<=a&&(e.activeIdx-=1):o>=a&&(e.activeIdx+=1)}))})),Object(u.a)(tt,"dot/UPDATE_DOT_ART",(function(e,t){var n,r=t.payload;if("PICKER"===r)return Object(s.a)({},e);if(r===lt){var a=e.layerData[e.layerSelectIdx].dotFrameIdx;n=Ke(e.fakeDotArt,e.dotFrameList[e.activeIdx].layerList[a],e.rowCount,e.columnCount)}return"ERASER"===r&&(n=e.fakeDotArt),"BUCKET"===r&&(n=e.fakeDotArt),"MOVE"===r&&(n=e.fakeDotArt),"SAMECOLOR"===r&&(n=e.fakeDotArt),Object(ct.a)(e,(function(e){e.dotFrameList[e.activeIdx].layerList[e.layerData[e.layerSelectIdx].dotFrameIdx]=n}))})),Object(u.a)(tt,"dot/ADD_NEW_LAYER",(function(e,t){var n,r,a=t.payload,f=e.layerSelectIdx,o=e.layerData,c=o.length,l=o[f].dotFrameIdx,i=[];if(a){for(var u=0;u<e.dotFrameList.length;u++)i=i.concat([e.dotFrameList[u].layerList[l].slice()]);n={layerName:"".concat(o[f].layerName," (copy)"),dotFrameIdx:c},r=e.dotFrameList.map((function(e,t){return Object(s.a)({},e,{layerList:[].concat(e.layerList.slice()).concat([i[t]])})}))}else i=[Ye(e.rowCount,e.columnCount)],n={layerName:"Layer ".concat(c+1),dotFrameIdx:c},r=e.dotFrameList.map((function(e){return Object(s.a)({},e,{layerList:[].concat(e.layerList.slice()).concat(i)})}));var d=[].concat(o.slice(0,f+1)).concat(n).concat(o.slice(f+1));return Object(s.a)({},e,{dotFrameList:r,layerSelectIdx:f+1,layerData:d})})),Object(u.a)(tt,"dot/REMOVE_LAYER",(function(e){if(1===e.layerData.length)return Object(s.a)({},e);var t=e.layerSelectIdx,n=e.layerData,r=n.length,a=n[t].dotFrameIdx,f=e.dotFrameList.map((function(e){return Object(s.a)({},e,{layerList:[].concat(e.layerList.slice(0,a)).concat(e.layerList.slice(a+1))})})),o=[].concat(n.slice(0,t)).concat(n.slice(t+1));return o=o.map((function(e){return e.dotFrameIdx>a?Object(s.a)({},e,{dotFrameIdx:e.dotFrameIdx-1}):Object(s.a)({},e)})),Object(s.a)({},e,{dotFrameList:f,layerData:o,layerSelectIdx:e.layerSelectIdx===r-1?e.layerSelectIdx-1:e.layerSelectIdx})})),Object(u.a)(tt,"dot/MERGE_LAYER",(function(e){var t=e.layerSelectIdx,n=e.layerData,r=e.dotFrameList;if(1===n.length)return Object(s.a)({},e);if(0===t)return Object(s.a)({},e);for(var a=n[t].dotFrameIdx,f=n[t-1].dotFrameIdx,o=[],c=function(t){var n=r[t].layerList[a].slice(),c=r[t].layerList[f].slice(),l=r[t].layerList.reduce((function(t,r,o){return o===a?t.concat([Ke(n,c,e.rowCount,e.columnCount)]):o===f?t:t.concat([r])}),[]),i={id:r[t].id,layerList:l,interval:r[t].interval};o.push(i)},l=0;l<r.length;l++)c(l);var i=[].concat(n.slice(0,t-1)).concat(n.slice(t)),u=n[t-1].dotFrameIdx;return i=i.map((function(e){return e.dotFrameIdx>u?Object(s.a)({},e,{dotFrameIdx:e.dotFrameIdx-1}):Object(s.a)({},e)})),Object(s.a)({},e,{dotFrameList:o,layerSelectIdx:e.layerSelectIdx-1,layerData:i})})),Object(u.a)(tt,"dot/MOVE_UP_LAYER",(function(e,t){var n,r,a=t.payload,f=e.layerData.length,o=e.layerSelectIdx,c=e.layerData;return o===f-1?Object(s.a)({},e):(a?(n=[].concat(c.slice(0,0===o?0:o)).concat(c.slice(o+1)).concat(c.slice(o,o+1)),r=f-1):(n=[].concat(c.slice(0,0===o?0:o)).concat(c.slice(o+1,o+2)).concat(c.slice(o,o+1)).concat(c.slice(o+2)),r=o+1),Object(s.a)({},e,{layerSelectIdx:r,layerData:n}))})),Object(u.a)(tt,"dot/MOVE_DOWN_LAYER",(function(e,t){var n,r,a=t.payload,f=e.layerSelectIdx,o=e.layerData;return 0===f?Object(s.a)({},e):(a?(n=[].concat(o.slice(f,f+1)).concat(o.slice(0,f)).concat(o.slice(f+1)),r=0):(n=[].concat(o.slice(0,f-1)).concat(o.slice(f,f+1)).concat(o.slice(f-1,f)).concat(o.slice(f+1)),r=f-1),Object(s.a)({},e,{layerSelectIdx:r,layerData:n}))})),Object(u.a)(tt,"dot/SELECT_LAYER_IDX",(function(e,t){var n=t.payload;return Object(s.a)({},e,{layerSelectIdx:n})})),Object(u.a)(tt,"dot/RENAME_LAYER",(function(e,t){var n=t.payload;return Object(s.a)({},e,{layerData:e.layerData.map((function(t,r){return r===e.layerSelectIdx?Object(s.a)({},t,{layerName:n}):Object(s.a)({},t)}))})})),tt),zt),Ht=function(e){var t=e.dot,n=Object(i.c)(),f=Object(r.useCallback)((function(e){n(At(e))}),[n]),o=Object(r.useCallback)((function(e){n(It(e))}),[n]);return a.a.createElement(ot,{dotFrameList:t.dotFrameList,activeIdx:t.activeIdx,rowCount:t.rowCount,columnCount:t.columnCount,animationDuration:t.animationDuration,pixelSize:t.pixelSize,layerData:t.layerData,handleChangeAnimationDuration:f,handleChangePixelSize:o})},Mt=n(62),Gt=n.n(Mt);function Ut(){var e=Object(ve.a)(["\n  background: #9e9e9e;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 1.5rem;\n  height: 1.5rem;\n  font-size: 1rem;\n  color: #f0f0f0;\n  &:hover {\n    background: #6e6e6e;\n    color: #fff;\n  }\n"]);return Ut=function(){return e},e}function Wt(){var e=Object(ve.a)(["\n  height: fit-content;\n  background: rgb(255, 255, 255);\n  opacity: 1;\n  border: solid 1px black;\n  box-sizing: border-box;\n  display: flex;\n  cursor: pointer;\n"]);return Wt=function(){return e},e}function Bt(){var e=Object(ve.a)(["\n  width: ","px;\n  height: ","px;\n"]);return Bt=function(){return e},e}function Vt(){var e=Object(ve.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  & > * {\n    margin: 8px;\n  }\n  overflow: auto;\n"]);return Vt=function(){return e},e}function Yt(){var e=Object(ve.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  margin-bottom: 8px;\n  & > * {\n    margin: 8px;\n    max-width: 160px;\n  }\n"]);return Yt=function(){return e},e}function Kt(){var e=Object(ve.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  height: 100%;\n"]);return Kt=function(){return e},e}var Zt=ke.b.div(Kt()),Jt=ke.b.div(Yt()),Xt=ke.b.div(Vt()),qt=ke.b.div(Bt(),(function(e){return e.columnCount*e.size}),(function(e){return e.rowCount*e.size})),$t=ke.b.div(Wt()),Qt=ke.b.div(Ut()),en=function(e){var t=e.loadedData,n=e.removeDotArtHandle,r=e.loadDotArtHandle,f=e.clearStorageHandler;return a.a.createElement(Zt,null,a.a.createElement(Jt,null,a.a.createElement(We,{width:"100",height:"50",onClick:f},"Clear storage!")),a.a.createElement(Xt,null,t&&0!==t.dotArt.length?t.dotArt.map((function(e,t){return console.log(e),console.log(e.dot),a.a.createElement($t,{key:e.dot.id,onClick:function(){return r(e)}},a.a.createElement(qt,{size:"4",columnCount:e.dot.columnCount,rowCount:e.dot.rowCount,key:e.dot.id},a.a.createElement(Pe,{dotList:Je(e.dot.dotFrameList,e.dot.layerData),column:e.dot.columnCount,size:"4",duration:e.dot.animationDuration,key:e.dot.id,animation:!0})),a.a.createElement(Qt,{onClick:function(e){return function(e,t){t.stopPropagation(),n(e)}(t,e)}},a.a.createElement(Gt.a,null)))})):a.a.createElement("h1",null,"No Save Data")))},tn={id:"example-cat",dotFrameList:[{id:De.a.generate(),layerList:[[["#303f46","#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#303f46","#303f46","#303f46","#303f46","#ffffff","#303f46","#303f46","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffcdd2","#ffffff","#303f46","#303f46","#ffffff","#ffcdd2","#ffffff","#303f46","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffcdd2","#ffcdd2","#ffffff","#ffffff","#ffcdd2","#ffcdd2","#ffffff","#303f46","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffcdd2","#ffffff","#ffffff","#ffffff","#ffffff","#ffcdd2","#ffffff","#303f46","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#303f46","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#000000","#ffffff","#ffffff","#000000","#ffffff","#ffffff","#ffffff","#303f46","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#000000","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#303f46","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#303f46","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#303f46","#303f46","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#303f46","#303f46","#ffffff","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#303f46","#303f46","#303f46","#ffffff","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#303f46","#303f46","#ffffff","#303f46"],["#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#303f46","#303f46","#ffffff","#303f46"],["#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#303f46","#ffffff","#ffffff","#303f46"],["#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#303f46","#303f46"],["#607d8b","#607d8b","#607d8b","#607d8b","#607d8b","#ffffff","#ffffff","#607d8b","#607d8b","#607d8b","#ffffff","#ffffff","#607d8b","#607d8b","#607d8b","#607d8b"]]],interval:25},{id:De.a.generate(),layerList:[[["#303f46","#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#303f46","#303f46","#303f46","#303f46","#ffffff","#303f46","#303f46","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffcdd2","#ffffff","#303f46","#303f46","#ffffff","#ffcdd2","#ffffff","#303f46","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffcdd2","#ffcdd2","#ffffff","#ffffff","#ffcdd2","#ffcdd2","#ffffff","#303f46","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffcdd2","#ffffff","#ffffff","#ffffff","#ffffff","#ffcdd2","#ffffff","#303f46","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#303f46","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#000000","#ffffff","#ffffff","#000000","#ffffff","#ffffff","#303f46","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#000000","#ffffff","#ffffff","#ffffff","#303f46","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#303f46","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#303f46","#303f46","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#303f46","#303f46","#ffffff","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#303f46","#303f46","#303f46","#ffffff","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#303f46","#303f46","#ffffff","#303f46"],["#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#303f46","#303f46","#ffffff","#303f46"],["#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#303f46","#ffffff","#ffffff","#303f46"],["#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#303f46","#303f46"],["#607d8b","#607d8b","#607d8b","#607d8b","#607d8b","#ffffff","#ffffff","#607d8b","#607d8b","#607d8b","#ffffff","#ffffff","#607d8b","#607d8b","#607d8b","#607d8b"]]],interval:50},{id:De.a.generate(),layerList:[[["#303f46","#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#303f46","#303f46","#303f46","#303f46","#ffffff","#303f46","#303f46","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffcdd2","#ffffff","#303f46","#303f46","#ffffff","#ffcdd2","#ffffff","#303f46","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffcdd2","#ffcdd2","#ffffff","#ffffff","#ffcdd2","#ffcdd2","#ffffff","#303f46","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffcdd2","#ffffff","#ffffff","#ffffff","#ffffff","#ffcdd2","#ffffff","#303f46","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#303f46","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#000000","#ffffff","#ffffff","#000000","#ffffff","#ffffff","#303f46","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#000000","#ffffff","#ffffff","#ffffff","#303f46","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#303f46","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#303f46","#303f46","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#303f46","#303f46","#303f46","#303f46","#ffffff"],["#303f46","#303f46","#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#303f46","#303f46","#303f46","#ffffff","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#303f46","#303f46","#ffffff","#303f46"],["#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#303f46","#303f46","#ffffff","#303f46"],["#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#303f46","#ffffff","#ffffff","#303f46"],["#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#303f46","#303f46"],["#607d8b","#607d8b","#607d8b","#607d8b","#607d8b","#ffffff","#ffffff","#607d8b","#607d8b","#607d8b","#ffffff","#ffffff","#607d8b","#607d8b","#607d8b","#607d8b"]]],interval:75},{id:De.a.generate(),layerList:[[["#303f46","#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#303f46","#303f46","#303f46","#303f46","#ffffff","#303f46","#303f46","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffcdd2","#ffffff","#303f46","#303f46","#ffffff","#ffcdd2","#ffffff","#303f46","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffcdd2","#ffcdd2","#ffffff","#ffffff","#ffcdd2","#ffcdd2","#ffffff","#303f46","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffcdd2","#ffffff","#ffffff","#ffffff","#ffffff","#ffcdd2","#ffffff","#303f46","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#303f46","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#000000","#ffffff","#ffffff","#000000","#ffffff","#ffffff","#303f46","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#000000","#ffffff","#ffffff","#ffffff","#303f46","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#303f46","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#303f46","#303f46","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#303f46","#303f46","#ffffff","#303f46","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#303f46","#303f46","#303f46","#ffffff","#303f46"],["#303f46","#303f46","#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#303f46","#303f46","#ffffff","#303f46"],["#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#303f46","#303f46","#ffffff","#303f46"],["#303f46","#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#303f46","#ffffff","#ffffff","#303f46"],["#303f46","#303f46","#303f46","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#303f46","#303f46"],["#607d8b","#607d8b","#607d8b","#607d8b","#607d8b","#ffffff","#ffffff","#607d8b","#607d8b","#607d8b","#ffffff","#ffffff","#607d8b","#607d8b","#607d8b","#607d8b"]]],interval:100}],layerData:[{layerName:"Layer 1",dotFrameIdx:0}],columnCount:16,rowCount:16,animationDuration:2},nn=[{id:De.a.generate(),colors:["#393b2d","#75651a","#775b1c","#788260","#bab887","#dfd6c5"]},{id:De.a.generate(),colors:["#4b73a4","#667883","#937e6a","#b89d80","#dadbd6","#faf9fb"]},{id:De.a.generate(),colors:["#03070a","#374552","#3c8999","#959ea7","#9ccce3","#b8cde0"]},{id:De.a.generate(),colors:["#171516","#303030","#553634","#92898c","#a70d01","#c4c2c3"]},{id:De.a.generate(),colors:["#1d0e0b","#393e54","#5e260d"]}];function rn(e){try{var t=e.getItem("dotArt_storage");return!!t&&JSON.parse(t)}catch(n){return!1}}function an(e,t){try{var n=function(e){try{var t=e.getItem("dotArt_palettes_storage");return!!t&&JSON.parse(t)}catch(n){return!1}}(e);return n?n.push(t):n=[t],e.setItem("dotArt_palettes_storage",JSON.stringify(n)),!0}catch(r){return!1}}function fn(e,t){var n=rn(e);if(n){var r=0;return n.dotArt.splice(t,1),0===n.dotArt.length?r=-1:n.current>t&&(r=n.current-1),n.current=r,function(e,t){try{return e.setItem("dotArt_storage",JSON.stringify(t)),!0}catch(n){return!1}}(e,n)}return!1}var on,cn,ln,un=n(67),dn=n(129),sn=Object(W.a)("palettes/LOAD_PALETTES",(function(e){return e})),bn=Object(W.a)("palettes/SELECT_LEFT_COLOR",(function(e){return{color:e.color,paletteId:e.paletteId,selectIdx:e.selectIdx}})),pn=Object(W.a)("palettes/SELECT_RIGHT_COLOR",(function(e){return{color:e.color}})),mn=Object(W.a)("palettes/SWAP_LEFT_RIGHT_COLOR"),On=Object(W.a)("palettes/REDORDER_PALETTES",(function(e){return{startIdx:e.startIdx,endIdx:e.endIdx}})),En=Object(W.a)("palettes/REORDER_PALETTE_CELL",(function(e){return{startPaletteId:e.startPaletteId,endPaletteId:e.endPaletteId,startIdx:e.startIdx,endIdx:e.endIdx}})),hn=Object(W.a)("palettes/MOVE_PALETTE_TO_TRASH_CAN",(function(e){return{dragIdx:e.dragIdx}})),vn=Object(W.a)("palettes/MOVE_CELL_TO_TRASH_CAN",(function(e){return{paletteId:e.paletteId,dragIdx:e.dragIdx}})),gn=Object(W.a)("palettes/MOVE_CELL_FROM_TRASH_CAN",(function(e){return{endPaletteId:e.endPaletteId,startIdx:e.startIdx,endIdx:e.endIdx}})),Cn=Object(W.a)("palettes/SELECT_COLOR_CELL",(function(e){return{paletteId:e.paletteId,selectIdx:e.selectIdx}})),jn=(Object(W.a)("palettes/INSERT_NEW_PALETTE"),Object(W.a)("palettes/MOVE_UP_PALETTE_CELL")),xn=Object(W.a)("palettes/MOVE_DOWN_PALETTE_CELL"),yn=Object(W.a)("palettes/MOVE_LEFT_PALETTE_CELL"),An=Object(W.a)("palettes/MOVE_RIGHT_PALETTE_CELL"),In={palettes:nn,selectColorId:{paletteId:nn[0].id,colorId:0},leftColor:"#000000",rightColor:"#ffffff",trashCan:[]},wn=function(e){return e.length<30?e:e.splice(0,30)},Sn=Object(B.a)((on={},Object(u.a)(on,"palettes/LOAD_PALETTES",(function(e,t){var n=t.payload;return Object(s.a)({},e,{palettes:Object(dn.a)(n),selectColorId:{paletteId:n[0].id,colorId:0}})})),Object(u.a)(on,"palettes/SELECT_LEFT_COLOR",(function(e,t){var n=t.payload,r=n.color,a=n.paletteId,f=n.selectIdx;return Object(s.a)({},e,{leftColor:r,selectColorId:{paletteId:a,colorId:f}})})),Object(u.a)(on,"palettes/SELECT_RIGHT_COLOR",(function(e,t){var n=t.payload.color;return Object(s.a)({},e,{rightColor:n})})),Object(u.a)(on,"palettes/SWAP_LEFT_RIGHT_COLOR",(function(e){return Object(s.a)({},e,{leftColor:e.rightColor,rightColor:e.leftColor})})),Object(u.a)(on,"palettes/REDORDER_PALETTES",(function(e,t){var n=t.payload,r=n.startIdx,a=n.endIdx;return Object(ct.b)(e,(function(e){var t=e.palettes.splice(r,1),n=Object(d.a)(t,1)[0];e.palettes.splice(a,0,n)}))})),Object(u.a)(on,"palettes/REORDER_PALETTE_CELL",(function(e,t){var n=t.payload,r=n.startPaletteId,a=n.endPaletteId,f=n.startIdx,o=n.endIdx;return Object(ct.b)(e,(function(e){if(r===a){var t=e.palettes.reduce((function(e,t,n){return t.id===a?n:e}),[]),n=e.palettes[t].colors.splice(f,1),c=Object(d.a)(n,1)[0];e.palettes[t].colors.splice(o,0,c)}else{var l=e.palettes.reduce((function(e,t){return t.id===r?t.colors.splice(f,1):e}),[]);e.palettes.map((function(e){return e.id===a?e.colors.splice(o,0,l):""}))}e.selectColorId={paletteId:a,colorId:o}}))})),Object(u.a)(on,"palettes/MOVE_PALETTE_TO_TRASH_CAN",(function(e,t){var n=t.payload.dragIdx;return Object(ct.b)(e,(function(e){var t=e.palettes.splice(n,1);if(t[0].colors.map((function(t){return e.trashCan.unshift(t)})),e.trashCan=wn(e.trashCan),t[0].id===e.selectColorId.paletteId)for(var r=0;r<e.palettes.length;r++)if(e.palettes[r].colors.length>0){e.selectColorId={paletteId:e.palettes[r].id,colorId:0};break}}))})),Object(u.a)(on,"palettes/MOVE_CELL_TO_TRASH_CAN",(function(e,t){var n=t.payload,r=n.paletteId,a=n.dragIdx;return Object(ct.b)(e,(function(e){var t=e.palettes.filter((function(e){return e.id===r})),n=t[0].colors.splice(a,1);if(e.trashCan.unshift(n[0]),e.trashCan=wn(e.trashCan),e.selectColorId.paletteId===r)if(e.selectColorId.colorId>a)e.selectColorId.colorId--;else if(t[0].colors.length<=0)for(var f=0;f<e.palettes.length;f++)if(e.palettes[f].colors.length>0){e.selectColorId={paletteId:e.palettes[f].id,colorId:0};break}}))})),Object(u.a)(on,"palettes/MOVE_CELL_FROM_TRASH_CAN",(function(e,t){var n=t.payload,r=n.endPaletteId,a=n.startIdx,f=n.endIdx;return Object(ct.b)(e,(function(e){var t=e.trashCan.splice(a,1);e.palettes.map((function(e){return e.id===r?e.colors.splice(f,0,t[0]):""})),e.selectColorId={paletteId:r,colorId:f}}))})),Object(u.a)(on,"palettes/SELECT_COLOR_CELL",(function(e,t){var n=t.payload,r=n.paletteId,a=n.selectIdx;return Object(s.a)({},e,{selectColorId:{paletteId:r,colorId:a}})})),Object(u.a)(on,"palettes/MOVE_UP_PALETTE_CELL",(function(e){return Object(ct.b)(e,(function(e){var t=e.selectColorId.paletteId,n=e.palettes.findIndex((function(e){return e.id===t}));n>0&&e.palettes[n-1].colors.length>0&&(e.palettes[n-1].colors.length-1>=e.selectColorId.colorId?e.selectColorId={paletteId:e.palettes[n-1].id,colorId:e.selectColorId.colorId}:e.selectColorId={paletteId:e.palettes[n-1].id,colorId:e.palettes[n-1].colors.length-1}),e.leftColor=e.palettes.filter((function(t){return t.id===e.selectColorId.paletteId}))[0].colors[e.selectColorId.colorId]}))})),Object(u.a)(on,"palettes/MOVE_DOWN_PALETTE_CELL",(function(e){return Object(ct.b)(e,(function(e){var t=e.selectColorId.paletteId,n=e.palettes.findIndex((function(e){return e.id===t}));n<e.palettes.length-1&&e.palettes[n+1].colors.length>0&&(e.palettes[n+1].colors.length-1>=e.selectColorId.colorId?e.selectColorId={paletteId:e.palettes[n+1].id,colorId:e.selectColorId.colorId}:e.selectColorId={paletteId:e.palettes[n+1].id,colorId:e.palettes[n+1].colors.length-1}),e.leftColor=e.palettes.filter((function(t){return t.id===e.selectColorId.paletteId}))[0].colors[e.selectColorId.colorId]}))})),Object(u.a)(on,"palettes/MOVE_LEFT_PALETTE_CELL",(function(e){return Object(ct.b)(e,(function(e){e.selectColorId={paletteId:e.selectColorId.paletteId,colorId:e.selectColorId.colorId<=0?e.selectColorId.colorId:e.selectColorId.colorId-1},e.leftColor=e.palettes.filter((function(t){return t.id===e.selectColorId.paletteId}))[0].colors[e.selectColorId.colorId]}))})),Object(u.a)(on,"palettes/MOVE_RIGHT_PALETTE_CELL",(function(e){return Object(ct.b)(e,(function(e){var t=e.selectColorId.paletteId;e.palettes.filter((function(e){return e.id===t}))[0].colors.length-1>e.selectColorId.colorId&&e.selectColorId.colorId++,e.leftColor=e.palettes.filter((function(t){return t.id===e.selectColorId.paletteId}))[0].colors[e.selectColorId.colorId]}))})),on),In),Ln=Object(W.a)("dialog/CHANGE_TYPE_AND_OPEN",(function(e){return e})),Tn=Object(W.a)("dialog/CLOSE_DIALOG"),kn=Object(B.a)((cn={},Object(u.a)(cn,"dialog/CHANGE_TYPE_AND_OPEN",(function(e,t){var n=t.payload;return Object(s.a)({},e,{dialogType:n,open:!0})})),Object(u.a)(cn,"dialog/CLOSE_DIALOG",(function(e){return Object(s.a)({},e,{open:!1})})),cn),{dialogType:"",open:!1}),_n=Object(W.a)("observer/CHANGE_TYPING_STATE",(function(e){return e})),Dn=Object(W.a)("observer/MOUSE_LEAVES_PAINT_AREA"),Rn=Object(W.a)("observer/CHANGE_DOT_BORDER_SIZE",(function(e){return e})),Nn=Object(W.a)("observer/CHANGE_DOT_BORDER_COLOR",(function(e){return e})),Pn=Object(W.a)("observer/INCREASE_DOT_SIZE"),zn=Object(W.a)("observer/DECREASE_DOT_SIZE"),Fn=Object(W.a)("observer/CHANGE_DOT_SIZE",(function(e){return e})),Hn=Object(W.a)("observer/ALT_DOWN",(function(e){return e})),Mn=Object(W.a)("observer/SHIFT_DOWN",(function(e){return e})),Gn=Object(W.a)("observer/LOAD_DATA",(function(e){return e})),Un=Object(W.a)("observer/CHANGE_SHOW_LAYERS"),Wn=Object(B.a)((ln={},Object(u.a)(ln,"observer/CHANGE_TYPING_STATE",(function(e,t){var n=t.payload;return Object(s.a)({},e,{isTyping:n})})),Object(u.a)(ln,"observer/MOUSE_LEAVES_PAINT_AREA",(function(e){return Object(s.a)({},e,{mousePosition:{x:"",y:""}})})),Object(u.a)(ln,"observer/CHANGE_DOT_BORDER_SIZE",(function(e,t){var n=t.payload;return Object(s.a)({},e,{dotBorder:Object(s.a)({},e.dotBorder,{size:n})})})),Object(u.a)(ln,"observer/CHANGE_DOT_BORDER_COLOR",(function(e,t){var n=t.payload;return Object(s.a)({},e,{dotBorder:Object(s.a)({},e.dotBorder,{color:n})})})),Object(u.a)(ln,"observer/INCREASE_DOT_SIZE",(function(e){return Object(s.a)({},e,{dotSize:e.dotSize<101?e.dotSize+4:e.dotSize})})),Object(u.a)(ln,"observer/DECREASE_DOT_SIZE",(function(e){return Object(s.a)({},e,{dotSize:e.dotSize>4?e.dotSize-4:e.dotSize})})),Object(u.a)(ln,"observer/CHANGE_DOT_SIZE",(function(e,t){var n=t.payload;return Object(s.a)({},e,{dotSize:n})})),Object(u.a)(ln,"observer/ALT_DOWN",(function(e,t){var n=t.payload;return Object(s.a)({},e,{altDown:n})})),Object(u.a)(ln,"observer/SHIFT_DOWN",(function(e,t){var n=t.payload;return Object(s.a)({},e,{shiftDown:n})})),Object(u.a)(ln,"observer/LOAD_DATA",(function(e,t){var n=t.payload;return Object(s.a)({},e,{},n)})),Object(u.a)(ln,"observer/CHANGE_SHOW_LAYERS",(function(e){return Object(s.a)({},e,{showLayers:!e.showLayers})})),ln),{isTyping:!1,mousePosition:{x:"",y:""},startPosition:{x:"",y:""},dotSize:32,dotBorder:{size:.5,color:"#000000"},showLayers:!0,altDown:!1,shiftDown:!1}),Bn=function(){var e=Object(i.c)(),t=Object(un.b)().enqueueSnackbar,n=Object(r.useState)(rn(localStorage)),f=Object(d.a)(n,2),o=f[0],c=f[1],l=Object(r.useCallback)((function(n){e(mt(n.dot)),e(sn(n.palettes)),e(Gn(n.observer)),e(Tn()),t("Load DotArt From LocalStorage",{variant:"success"})}),[e,t]);return a.a.createElement(en,{loadedData:o,removeDotArtHandle:function(e){fn(localStorage,e),c(rn(localStorage))},loadDotArtHandle:l,clearStorageHandler:function(){localStorage.removeItem("dotArt_storage"),c(rn(localStorage)),t("Clear DotArt From LocalStorage",{variant:"success"})}})};function Vn(){var e=Object(ve.a)(["\n  margin-top: 0.5em;\n  width: 100%;\n  padding: 1em 0.5em 0;\n  text-align: left;\n  display: block;\n  resize: none;\n  height: 20em;\n  background: #089cd9;\n  font-weight: bold;\n  font-size: 15px;\n  color: white;\n"]);return Vn=function(){return e},e}function Yn(){var e=Object(ve.a)(["\n  width: 100%;\n"]);return Yn=function(){return e},e}function Kn(){var e=Object(ve.a)([""]);return Kn=function(){return e},e}function Zn(){var e=Object(ve.a)(["\n  overflow: auto;\n  max-width: 100%;\n  max-height: 100%;\n  border: 1px solid #9e9e9e;\n  margin-bottom: 16px;\n"]);return Zn=function(){return e},e}function Jn(){var e=Object(ve.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  margin-bottom: 8px;\n  & > * {\n    margin: 8px;\n    height: 40px;\n    width: 80px;\n  }\n"]);return Jn=function(){return e},e}function Xn(){var e=Object(ve.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  height: 100%;\n"]);return Xn=function(){return e},e}var qn=ke.b.div(Xn()),$n=ke.b.div(Jn()),Qn=ke.b.div(Zn()),er=ke.b.div.attrs((function(e){var t=e.pixelSize,n=e.columnCount,r=e.rowCount;return{style:{width:"".concat(n*t,"px"),height:"".concat(r*t,"px")}}}))(Kn()),tr=ke.b.div(Yn()),nr=ke.b.textarea(Vn()),rr=function(e){var t,n,f,o=e.dot,c=e.dialogType,l=e.saveFileHandler,i=Object(un.b)().enqueueSnackbar,u=Object(r.useState)(""),s=Object(d.a)(u,2),b=s[0],p=s[1],m=Object(r.useState)("single"),O=Object(d.a)(m,2),E=O[0],h=O[1],v=Object(r.useRef)(null),g=o.dotFrameList,C=o.layerData,j=o.columnCount,x=o.rowCount,y=o.activeIdx,A=o.pixelSize,I=o.animationDuration;return Object(r.useEffect)((function(){p(c)}),[c]),a.a.createElement(qn,null,a.a.createElement($n,null,a.a.createElement(We,{selected:"single"===E,onClick:function(){return h("single")}},"single"),a.a.createElement(We,{selected:"gif"===E,onClick:function(){return h("gif")}},"gif"),"DownLoad"===b&&a.a.createElement(We,{selected:"spritesheet"===E,onClick:function(){return h("spritesheet")}},"sprite")),a.a.createElement(Qn,null,a.a.createElement(er,{pixelSize:A,columnCount:j,rowCount:x},a.a.createElement(Pe,{dotSet:Ze(g[y].layerList,C),dotList:Je(g,C),column:j,size:A,animation:"gif"===E,duration:I}))),"DownLoad"===b&&a.a.createElement(We,{baseColor:"#0f0f0f",width:"160",onClick:function(){return l(E)}},"download!"),"Css"===b&&a.a.createElement(tr,null,a.a.createElement(We,{width:"240",height:"40",onClick:function(e){v.current.select(),document.execCommand("copy"),e.target.focus(),i("Copy Success!",{variant:"success"})}},"Copy To ClipBoard"),a.a.createElement(nr,{ref:v,value:"single"===E?(t=Ze(g[y].layerList,C),n=j,f=A,Le(t,{format:"string",pSize:f,c:n,cssClassName:"dotArt-to-css"})):Ie(Je(g,C),j,A,I),readOnly:!0})))},ar=n(240),fr=n.n(ar),or=n(241),cr=n.n(or),lr=n(242);function ir(e,t){var n=t.dotArt,r=t.cols,a=t.pixelSize,f=t.dotArtHeight,o=t.dotArtIdx,c=e;return n.layer.flat().forEach((function(e,t){if(e){c.fillStyle=e;var n=t%r,l=Math.floor(t/r);c.fillRect(n*a,l*a+f*o,a,a)}})),c}function ur(e,t,n,r){var a=t.canvas,f=t.canvasHeight,o=t.canvasWidth,c=n.dotArt,l=n.dotArtHeight,i=n.dotArtWidth,u=n.pixelSize,d=Math.floor(i/u),s=a.getContext("2d");switch(s.canvas.width=o,s.canvas.height=f,e){case"spritesheet":r.forEach((function(e,t){s=ir(s,{dotArt:e,cols:d,pixelSize:u,dotArtHeight:l,dotArtIdx:t})}));break;default:s=ir(s,{dotArt:c,cols:d,pixelSize:u,dotArtHeight:l,dotArtIdx:0})}return s.getImageData(0,0,o,f).data}var dr=function(e,t){Object(lr.saveAs)(e,"".concat(Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,8),".").concat(t))},sr=function(e,t){var n=t.dotFrameList,r=t.layerData,a=t.columnCount,f=t.rowCount,o=t.animationDuration,c=t.activeIdx,l=t.pixelSize,i=Je(n,r),u=1e3*o,d=a*l,s=f*l,b=d,p="spritesheet"===e?s*i.length:s,m=document.createElement("canvas"),O=new fr.a(b,p);switch(O.pipe(cr()()).on("finish",(function(){dr(this.toBlob(),"gif")})),O.setRepeat(0),O.setDispose(3),O.writeHeader(),e){case"single":case"spritesheet":ur(e,{canvas:m,canvasHeight:p,canvasWidth:b},{dotArt:i[c],dotArtHeight:s,dotArtWidth:d,pixelSize:l},i),m.toBlob((function(e){dr(e,"png")}));break;default:var E=0;i.forEach((function(t,n,r){var a=n===r.length-1?100:i[n].interval,f=.01*(a-E)*u;O.setDelay(f),E=a,O.addFrame(ur(e,{canvas:m,canvasHeight:p,canvasWidth:b},{dotArt:t,dotArtHeight:s,dotArtWidth:d,pixelSize:l}))})),O.finish()}},br=function(e){var t=e.dot,n=e.dialogType;return a.a.createElement(rr,{dot:t,dialogType:n,saveFileHandler:function(e){sr(e,t)}})};function pr(){var e=Object(ve.a)(["\n  color: black;\n  font-size: 16px;\n  margin-left: 8px;\n  line-height: 30px;\n"]);return pr=function(){return e},e}function mr(){var e=Object(ve.a)(["\n  width: fit-content;\n  padding: 0px 8px;\n  font-size: 1.5rem;\n  color: #87ceeb;\n  border: 3px solid #87ceeb;\n  border-radius: 4px;\n  font-weight: bold;\n  font-family: monospace;\n  text-align: center;\n  line-height: 24px;\n"]);return mr=function(){return e},e}function Or(){var e=Object(ve.a)(["\n  width: 100%;\n  margin: 4px 0px;\n  display: flex;\n"]);return Or=function(){return e},e}function Er(){var e=Object(ve.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  overflow: auto;\n"]);return Er=function(){return e},e}var hr=ke.b.div(Er()),vr=ke.b.div(Or()),gr=ke.b.div(mr()),Cr=ke.b.span(pr()),jr=function(e){var t=e.keySet;return a.a.createElement(hr,null,t.map((function(e){return a.a.createElement(vr,{key:e.action},a.a.createElement(gr,{key:e.action},e.key),a.a.createElement(Cr,null,e.helpText))})))},xr=function(){var e=Object(i.d)((function(e){return{keySet:e.keybind.keySet}})).keySet;return a.a.createElement(jr,{keySet:e})},yr=n(564),Ar=Object(S.a)((function(e){return{closeButton:{marginRight:e.spacing(1)}}})),Ir=Object(ge.a)((function(e){return{paperScrollPaper:{height:"calc(100% - 64px)"}}}))(yr.a),wr=Object(ge.a)((function(e){return{root:{overflow:"hidden",height:"100%"}}}))(Ce.a),Sr=function(e){var t=e.dialogType,n=e.open,r=e.handleCloseDialog,f=Ar(),o=Object(i.d)((function(e){return{dot:e.dotArt.present.dot}})).dot,c=function(){r()};return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ir,{open:n,fullWidth:!0,maxWidth:"xl",onClose:c},a.a.createElement(je.a,null,a.a.createElement(v.a,{color:"inherit",onClick:c,size:"small",className:f.closeButton},a.a.createElement(ye.a,null)),t),a.a.createElement(wr,{dividers:!0},n&&function(){switch(t){case"Preview":return a.a.createElement(Ht,{dot:o});case"DownLoad":return a.a.createElement(br,{dot:o,dialogType:t});case"Load":return a.a.createElement(Bn,null);case"Css":return a.a.createElement(br,{dot:o,dialogType:t});case"Palettes":return a.a.createElement("div",null,"a");case"KeyBind":return a.a.createElement(xr,null);default:return null}}())))},Lr=a.a.memo((function(){var e=Object(i.c)(),t=Object(i.d)((function(e){var t=e.dialog;return{dialogType:t.dialogType,open:t.open}})),n=t.dialogType,f=t.open,o=Object(r.useCallback)((function(){e(Tn())}),[e]);return f&&a.a.createElement(Sr,{dialogType:n,open:f,handleCloseDialog:o})})),Tr=n(161),kr=n.n(Tr),_r=n(29),Dr=n(86),Rr=n.n(Dr);function Nr(){var e=Object(ve.a)(["\n      border-top: solid 3px #b22222;\n    "]);return Nr=function(){return e},e}function Pr(){var e=Object(ve.a)(["\n  padding: 0px;\n  margin: 0px;\n  border: none;\n  outline: none;\n  border-top: solid 3px black;\n  ","\n  width: 96px;\n  height: 19px;\n  font-size: 16px;\n  font-weight: bold;\n  background: rgba(0, 0, 0, 1);\n  text-align: center;\n  color: white;\n  &:focus {\n    background: rgba(230, 230, 230, 1);\n    color: rgba(0, 0, 0, 0.7);\n  }\n  -moz-appearance: textfield;\n  &::-webkit-outer-spin-button,\n  &::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n"]);return Pr=function(){return e},e}function zr(){var e=Object(ve.a)(["\n      &:hover {\n        background: #6e6e6e;\n        color: #fff;\n      }\n    "]);return zr=function(){return e},e}function Fr(){var e=Object(ve.a)(["\n  background: #9e9e9e;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 1.5rem;\n  height: 1.5rem;\n  font-size: 1rem;\n  color: #f0f0f0;\n  ","\n"]);return Fr=function(){return e},e}function Hr(){var e=Object(ve.a)(["\n          height: 96px;\n        "]);return Hr=function(){return e},e}function Mr(){var e=Object(ve.a)(["\n          width: 96px;\n        "]);return Mr=function(){return e},e}function Gr(){var e=Object(ve.a)(["\n  background-image: url(",");\n  width: ",";\n  height: ",";\n  ","\n"]);return Gr=function(){return e},e}function Ur(){var e=Object(ve.a)(["\n  width: 96px;\n  height: 96px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return Ur=function(){return e},e}function Wr(){var e=Object(ve.a)(["\n      opacity: 1;\n      border: solid 3px #b22222;\n    "]);return Wr=function(){return e},e}function Br(){var e=Object(ve.a)(["\n  position: relative;\n  outline: none;\n  opacity: 0.6;\n  border-radius: 0.3rem;\n  border: solid 3px black;\n  box-sizing: border-box;\n  cursor: pointer;\n  ","\n"]);return Br=function(){return e},e}function Vr(){var e=Object(ve.a)(["\n  background: orange;\n  color: black;\n  text-align: center;\n  width: 16px;\n  height: 16px;\n  position: absolute;\n  z-index: 2;\n  font-weight: 900;\n  font-size: 12px;\n"]);return Vr=function(){return e},e}function Yr(){var e=Object(ve.a)(["\n  left: 72px;\n  position: absolute;\n  width: 16px;\n  margin: 0px;\n  padding: 0px;\n  & > * + * {\n    margin-top: 48px;\n  }\n  z-index: 2;\n"]);return Yr=function(){return e},e}var Kr=ke.b.div(Yr()),Zr=ke.b.div(Vr()),Jr=ke.b.div(Br(),(function(e){return e.active&&Object(ke.a)(Wr())})),Xr=ke.b.div(Ur()),qr=ke.b.div(Gr(),Rr.a,(function(e){return"".concat(e.columnCount*e.pixelSize,"px")}),(function(e){return"".concat(e.rowCount*e.pixelSize,"px")}),(function(e){return e.columnCount>e.rowCount?Object(ke.a)(Mr()):Object(ke.a)(Hr())})),$r=ke.b.div(Fr(),(function(e){return!e.disabled&&Object(ke.a)(zr())})),Qr=ke.b.input(Pr(),(function(e){return e.active&&Object(ke.a)(Nr())})),ea=a.a.memo((function(e){var t=e.active,n=e.idx,f=e.dot,o=e.columnCount,c=e.rowCount,l=e.interval,i=e.handleChangeIdx,u=e.handleCopyDotArt,s=e.handleRemoveDotArt,b=e.handleChangeInterval,p=e.lastIndex,m=Object(r.useState)(l),O=Object(d.a)(m,2),E=O[0],h=O[1],v=Object(r.useState)(),g=Object(d.a)(v,2),C=g[0],j=g[1];Object(r.useEffect)((function(){h(l)}),[l]),Object(r.useEffect)((function(){var e=Math.floor(o>c?96/o:96/c);e!==C&&(j(e),0===e&&j(1))}),[c,o]);var x=function(e){h(e.target.value)},y=Object(r.useCallback)((function(e){0!==e.target.value.length?(h(l),b(Math.round(100*e.target.value)/100,n)):h(l)}),[b,n,l]);return!0===t?a.a.createElement(_r.b,{key:n,draggableId:"dotArt-".concat(n),index:n},(function(e){return a.a.createElement(Jr,Object.assign({active:!0,ref:e.innerRef},e.draggableProps,e.dragHandleProps),a.a.createElement(Zr,null,n+1),a.a.createElement(Kr,null,a.a.createElement($r,{onClick:s},a.a.createElement(Gt.a,{fontSize:"inherit"})),a.a.createElement($r,{onClick:u},a.a.createElement(kr.a,{fontSize:"inherit"}))),a.a.createElement(Xr,null,a.a.createElement(qr,{columnCount:o,rowCount:c,pixelSize:C},a.a.createElement(Pe,{dotSet:f,column:o,size:C}))),a.a.createElement(Qr,{active:!0,value:E,type:"number",onChange:x,onBlur:function(e){return y(e)},disabled:p,step:"0.1"}))})):a.a.createElement(_r.b,{key:n,draggableId:"dotArt-".concat(n),index:n},(function(e){return a.a.createElement(Jr,Object.assign({active:!1,onClick:function(){return i(n)},ref:e.innerRef},e.draggableProps,e.dragHandleProps),a.a.createElement(Zr,null,n+1),a.a.createElement(Kr,null,a.a.createElement($r,{disabled:!0},a.a.createElement(Gt.a,{fontSize:"inherit"})),a.a.createElement($r,{disabled:!0},a.a.createElement(kr.a,{fontSize:"inherit"}))),a.a.createElement(Xr,null,a.a.createElement(qr,{columnCount:o,rowCount:c,pixelSize:C},a.a.createElement(Pe,{dotSet:f,column:o,size:C}))),a.a.createElement(Qr,{value:l,disabled:!0}))}))})),ta=n(244),na=n.n(ta);function ra(){var e=Object(ve.a)(["\n  font-size: 16px;\n"]);return ra=function(){return e},e}function aa(){var e=Object(ve.a)(["\n  background: rgba(0, 0, 0, 0.3);\n  border-radius: 0.5rem;\n  width: auto;\n  height: 100%;\n  margin: 0px 8px;\n  flex-wrap: nowrap;\n  overflow: auto;\n  position: sticky;\n  & > *:not(:last-child) {\n    width: 102px;\n    min-width: 102px;\n    height: 121px;\n  }\n  & > * {\n    margin: 8px;\n  }\n  &::-webkit-scrollbar {\n    width: 8px;\n  }\n  &::-webkit-scrollbar-track {\n    background: #f1f1f1;\n  }\n  &::-webkit-scrollbar-thumb {\n    background: #888;\n  }\n  &::-webkit-scrollbar-thumb:hover {\n    background: #555;\n  }\n"]);return aa=function(){return e},e}function fa(){var e=Object(ve.a)(["\n  max-height: 90vh;\n  width: fit-content;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return fa=function(){return e},e}var oa=ke.b.div(fa()),ca=ke.b.div(aa()),la=ke.b.span(ra()),ia=a.a.memo((function(e){var t=e.dotFrameList,n=e.activeIdx,r=e.layerIdx,f=e.columnCount,o=e.rowCount,c=e.handleChangeIdx,l=e.handleRemoveDotArt,i=e.handleCopyDotArt,u=e.handleAddDotArt,d=e.handleChangeInterval,s=e.handleReorderDotList;return a.a.createElement(oa,null,a.a.createElement(_r.a,{onDragEnd:function(e){e.destination&&"dotList"===e.type&&s(e.source.index,e.destination.index)}},a.a.createElement(_r.c,{droppableId:"dotList",type:"dotList"},(function(e){return a.a.createElement(ca,Object.assign({ref:e.innerRef},e.droppableProps),t&&t.map((function(e,u){return a.a.createElement(ea,{active:n===u,idx:u,key:e.id,dot:e.layerList[r],interval:e.interval,columnCount:f,rowCount:o,handleCopyDotArt:i,handleRemoveDotArt:l,handleChangeInterval:d,handleChangeIdx:c,lastIndex:t.length-1===u})})),e.placeholder,a.a.createElement(We,{width:"96",height:"50",onClick:function(){return u()}},a.a.createElement(na.a,null),a.a.createElement(la,null,"Add new")))}))))})),ua=a.a.memo((function(){var e=Object(i.c)(),t=Object(i.d)((function(e){var t=e.dotArt.present.dot;return{dotList:t.dotList,dotFrameList:t.dotFrameList,activeIdx:t.activeIdx,layerIdx:t.layerData[t.layerSelectIdx].dotFrameIdx,columnCount:t.columnCount,rowCount:t.rowCount}})),n=t.dotFrameList,f=t.activeIdx,o=t.layerIdx,c=t.columnCount,l=t.rowCount,u=Object(r.useCallback)((function(t){e(gt(t))}),[e]),d=Object(r.useCallback)((function(){e(Ct())}),[e]),s=Object(r.useCallback)((function(){e(jt())}),[e]),b=Object(r.useCallback)((function(){e(xt())}),[e]),p=Object(r.useCallback)((function(t,n){e(yt(t,n))}),[e]),m=Object(r.useCallback)((function(t,n){e(wt({startIdx:t,endIdx:n}))}),[e]);return a.a.createElement(ia,{dotFrameList:n,activeIdx:f,layerIdx:o,columnCount:c,rowCount:l,handleChangeIdx:u,handleRemoveDotArt:d,handleCopyDotArt:s,handleAddDotArt:b,handleChangeInterval:p,handleReorderDotList:m})}));function da(){var e=Object(ve.a)(["\n  width: ",";\n  height: ",";\n  max-width: 200px;\n  max-height: 200px;\n  overflow: hidden;\n  border: 3px solid yellow;\n"]);return da=function(){return e},e}function sa(){var e=Object(ve.a)(["\n  background-image: url(",");\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 200px;\n  height: 200px;\n  border: 2px solid #9e9e9e;\n"]);return sa=function(){return e},e}var ba=ke.b.div(sa(),Rr.a),pa=ke.b.div(da(),(function(e){return e.zoomIn?"".concat(e.columnCount*e.pixelSize*2,"px"):"".concat(e.columnCount*e.pixelSize,"px")}),(function(e){return e.zoomIn?"".concat(e.rowCount*e.pixelSize*2,"px"):"".concat(e.rowCount*e.pixelSize,"px")})),ma=a.a.memo((function(e){var t=e.zoomIn,n=e.animation,f=e.animationDuration,o=Object(i.d)((function(e){var t=e.dotArt.present.dot;return{dotFrameList:t.dotFrameList,layerList:t.dotFrameList[t.activeIdx].layerList,rowCount:t.rowCount,columnCount:t.columnCount,layerData:t.layerData}})),c=o.dotFrameList,l=o.layerList,u=o.rowCount,s=o.columnCount,b=o.layerData,p=Object(r.useState)(),m=Object(d.a)(p,2),O=m[0],E=m[1],h=Object(r.useState)(),v=Object(d.a)(h,2),g=v[0],C=v[1];return Object(r.useEffect)((function(){E(Je(c,b))}),[n,c]),Object(r.useEffect)((function(){var e=Math.floor(s>u?100/s:100/u);e!==g&&(C(e),0===e&&C(1))}),[u,s]),a.a.createElement(ba,null,a.a.createElement(pa,{zoomIn:t,pixelSize:g,columnCount:s,rowCount:u},!n&&a.a.createElement(Pe,{dotSet:Ze(l,b),column:s,size:t?2*g:g}),n&&a.a.createElement(Pe,{dotList:O,column:s,size:t?2*g:g,animation:n,duration:f})))})),Oa=n(578);function Ea(){var e=Object(ve.a)(["\n  font-size: 12px;\n  line-height: 26px;\n  margin-right: 8px;\n  white-space: nowrap;\n"]);return Ea=function(){return e},e}function ha(){var e=Object(ve.a)(["\n  width: 100%;\n  height: 40px;\n  display: flex;\n  background: #afafaf;\n  padding: 8px;\n  font-size: 8px;\n"]);return ha=function(){return e},e}function va(){var e=Object(ve.a)(["\n  display: flex;\n  width: 100px;\n  height: 30px;\n"]);return va=function(){return e},e}var ga=ke.b.div(va()),Ca=ke.b.div(ha()),ja=ke.b.div(Ea()),xa=a.a.memo((function(e){var t=e.animationDuration,n=e.handleOpenDialog,f=e.handleChangeAnimationDuration,o=Object(r.useState)(!1),c=Object(d.a)(o,2),l=c[0],i=c[1],u=Object(r.useState)(!1),s=Object(d.a)(u,2),b=s[0],p=s[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(ma,{zoomIn:b,animation:l,animationDuration:t}),a.a.createElement(Ca,null,a.a.createElement(ja,null,"Duration ",t,"S"),a.a.createElement(Oa.a,{defaultValue:1,"aria-labelledby":"vertical-slider",valueLabelDisplay:"auto",step:1,color:"secondary",min:1,max:10,onChange:function(e,t){f(t)}})),a.a.createElement(ga,null,a.a.createElement(We,{onClick:function(){i(!l)},selected:l,selectColor:"#f05556",color:l?"#b71b2d":"#008000",baseColor:"#3db12a"},l?a.a.createElement(Be.d,null):a.a.createElement(Be.e,null)),a.a.createElement(We,{onClick:function(){p(!b)}},b?a.a.createElement(Be.c,null):a.a.createElement(Be.b,null)),a.a.createElement(We,{onClick:function(){return n("Preview")}},a.a.createElement(Be.a,null))))})),ya=a.a.memo((function(){var e=Object(i.c)(),t=Object(i.d)((function(e){return{animationDuration:e.dotArt.present.dot.animationDuration}})).animationDuration,n=Object(r.useCallback)((function(t){e(Ln(t))}),[e]),f=Object(r.useCallback)((function(t){e(At(t))}),[e]),o=Object(r.useCallback)((function(t){e(_n(t))}),[e]);return a.a.createElement(xa,{animationDuration:t,handleOpenDialog:n,handleChangeAnimationDuration:f,handleChangeTyping:o})})),Aa=function(e){var t=e.rowIdx,n=e.columnIdx,r=e.onMouseOverHandler;return a.a.createElement("div",{onMouseOver:function(e){return r(e,t,n)},onMouseDown:function(e){return r(e,t,n)}})},Ia=a.a.memo((function(e){var t=e.dotLineIdx,n=e.onMouseOverHandler,f=Object(i.d)((function(e){return{columnCount:e.dotArt.present.dot.columnCount}}),i.b).columnCount,o=Object(r.useCallback)((function(){for(var e=[],r=0;r<f;r++)e.push(a.a.createElement(Aa,{key:r,rowIdx:t,columnIdx:r,onMouseOverHandler:n}));return e}),[f,t,n]);return a.a.createElement("div",null,o())}));function wa(){var e=Object(ve.a)([""]);return wa=function(){return e},e}function Sa(){var e=Object(ve.a)([""]);return Sa=function(){return e},e}var La=ke.b.div(Sa()),Ta=ke.b.div(wa()),ka=a.a.memo((function(e){var t=e.layerList,n=e.fakeDotArt,r=e.columnCount,f=e.dotSize,o=e.layerIdx,c=e.selectedPaintTool,l=e.showLayers;return a.a.createElement(La,null,t.map((function(e,t){return t===o?a.a.createElement(Ta,{key:"selectLayer",id:"selectLayer"},c===lt&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Pe,{key:t,dotSet:e,column:r,size:f,zIndex:2,opacity:1}),a.a.createElement(Pe,{dotSet:n,column:r,size:f,zIndex:100})),c!==lt&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Pe,{dotSet:n,column:r,size:f,zIndex:2}))):l?a.a.createElement(Pe,{key:t,dotSet:e,column:r,size:f,zIndex:1,opacity:.8}):void 0})))})),_a=function(){var e=Object(i.d)((function(e){var t=e.dotArt.present.dot;return{layerList:t.dotFrameList[t.activeIdx].layerList,dotFrame:t.dotFrameList[t.activeIdx],layerIdx:t.layerData[t.layerSelectIdx].dotFrameIdx,fakeDotArt:t.fakeDotArt,columnCount:t.columnCount}})),t=e.layerList,n=e.dotFrame,r=e.layerIdx,f=e.fakeDotArt,o=e.columnCount,c=Object(i.d)((function(e){var t=e.observer;return{dotSize:t.dotSize,showLayers:t.showLayers}})),l=c.dotSize,u=c.showLayers,d=Object(i.d)((function(e){return{selectedPaintTool:e.paintTool.selectedPaintTool}})).selectedPaintTool;return a.a.createElement(ka,{layerList:t,dot:n.layerList[r],fakeDotArt:f,columnCount:o,dotSize:l,layerIdx:r,selectedPaintTool:d,showLayers:u})};function Da(){var e=Object(ve.a)(["\n  width: 240px;\n  height: 40px;\n"]);return Da=function(){return e},e}function Ra(){var e=Object(ve.a)(["\n          border: ","px solid ",";\n          width: ","px;\n          height: ","px;\n          min-width: ","px;\n          min-height: ","px;\n        "]);return Ra=function(){return e},e}function Na(){var e=Object(ve.a)(["\n      border: ","px solid ",";\n    "]);return Na=function(){return e},e}function Pa(){var e=Object(ve.a)(["\n  background-image: url(",");\n  display: inline-flex;\n  justify-content: flex-start;\n  flex-direction: column;\n  width: auto;\n  height: fit-content;\n  margin: 0 auto;\n  padding: 0;\n  box-sizing: border-box;\n  ",";\n  & > :nth-child(n + 2) {\n    display: flex;\n    & > * {\n      z-index: 99;\n      cursor: cell;\n      box-sizing: border-box;\n      :hover {\n        background: rgba(255, 255, 255, 0.2);\n      }\n      ",";\n    }\n  }\n"]);return Pa=function(){return e},e}function za(){var e=Object(ve.a)(["\n  display: flex;\n  box-sizing: border-box;\n  touch-action: none;\n  overflow: auto;\n  &::-webkit-scrollbar {\n    width: 8px;\n    height: 8px;\n  }\n  &::-webkit-scrollbar-track {\n    background: #f1f1f1;\n  }\n  &::-webkit-scrollbar-thumb {\n    background: #888;\n  }\n  &::-webkit-scrollbar-thumb:hover {\n    background: #555;\n  }\n"]);return za=function(){return e},e}function Fa(){var e=Object(ve.a)(["\n  width: 100%;\n  height: 90vh;\n  max-height: 90vh;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  overflow: hidden;\n  background: #afafaf;\n  padding: 16px;\n  margin-right: 8px;\n  // align-items: center;\n"]);return Fa=function(){return e},e}var Ha,Ma=ke.b.div(Fa()),Ga=ke.b.div(za()),Ua=ke.b.div(Pa(),Rr.a,(function(e){return e.border&&Object(ke.a)(Na(),e.border.size,e.border.color)}),(function(e){return e.border&&Object(ke.a)(Ra(),e.border.size,e.border.color,e.dotSize,e.dotSize,e.dotSize,e.dotSize)})),Wa=(ke.b.button(Da()),a.a.memo((function(e){var t=e.border,n=e.dotSize,f=e.rowCount,o=e.onWheelHandle,c=e.onChangePaintStateHandle,l=e.onDotActionHandle,i=e.onSetDirectionHandle,u=e.onLeavesPaintAreaHandle,d=Object(r.useCallback)((function(e){e.preventDefault(),1!==e.button&&(i(0===e.button?"LEFT":"RIGHT"),c("DRAGGING"))}),[c,i]),s=Object(r.useCallback)((function(e,t,n){e.preventDefault(),l(t,n)}),[l]),b=Object(r.useCallback)((function(){for(var e=[],t=0;t<f;t++)e.push(a.a.createElement(Ia,{key:t,dotLineIdx:t,onMouseDownHandler:d,onMouseOverHandler:s}));return e}),[f,d,s]);return a.a.createElement(Ma,{onWheel:function(e){return o(e)},onContextMenu:function(e){return e.preventDefault()}},a.a.createElement(Ga,{id:"paintBox"},a.a.createElement(Ua,{dotSize:n,border:t,onMouseLeave:u,onMouseDownCapture:d,onContextMenu:function(e){return e.preventDefault()}},a.a.createElement(_a,null),b())))}))),Ba=n(30),Va=U.a.mark(uf),Ya=te("auth/SIGNUP"),Ka=Object(d.a)(Ya,3),Za=Ka[0],Ja=Ka[1],Xa=Ka[2],qa=te("auth/LOGIN"),$a=Object(d.a)(qa,3),Qa=$a[0],ef=$a[1],tf=$a[2],nf=Object(W.a)("auth/CHANGE_FILED",(function(e){return{form:e.form,key:e.key,value:e.value}})),rf=Object(W.a)("auth/INITIALIZE_FORM",(function(e){return e})),af=Object(W.a)("auth/RESET_ERROR"),ff=Object(W.a)(Za,(function(e){return{username:e.username,password:e.password}})),of=Object(W.a)(Qa,(function(e){return{username:e.username,password:e.password}})),cf=ne(Za,(function(e){var t=e.username,n=e.password;return X.post("/api/auth/signup",{username:t,password:n})})),lf=ne(Qa,(function(e){var t=e.username,n=e.password;return X.post("/api/auth/login",{username:t,password:n})}));function uf(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.d)(Za,cf);case 2:return e.next=4,Object(V.d)(Qa,lf);case 4:case"end":return e.stop()}}),Va)}var df,sf={signup:{username:"",password:"",passwordConfirm:""},login:{username:"",password:""}},bf=Object(B.a)((Ha={},Object(u.a)(Ha,"auth/CHANGE_FILED",(function(e,t){var n=t.payload,r=n.form,a=n.key,f=n.value;return Object(ct.a)(e,(function(e){e[r][a]=f}))})),Object(u.a)(Ha,"auth/INITIALIZE_FORM",(function(e,t){var n=t.payload;return Object(s.a)({},e,Object(u.a)({authError:null},n,sf[n]))})),Object(u.a)(Ha,"auth/RESET_ERROR",(function(e){return Object(s.a)({},e,{authError:null})})),Object(u.a)(Ha,Ja,(function(e,t){var n=t.payload;return Object(s.a)({},e,{authError:null,auth:n})})),Object(u.a)(Ha,Xa,(function(e,t){var n=t.payload;return Object(s.a)({},e,{authError:n})})),Object(u.a)(Ha,ef,(function(e,t){var n=t.payload;return Object(s.a)({},e,{authError:null,auth:n})})),Object(u.a)(Ha,tf,(function(e,t){var n=t.payload;return Object(s.a)({},e,{authError:n})})),Ha),sf),pf=(Object(W.a)("keybind/CHANGE_KEY_BIND",(function(e){return{action:e.action,key:e.key}})),Object(s.a)({},{keySet:[{action:"DOT",key:"q",code:"KeyQ",helpText:"Pen tool"},{action:"BUCKET",key:"b",code:"KeyB",helpText:"Bucket tool"},{action:"PIKCER",key:"p",code:"KeyP",helpText:"Color picker tool"},{action:"ERASER",key:"e",code:"KeyE",helpText:"Eraser tool"},{action:"MOVE",key:"m",code:"KeyM",helpText:"Move tool"},{action:"SAMECOLOR",key:"a",code:"KeyA",helpText:"Bucket all same colors pixel"},{action:"SWAP",key:"x",code:"KeyX",helpText:"Swap first/second Color"},{action:"PALETTE_UP",key:"arrowUp",code:"ArrowUp",helpText:"Select palette move up"},{action:"PALETTE_DOWN",key:"arrowDown",code:"ArrowDown",helpText:"Select palette move down"},{action:"PALETTE_LEFT",key:"arrowLeft",code:"ArrowLeft",helpText:"Select palette move left"},{action:"PALETTE_RIGHT",key:"arrowRight",code:"ArrowRight",helpText:"Select palette move right"},{action:"UNDO",key:"ctrl + z",code:"$mod+KeyZ",helpText:"Undo"},{action:"REDO",key:"ctrl + shift + z",code:"$mod+Shift+KeyZ",helpText:"Redo"},{action:"INCREASE_COLUMN",key:"ctrl + arrowRight",code:"$mod+ArrowRight",helpText:"Column + 1"},{action:"DECREASE_COLUMN",key:"ctrl + arrowLeft",code:"$mod+ArrowLeft",helpText:"Column - 1"},{action:"INCREASE_ROW",key:"ctrl + arrowDown",code:"$mod+ArrowDown",helpText:"Row + 1"},{action:"DECREASE_ROW",key:"ctrl + arrowUp",code:"$mod+ArrowUp",helpText:"Row - 1"},{action:"INCREASE_DOTSIZE",key:"-",code:"Equal",helpText:"Increase dot size"},{action:"DECREASE_DOTSIZE",key:"+",code:"Minus",helpText:"Decrease dot size"},{action:"MOVE_VIEWPORT_UP",key:"shift + arrowUp",code:"Shift+ArrowUp",helpText:"Move viewport up"},{action:"MOVE_VIEWPORT_RIGHT",key:"shift + arrowRight",code:"Shift+ArrowRight",helpText:"Move viewport right"},{action:"MOVE_VIEWPORT_DOWN",key:"shift + arrowDown",code:"Shift+ArrowDown",helpText:"Move viewport down"},{action:"MOVE_VIEWPORT_LEFT",key:"shift + arrowLeft",code:"Shift+ArrowLeft",helpText:"Move viewport left"}]})),mf=Object(B.a)(Object(u.a)({},"keybind/CHANGE_KEY_BIND",(function(e){return Object(s.a)({},e)})),pf),Of=n(63),Ef=n.n(Of),hf=U.a.mark(wf),vf=Object(W.a)("index/DOT_ACTIONS",(function(e){return{rowIdx:e.rowIdx,columnIdx:e.columnIdx}})),gf=Object(W.a)("index/CLEAR_FAKE_DOT_ART"),Cf=Object(Ba.combineReducers)({dot:Ft}),jf=Object(Ba.combineReducers)({dotArt:Ef()(Cf,{limit:100,ignoreInitialState:!0,filter:Object(Of.includeAction)(["dot/CLEAR_DOT","dot/NEW_DOT_ART_PROJECT","dot/LOAD_DOT_ART","dot/INCREASE_COLUMN","dot/DECREASE_COLUMN","dot/INCREASE_ROW","dot/DECREASE_ROW","dot/CHANGE_DOT_AREA","dot/CHANGE_ACTIVE_IDX","dot/REMOVE_ACTIVE_DOT_ART","dot/COPY_ACTIVE_DOT_ART","dot/ADD_NEW_DOT_ART","dot/CHANGE_ANIMATION_INTERVAL","dot/REORDER_DOT_LIST","dot/UPDATE_DOT_ART","dot/ADD_NEW_LAYER","dot/REMOVE_LAYER","dot/MERGE_LAYER","dot/MOVE_UP_LAYER","dot/MOVE_DOWN_LAYER","dot/SELECT_LAYER_IDX","dot/RENAME_LAYER"])}),palettes:Sn,paintTool:bt,auth:bf,dialog:kn,user:Ee,loading:ee,observer:Wn,keybind:mf}),xf=function(e,t,n,r,a){var f,o=[];return(t+1)%a!==0&&e[f=t+1]===n&&o.push(f),t%a!==0&&e[f=t-1]===n&&o.push(f),t>=a&&e[f=t-a]===n&&o.push(f),t<a*r-a&&e[f=t+a]===n&&o.push(f),o},yf=function(e,t,n,r,a,f){if("IDLE"===n||"DRAGGING"!==n)return Object(s.a)({},e);switch(t){case lt:if("DRAGGING"===n){var o="LEFT"===r?e.palettes.leftColor:e.palettes.rightColor,c=e.dotArt.present.dot.fakeDotArt.map((function(e){return e.slice()}));return c[a][f]=o,Object(s.a)({},e,{dotArt:Object(s.a)({},e.dotArt,{present:Object(s.a)({},e.dotArt.present,{dot:Object(s.a)({},e.dotArt.present.dot,{fakeDotArt:c})})})})}return Object(s.a)({},e);case"BUCKET":if("DRAGGING"===n){for(var l="LEFT"===r?e.palettes.leftColor:e.palettes.rightColor,i=e.dotArt.present.dot,u=i.rowCount,d=i.columnCount,b=e.dotArt.present.dot.fakeDotArt.reduce((function(e,t){return e.concat(t)})),p=a*d+f,m=function(e,t,n,r,a,f){for(var o,c,l,i,u=[t],d=e.slice();u.length>0;){d[o=u.pop()]=r,c=xf(d,o,n,a,f);for(var s=0;s<c.length;s++)i=e[l=c[s]],-1===u.indexOf(l)&&i!==r&&u.push(l)}return d}(b,p,b[p],l,u,d),O=[],E=0,h=0;h<u;h++){for(var v=[],g=0;g<d;g++)v.push(m[E]),E++;O.push(v),v=[]}return Object(s.a)({},e,{dotArt:Object(s.a)({},e.dotArt,{present:Object(s.a)({},e.dotArt.present,{dot:Object(s.a)({},e.dotArt.present.dot,{fakeDotArt:O})})})})}return Object(s.a)({},e);case"PICKER":if("DRAGGING"===n){var C=e.dotArt.present.dot,j=C.activeIdx,x=C.dotList[j].dot[a][f],y=e.palettes.selectColorId.paletteId,A=e.palettes.selectColorId.colorId;if(!x)return Object(s.a)({},e);var I=e.palettes.palettes,w="";return I.map((function(e){return e.colors.map((function(t,n){return t===x?w={paletteId:e.id,colorId:n}:""}))})),w?Object(ct.b)(e,(function(e){e.palettes.selectColorId=w,"LEFT"===r?e.palettes.leftColor=x:e.palettes.rightColor=x})):e.palettes.trashCan.filter((function(e){return e===x})).length>0?Object(ct.b)(e,(function(e){"LEFT"===r?e.palettes.leftColor=x:e.palettes.rightColor=x})):Object(ct.b)(e,(function(e){"LEFT"===r?e.palettes.leftColor=x:e.palettes.rightColor=x,e.palettes.palettes.map((function(t){t.id===y&&(e.palettes.trashCan.unshift(t.colors[A]),t.colors[A]=x)}))}))}return Object(s.a)({},e);case"ERASER":if("DRAGGING"===n){var S=e.dotArt.present.dot.fakeDotArt.map((function(e){return e.slice()}));return S[a][f]="",Object(s.a)({},e,{dotArt:Object(s.a)({},e.dotArt,{present:Object(s.a)({},e.dotArt.present,{dot:Object(s.a)({},e.dotArt.present.dot,{fakeDotArt:S})})})})}return Object(s.a)({},e);case"MOVE":if("DRAGGING"===n){var L,T=e.observer.startPosition.x,k=e.observer.startPosition.y,_=e.observer.mousePosition.x,D=e.observer.mousePosition.y,R=_-T,N=D-k,P=e.dotArt.present.dot,z=P.columnCount,F=P.layerSelectIdx,H=P.layerData[F].dotFrameIdx,M=P.dotFrameList[P.activeIdx].layerList[H].slice();return e.observer.altDown?(N>0?(L=M.slice(M.length-N),M=L.concat(M.slice(0,M.length-N))):N<0&&(L=M.slice(0,-N),M=M.slice(-N).concat(L)),R>0?M=M.map((function(e){return e.slice(-R).concat(e.slice(0,e.length-R))})):R<0&&(M=M.map((function(e){return e.slice(-R).concat(e.slice(0,-R))})))):(N>0?M=M.slice(0,M.length-N):N<0&&(M=M.slice(-N)),R>0?M=M.map((function(e){return new Array(R).fill("").concat(e.slice(0,e.length-R))})):R<0&&(M=M.map((function(e){return e.slice(-R).concat(new Array(-R).fill(""))}))),N>0?M=Ye(N,z).concat(M):N<0&&(M=M.concat(Ye(-N,z)))),Object(s.a)({},e,{dotArt:Object(s.a)({},e.dotArt,{present:Object(s.a)({},e.dotArt.present,{dot:Object(s.a)({},e.dotArt.present.dot,{fakeDotArt:M})})})})}case"SAMECOLOR":if("DRAGGING"===n){var G="LEFT"===r?e.palettes.leftColor:e.palettes.rightColor,U=e.dotArt.present.dot.fakeDotArt.map((function(e){return e.slice()})),W=U[a][f];return U=U.map((function(e){return e.map((function(e){return e===W?G:e}))})),Object(s.a)({},e,{dotArt:Object(s.a)({},e.dotArt,{present:Object(s.a)({},e.dotArt.present,{dot:Object(s.a)({},e.dotArt.present.dot,{fakeDotArt:U})})})})}return Object(s.a)({},e);default:return Object(s.a)({},e)}},Af=function(e){switch(e.paintTool.selectedPaintTool){case lt:var t=Ye(e.dotArt.present.dot.rowCount,e.dotArt.present.dot.columnCount);return Object(s.a)({},e,{dotArt:Object(s.a)({},e.dotArt,{present:Object(s.a)({},e.dotArt.present,{dot:Object(s.a)({},e.dotArt.present.dot,{fakeDotArt:t})})}),observer:Object(s.a)({},e.observer,{startPosition:{x:"",y:""}})});case"BUCKET":case"ERASER":case"SAMECOLOR":case"MOVE":var n=e.dotArt.present.dot,r=n.activeIdx,a=n.layerSelectIdx,f=n.layerData[a].dotFrameIdx;return Object(s.a)({},e,{dotArt:Object(s.a)({},e.dotArt,{present:Object(s.a)({},e.dotArt.present,{dot:Object(s.a)({},e.dotArt.present.dot,{fakeDotArt:e.dotArt.present.dot.dotFrameList[r].layerList[f]})})}),observer:Object(s.a)({},e.observer,{startPosition:{x:"",y:""}})});case"PICKER":return Object(ct.b)(e,(function(e){}));default:return Object(s.a)({},e)}},If=Object(B.a)((df={},Object(u.a)(df,"index/DOT_ACTIONS",(function(e,t){var n=t.payload,r=n.rowIdx,a=n.columnIdx,f=Object(s.a)({},e,{observer:Object(s.a)({},e.observer,{mousePosition:{x:a,y:r},startPosition:"DRAGGING"===e.paintTool.paintState&&""===e.observer.startPosition.x&&""===e.observer.startPosition.y?{x:a,y:r}:e.observer.startPosition})});return yf(f,e.paintTool.selectedPaintTool,e.paintTool.paintState,e.paintTool.direction,r,a)})),Object(u.a)(df,"dot/CLEAR_DOT",(function(e){return Af(e)})),Object(u.a)(df,"dot/LOAD_DOT_ART",(function(e){return Af(e)})),Object(u.a)(df,"dot/NEW_DOT_ART_PROJECT",(function(e){return Af(e)})),Object(u.a)(df,"paintTool/CHANGE_PAINT_TOOL",(function(e){return Af(e)})),Object(u.a)(df,"index/CLEAR_FAKE_DOT_ART",(function(e){return Af(e)})),Object(u.a)(df,"dot/UPDATE_DOT_ART",(function(e){return Af(e)})),Object(u.a)(df,"dot/INCREASE_COLUMN",(function(e){return Af(e)})),Object(u.a)(df,"dot/DECREASE_COLUMN",(function(e){return Af(e)})),Object(u.a)(df,"dot/INCREASE_ROW",(function(e){return Af(e)})),Object(u.a)(df,"dot/DECREASE_ROW",(function(e){return Af(e)})),Object(u.a)(df,"dot/CHANGE_DOT_AREA",(function(e){return Af(e)})),Object(u.a)(df,"dot/CHANGE_ACTIVE_IDX",(function(e){return Af(e)})),Object(u.a)(df,"dot/ADD_NEW_DOT_ART",(function(e){return Af(e)})),Object(u.a)(df,"dot/REMOVE_LAYER",(function(e){return Af(e)})),Object(u.a)(df,"dot/MERGE_LAYER",(function(e){return Af(e)})),Object(u.a)(df,"dot/MOVE_UP_LAYER",(function(e){return Af(e)})),Object(u.a)(df,"dot/MOVE_DOWN_LAYER",(function(e){return Af(e)})),Object(u.a)(df,"dot/SELECT_LAYER_IDX",(function(e){return Af(e)})),Object(u.a)(df,"dot/RENAME_LAYER",(function(e){return Af(e)})),df),{});function wf(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.a)([uf(),Oe()]);case 2:case"end":return e.stop()}}),hf)}var Sf=function(e,t){var n=jf(e,t);return If(n,t)},Lf=function(){var e=Object(i.c)(),t=Object(i.d)((function(e){var t=e.dotArt;return{rowCount:t.present.dot.rowCount,columnCount:t.present.dot.columnCount}})),n=t.rowCount,f=t.columnCount,o=Object(i.d)((function(e){var t=e.observer;return{border:t.dotBorder,dotSize:t.dotSize}})),c=o.border,l=o.dotSize,u=Object(r.useCallback)((function(t){t.deltaY>0?e(zn()):e(Pn())}),[e]),d=Object(r.useCallback)((function(t){return e(ut(t))}),[e]),s=Object(r.useCallback)((function(t,n){return e(vf({rowIdx:t,columnIdx:n}))}),[e]),b=Object(r.useCallback)((function(t){return e(dt(t))}),[e]),p=Object(r.useCallback)((function(){return e(Dn())}),[e]);return a.a.createElement(Wa,{border:c,dotSize:l,rowCount:n,columnCount:f,onWheelHandle:u,onChangePaintStateHandle:d,onDotActionHandle:s,onSetDirectionHandle:b,onLeavesPaintAreaHandle:p})},Tf=n(34),kf=n(245),_f=n(77);function Df(){var e=Object(ve.a)(["\n  display: flex;\n  height: 32px;\n"]);return Df=function(){return e},e}function Rf(){var e=Object(ve.a)(["\n  /* display: flex; */\n  height: 64px;\n"]);return Rf=function(){return e},e}var Nf=ke.b.div(Rf()),Pf=ke.b.div(Df()),zf=a.a.memo((function(e){var t=e.onChangePaintTool,n=e.selectedPaintTool;return a.a.createElement(Nf,null,a.a.createElement(Pf,null,a.a.createElement(We,{selected:n===lt,onClick:function(){return t(lt)}},a.a.createElement(Tf.i,null)),a.a.createElement(We,{selected:"BUCKET"===n,onClick:function(){return t("BUCKET")}},a.a.createElement(kf.a,null)),a.a.createElement(We,{selected:"PICKER"===n,onClick:function(){return t("PICKER")}},a.a.createElement(Tf.j,null))),a.a.createElement(Pf,null,a.a.createElement(We,{selected:"ERASER"===n,onClick:function(){return t("ERASER")}},a.a.createElement(_f.b,null)),a.a.createElement(We,{selected:"MOVE"===n,onClick:function(){return t("MOVE")}},a.a.createElement(_f.c,null)),a.a.createElement(We,{selected:"SAMECOLOR"===n,onClick:function(){return t("SAMECOLOR")}},a.a.createElement(_f.a,null))))})),Ff=function(){var e=Object(i.c)(),t=Object(i.d)((function(e){return{selectedPaintTool:e.paintTool.selectedPaintTool}})).selectedPaintTool,n=Object(r.useCallback)((function(t){return e(it(t))}),[e]);return a.a.createElement(zf,{onChangePaintTool:n,selectedPaintTool:t})};function Hf(){var e=Object(ve.a)(["\n  display: flex;\n  height: 40px;\n"]);return Hf=function(){return e},e}var Mf=ke.b.div(Hf()),Gf=function(e){var t=e.undoHandle,n=e.redoHandle;return a.a.createElement(Mf,null,a.a.createElement(We,{onClick:function(){return t()}},a.a.createElement(_f.e,null)),a.a.createElement(We,{onClick:function(){return n()}},a.a.createElement(_f.d,null)))},Uf=function(){var e=Object(i.c)(),t=Object(r.useCallback)((function(){e(Of.ActionCreators.jump(-2))}),[e]),n=Object(r.useCallback)((function(){e(Of.ActionCreators.jump(2))}),[e]);return a.a.createElement(Gf,{undoHandle:t,redoHandle:n})},Wf=n(248),Bf=n.n(Wf),Vf=n(247),Yf=n.n(Vf),Kf=n(246),Zf=n.n(Kf),Jf=n(249),Xf=n.n(Jf);function qf(){var e=Object(ve.a)(["\n  display: flex;\n  height: 40px;\n"]);return qf=function(){return e},e}var $f=ke.b.div(qf()),Qf=function(e){var t=e.newProjectHandle,n=e.saveHandle,f=e.dialogOpenHandle,o=Object(r.useCallback)((function(){t()}),[t]);return a.a.createElement(a.a.Fragment,null,a.a.createElement($f,null,a.a.createElement(We,{onClick:o},a.a.createElement(Zf.a,{fontSize:"large"})),a.a.createElement(We,{onClick:n},a.a.createElement(Yf.a,null)),a.a.createElement(We,{onClick:function(){return f("Load")}},a.a.createElement(Bf.a,null))),a.a.createElement($f,null,a.a.createElement(We,{onClick:function(){return f("DownLoad")}},a.a.createElement(Xf.a,null)),a.a.createElement(We,{onClick:function(){return f("Css")}},"css")))},eo=a.a.memo((function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),n=t[0],f=t[1],o=Object(un.b)().enqueueSnackbar,c=Object(i.c)(),l=Object(i.d)((function(e){var t=e.dotArt.present.dot;return{dotList:t.dotList,dotFrameList:t.dotFrameList,columnCount:t.columnCount,rowCount:t.rowCount,animationDuration:t.animationDuration,layerData:t.layerData}})),u=(l.dotList,l.dotFrameList),b=l.columnCount,p=l.rowCount,m=l.animationDuration,O=l.layerData,E=Object(i.d)((function(e){return{palettes:e.palettes.palettes}})).palettes,h=Object(i.d)((function(e){var t=e.observer;return{dotBorder:t.dotBorder,backgroundColor:t.backgroundColor}})),v=h.dotBorder,g=h.backgroundColor;Object(r.useEffect)((function(){var e=rn(localStorage);e?(c(mt(e.dotArt[e.current].dot)),c(sn(e.dotArt[e.current].palettes))):(localStorage.setItem("dotArt_storage",JSON.stringify({dotArt:[{dot:Object(s.a)({},tn),palettes:nn}],current:0})),e=rn(localStorage),c(mt(e.dotArt[e.current].dot)),c(sn(e.dotArt[e.current].palettes)))}),[]);var C=Object(r.useCallback)((function(){c(pt())}),[c]),j=Object(r.useCallback)((function(e){c(Ln(e))}),[c]);Object(r.useEffect)((function(){if(n){var e={dot:{id:De.a.generate(),dotFrameList:u,columnCount:b,rowCount:p,animationDuration:m,layerData:O},palettes:E,observer:{dotBorder:v,backgroundColor:g}};(function(e,t){try{var n=rn(e);return n&&n.dotArt?(n.dotArt.push(t),n.current=n.dotArt.length-1):n=Object(s.a)({},n,{dotArt:[t],current:0}),e.setItem("dotArt_storage",JSON.stringify(n)),!0}catch(r){return!1}})(localStorage,e)?o("Save DotArt To LocalStorage",{variant:"success"}):o("Save Fail!",{variant:"error"}),f(!1)}}),[n]);return a.a.createElement(Qf,{newProjectHandle:C,saveHandle:function(){f(!0)},dialogOpenHandle:j})}));function to(){var e=Object(ve.a)(["\n  cursor: pointer;\n  box-sizing: border-box;\n  position: relative;\n  width: 30px;\n  height: 17.32px;\n  margin-left: 0px;\n  background-color: ",";\n  border-left: solid 3px\n    ",";\n  border-right: solid 3px\n    ",";\n  outline: none;\n\n  :before,\n  :after {\n    content: '';\n    box-sizing: border-box;\n    position: absolute;\n    z-index: 1;\n    width: 21.21px;\n    height: 21.21px;\n    -webkit-transform: scaleY(0.5774) rotate(-45deg);\n    -ms-transform: scaleY(0.5774) rotate(-45deg);\n    transform: scaleY(0.5774) rotate(-45deg);\n    background-color: ",";\n    left: 1.3934px;\n  }\n\n  :before {\n    top: -10.6066px;\n    border-top: solid 4.2426px\n      ",";\n    border-right: solid 4.2426px\n      ",";\n  }\n\n  :after {\n    bottom: -10.6066px;\n    border-bottom: solid 4.2426px\n      ",";\n    border-left: solid 4.2426px\n      ",";\n  }\n\n  &:hover {\n    color: white;\n  }\n"]);return to=function(){return e},e}var no=ke.b.div(to(),(function(e){return e.color||""}),(function(e){return e.selected?"#000000":"#ffffff"}),(function(e){return e.selected?"#000000":"#ffffff"}),(function(e){return e.color||""}),(function(e){return e.selected?"#000000":"#ffffff"}),(function(e){return e.selected?"#000000":"#ffffff"}),(function(e){return e.selected?"#000000":"#ffffff"}),(function(e){return e.selected?"#000000":"#ffffff"})),ro=function(e){var t=e.children,n=e.innerRef,r=Object(ze.a)(e,["children","innerRef"]);return a.a.createElement(no,Object.assign({ref:n},r),t)},ao=function(e){var t=e.color,n=e.paletteId,r=e.cellIdx,f=e.selected,o=(e.handleSelectColorCell,e.handleSelectLeftColor),c=e.handleSelectRightColor;return a.a.createElement(_r.b,{key:r,draggableId:"cell-".concat(n,"-").concat(r),index:r},(function(e){return a.a.createElement(ro,Object.assign({color:t,selected:f,innerRef:e.innerRef},e.draggableProps,e.dragHandleProps,{onClick:function(){return o(n,r,t)},onContextMenu:function(e){return c(e,t)}}))}))},fo=n(250);function oo(){var e=Object(ve.a)(["\n  display: flex;\n  /* width: 300px; */\n"]);return oo=function(){return e},e}function co(){var e=Object(ve.a)(["\n  width: 16px;\n  height: 16px;\n"]);return co=function(){return e},e}function lo(){var e=Object(ve.a)(["\n  display: flex;\n  margin-top: 8px;\n  &:nth-child(odd) {\n    margin-left: 16px;\n  }\n"]);return lo=function(){return e},e}var io=ke.b.div(lo()),uo=ke.b.div(co()),so=ke.b.div(oo());function bo(e,t,n,r){return t.isDragging?e:null===e.transform?Object(s.a)({},e):Object(s.a)({},e,{marginLeft:"0px",transform:"".concat(e.transform.slice(0,9),"(").concat(r?n?16:0:n?0:16).concat(e.transform.slice(11))})}var po=function(e){var t=e.palette,n=e.idx,r=e.dragIdx,f=e.selectColorId,o=e.handleSelectColorCell,c=e.handleSelectLeftColor,l=e.handleSelectRightColor;return a.a.createElement(_r.b,{key:t.id,draggableId:"pale-".concat(t.id),index:n},(function(e,i){return a.a.createElement(io,Object.assign({},e.draggableProps,{ref:e.innerRef,style:bo(e.draggableProps.style,i,n%2!==0,r>n)}),a.a.createElement(uo,e.dragHandleProps,a.a.createElement(fo.a,null)),a.a.createElement(_r.c,{droppableId:"".concat(t.id),type:"cell",direction:"horizontal",isDropDisabled:!(t.colors.length<7)},(function(e,n){return a.a.createElement(so,Object.assign({ref:e.innerRef},e.droppableProps,{style:(r=n.isDraggingOver,{background:r?"gray":""})}),t.colors.map((function(e,n){return a.a.createElement(ao,{color:e,paletteId:t.id,cellIdx:n,key:"".concat(t.id).concat(n),selected:f.paletteId===t.id&&f.colorId===n,handleSelectColorCell:o,handleSelectLeftColor:c,handleSelectRightColor:l})})),e.placeholder);var r})))}))};function mo(){var e=Object(ve.a)(["\n  width: 35px;\n  height: 35px;\n  background: skyblue;\n"]);return mo=function(){return e},e}function Oo(){var e=Object(ve.a)(["\n  ","\n"]);return Oo=function(){return e},e}var Eo=ke.b.div(Oo(),(function(e){return e.displayBool?"":"display: none"})),ho=ke.b.div(mo()),vo=function(e){var t=e.dragType;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Eo,{displayBool:"pale"===t},a.a.createElement(_r.c,{type:"palettes",droppableId:"PaletteTrashCan"},(function(e){return a.a.createElement(ho,Object.assign({ref:e.innerRef},e.droppableProps),a.a.createElement(Gt.a,{fontSize:"large"}),e.placeholder)}))),a.a.createElement(Eo,{displayBool:"cell"===t},a.a.createElement(_r.c,{type:"cell",droppableId:"CellTrashCan"},(function(e){return a.a.createElement(ho,Object.assign({ref:e.innerRef},e.droppableProps),a.a.createElement(Gt.a,{fontSize:"large"}),e.placeholder)}))),a.a.createElement(Eo,{displayBool:"temp"===t},a.a.createElement(ho,null,a.a.createElement(Gt.a,{fontSize:"large"}))))},go=function(e){var t=e.color,n=e.cellIdx;return a.a.createElement(_r.b,{key:n,draggableId:"temp-".concat(n),index:n},(function(e){return a.a.createElement(ro,Object.assign({color:t,innerRef:e.innerRef},e.draggableProps,e.dragHandleProps))}))};function Co(){var e=Object(ve.a)(["\n  background: rgba(0, 0, 0, 0.3);\n  /* width: calc(100% - 40px); */\n  width: 100%;\n  padding: 8px;\n  display: flex;\n  flex-wrap: nowrap;\n  overflow-x: auto;\n  overflow-y: hidden;\n  & > * {\n    min-width: 30px;\n    /* margin-top: 8px; */\n  }\n  &::-webkit-scrollbar {\n    width: 2px;\n    height: 2px;\n  }\n  &::-webkit-scrollbar-track {\n    background: #f1f1f1;\n  }\n  &::-webkit-scrollbar-thumb {\n    background: #888;\n  }\n  &::-webkit-scrollbar-thumb:hover {\n    background: #555;\n  }\n"]);return Co=function(){return e},e}var jo=ke.b.div(Co()),xo=function(e){var t=e.trashCan;return a.a.createElement(_r.c,{droppableId:"temp",type:"cell",direction:"horizontal",isDropDisabled:!0},(function(e){return a.a.createElement(jo,Object.assign({ref:e.innerRef},e.droppableProps),t.map((function(e,t){return a.a.createElement(go,{color:e,cellIdx:t,key:"temp-".concat(t)})})),e.placeholder)}))};function yo(){var e=Object(ve.a)(["\n  display: flex;\n"]);return yo=function(){return e},e}function Ao(){var e=Object(ve.a)(["\n  display: flex;\n  margin-left: 32px;\n"]);return Ao=function(){return e},e}function Io(){var e=Object(ve.a)(["\n  padding: 8px 0px;\n  background: gray;\n"]);return Io=function(){return e},e}var wo=ke.b.div(Io()),So=ke.b.div(Ao()),Lo=ke.b.div(yo()),To=a.a.memo((function(e){var t=e.palettes,n=e.trashCan,f=e.selectColorId,o=e.handleSelectLeftColor,c=e.handleSelectRightColor,l=e.handleReorderPalettes,i=e.handleReorderCell,u=e.handleMovePaletteToTrashCan,s=e.handleMoveCellToTrashCan,b=e.handleMoveCellFromTrashCan,p=e.handleSelectColorCell,m=e.handleSavePalettes,O=Object(r.useState)(0),E=Object(d.a)(O,2),h=E[0],v=E[1],g=Object(r.useState)("pale"),C=Object(d.a)(g,2),j=C[0],x=C[1];return a.a.createElement(_r.a,{onDragEnd:function(e){e.destination&&("palettes"===e.type?"PaletteTrashCan"===e.destination.droppableId?u(e.source.index):l(e.source.index,e.destination.index):"cell"===e.type?"CellTrashCan"===e.destination.droppableId?s(e.source.droppableId,e.source.index):"temp"===e.source.droppableId?b(e.destination.droppableId,e.source.index,e.destination.index):i(e.source.droppableId,e.destination.droppableId,e.source.index,e.destination.index):console.log(e))},onBeforeDragStart:function(e){v(e.source.index)},onBeforeCapture:function(e){x(e.draggableId.substring(0,4))}},a.a.createElement(Lo,null,a.a.createElement(vo,{dragType:j}),a.a.createElement(xo,{trashCan:n})),a.a.createElement(_r.c,{droppableId:"palettes",type:"palettes",renderClone:function(e){return a.a.createElement(So,Object.assign({},e.draggableProps,e.dragHandleProps,{ref:e.innerRef}),a.a.createElement(ro,null),a.a.createElement(ro,null),a.a.createElement(ro,null),a.a.createElement(ro,null),a.a.createElement(ro,null))}},(function(e,n){return a.a.createElement(wo,Object.assign({ref:e.innerRef},e.droppableProps,{style:(r=n.isDraggingOver,{background:r?"lightblue":"lightgrey"})}),t.map((function(e,t){return a.a.createElement(po,{palette:e,key:e.id,idx:t,dragIdx:h,selectColorId:f,handleSelectColorCell:p,handleSelectLeftColor:o,handleSelectRightColor:c})})),e.placeholder);var r})),a.a.createElement("button",{onClick:function(){return m("test")}},"save"))})),ko=a.a.memo((function(){var e=Object(i.c)(),t=Object(i.d)((function(e){var t=e.palettes;return{palettes:t.palettes,trashCan:t.trashCan,selectColorId:t.selectColorId}})),n=t.palettes,f=t.trashCan,o=t.selectColorId,c=Object(r.useCallback)((function(t,n){e(On({startIdx:t,endIdx:n}))}),[e]),l=Object(r.useCallback)((function(t,n,r,a){e(En({startPaletteId:t,endPaletteId:n,startIdx:r,endIdx:a}))}),[e]),u=Object(r.useCallback)((function(t){e(hn({dragIdx:t}))}),[e]),d=Object(r.useCallback)((function(t,n){e(vn({paletteId:t,dragIdx:n}))}),[e]),s=Object(r.useCallback)((function(t,n,r){e(gn({endPaletteId:t,startIdx:n,endIdx:r}))}),[e]),b=Object(r.useCallback)((function(t,n){return e(Cn({paletteId:t,selectIdx:n}))}),[e]),p=Object(r.useCallback)((function(t,n,r){return e(bn({paletteId:t,selectIdx:n,color:r}))}),[e]),m=Object(r.useCallback)((function(t,n){t.preventDefault(),e(pn({color:n}))}),[e]),O=Object(r.useCallback)((function(e){var t={palettesName:e,palettes:Object(dn.a)(n)};an(localStorage,t)}),[n]);return a.a.createElement(To,{palettes:n,trashCan:f,selectColorId:o,handleSelectLeftColor:p,handleSelectRightColor:m,handleReorderPalettes:c,handleReorderCell:l,handleMovePaletteToTrashCan:u,handleMoveCellToTrashCan:d,handleMoveCellFromTrashCan:s,handleSelectColorCell:b,handleSavePalettes:O})})),_o=n(100);function Do(){var e=Object(ve.a)(["\n  position: fixed;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n"]);return Do=function(){return e},e}function Ro(){var e=Object(ve.a)(["\n  position: absolute;\n  z-index: 2;\n"]);return Ro=function(){return e},e}function No(){var e=Object(ve.a)(["\n  border-radius: 2px;\n  width: 48px;\n  height: 16px;\n  color: white;\n  font-size: 0.5rem;\n  text-align: center;\n"]);return No=function(){return e},e}function Po(){var e=Object(ve.a)(["\n  margin: 0 auto;\n  padding: 2px;\n  cursor: pointer;\n  border: 0.01rem solid #8e8e8e;\n  display: inline-block;\n"]);return Po=function(){return e},e}var zo=ke.b.div(Po()),Fo=ke.b.div.attrs((function(e){return{style:{background:e.backgroundColor}}}))(No()),Ho=ke.b.div(Ro()),Mo=ke.b.div(Do()),Go=a.a.memo((function(e){var t=e.backgroundColor,n=e.onChangeColor,f=Object(r.useState)(t),o=Object(d.a)(f,2),c=o[0],l=o[1],i=Object(r.useState)(t),u=Object(d.a)(i,2),s=u[0],b=u[1],p=Object(r.useState)(!1),m=Object(d.a)(p,2),O=m[0],E=m[1];Object(r.useEffect)((function(){l(t)}),[t]);return a.a.createElement("div",null,a.a.createElement(zo,{onClick:function(){E(!O)}},a.a.createElement(Fo,{backgroundColor:c},c)),O?a.a.createElement(Ho,null,a.a.createElement(Mo,{onClick:function(){E(!1),c!==s&&(b(c),n(c))}}),a.a.createElement(_o.ChromePicker,{disableAlpha:!0,color:c,onChange:function(e){l(e.hex)}})):null)}));function Uo(){var e=Object(ve.a)(["\n  display: flex;\n"]);return Uo=function(){return e},e}var Wo=ke.b.div(Uo()),Bo=function(e){var t=e.borderSize,n=e.backgroundColor,f=e.onChangeDotBorderSize,o=e.onChangeDotBorderColor,c=Object(r.useState)(t),l=Object(d.a)(c,2),i=l[0];l[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Wo,null,a.a.createElement("label",null,"\uc0c9\uc0c1"),a.a.createElement(Go,{backgroundColor:n,onChangeColor:o})),a.a.createElement(Oa.a,{defaultValue:i,"aria-labelledby":"vertical-slider",valueLabelDisplay:"auto",value:t,step:.5,color:"secondary",marks:!0,min:0,max:3,onChange:f}))},Vo=function(){var e=Object(i.c)(),t=Object(i.d)((function(e){var t=e.observer;return{borderSize:t.dotBorder.size,borderColor:t.dotBorder.color}})),n=t.borderSize,f=t.borderColor,o=Object(r.useCallback)((function(t,n){e(Rn(n))}),[e]),c=Object(r.useCallback)((function(t){e(Nn(t))}),[e]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Bo,{borderSize:n,backgroundColor:f,onChangeDotBorderSize:o,onChangeDotBorderColor:c}))},Yo=function(e){var t=e.dotSize,n=e.onChangeDotSize,f=Object(r.useState)(t),o=Object(d.a)(f,2),c=o[0];o[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Oa.a,{defaultValue:c,"aria-labelledby":"vertical-slider",valueLabelDisplay:"auto",value:t,step:4,color:"secondary",marks:!0,min:4,max:100,onChange:n}))},Ko=function(){var e=Object(i.c)(),t=Object(i.d)((function(e){return{dotSize:e.observer.dotSize}})).dotSize,n=Object(r.useCallback)((function(t,n){e(Fn(n))}),[e]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Yo,{dotSize:t,onChangeDotSize:n}))};function Zo(){var e=Object(ve.a)(["\n  font-size: 20px;\n  width: 40px;\n  height: 40px;\n  border: 1px solid #225ea7;\n  outline: none;\n  border-radius: 0.5rem;\n  text-align: center;\n  box-shadow: 0 0.3rem #999;\n  transition: all 0.3s ease-in-out;\n"]);return Zo=function(){return e},e}function Jo(){var e=Object(ve.a)(["\n  display: flex;\n  width: 120px;\n  height: 40px;\n"]);return Jo=function(){return e},e}var Xo=ke.b.div(Jo()),qo=ke.b.input(Zo());a.a.memo((function(e){var t=e.onChangeArea,n=e.row,f=e.column,o=e.dotClear,c=Object(r.useState)(n),l=Object(d.a)(c,2),i=l[0],u=l[1],s=Object(r.useState)(f),b=Object(d.a)(s,2),p=b[0],m=b[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Xo,null,a.a.createElement(We,{onClick:function(){u(i+1),t(i+1,p)}},a.a.createElement(Tf.l,null)),a.a.createElement(qo,{value:i,onChange:function(e){u(e.target.value.replace(/[^0-9]/g,""))}}),a.a.createElement(We,{onClick:function(){u(i-1),t(i-1,p)}},a.a.createElement(Tf.g,null))),a.a.createElement(Xo,null,a.a.createElement(We,{onClick:function(){m(p+1),t(i,p+1)}},a.a.createElement(Tf.l,null)),a.a.createElement(qo,{value:p,onChange:function(e){m(e.target.value.replace(/[^0-9]/g,""))}}),a.a.createElement(We,{onClick:function(){m(p-1),t(i,p-1)}},a.a.createElement(Tf.g,null))),a.a.createElement(Xo,null,a.a.createElement("button",{onClick:function(){return t(i,p)}},"\ucee4\ubc0b"),a.a.createElement("button",{onClick:o},"\ucd08\uae30\ud654\ubc84\ud2bc\uc784")))}));function $o(){var e=Object(ve.a)(["\n  border: 1px solid orange;\n  width: 100%;\n  padding-left: 8px;\n  height: 24px;\n  outline: none;\n  cursor: pointer;\n  font-size: 12px;\n  color: white;\n  background: rgba(50, 50, 50, 1);\n  ","\n"]);return $o=function(){return e},e}function Qo(){var e=Object(ve.a)(["\n      color: orange;\n      background: #333333;\n    "]);return Qo=function(){return e},e}function ec(){var e=Object(ve.a)(["\n  overflow: hidden;\n  white-space: nowrap;\n  width: 100%;\n  line-height: 24px;\n  color: white;\n  padding-left: 8px;\n  height: 24px;\n  background: #222222;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  font-size: 12px;\n  ","\n  ","\n"]);return ec=function(){return e},e}function tc(){var e=Object(ve.a)(["\n  width: 100%;\n  height: 24px;\n  cursor: pointer;\n  display: flex;\n  background: ",";\n"]);return tc=function(){return e},e}function nc(){var e=Object(ve.a)(["\n  display: flex;\n  flex-direction: column-reverse;\n  max-height: 30vh;\n  overflow: auto;\n  &::-webkit-scrollbar {\n    width: 8px;\n  }\n  &::-webkit-scrollbar-track {\n    background: #f1f1f1;\n  }\n  &::-webkit-scrollbar-thumb {\n    background: #888;\n  }\n  &::-webkit-scrollbar-thumb:hover {\n    background: #555;\n  }\n"]);return nc=function(){return e},e}function rc(){var e=Object(ve.a)(["\n      &:hover {\n        color: orange;\n      }\n    "]);return rc=function(){return e},e}function ac(){var e=Object(ve.a)(["\n  outline: none;\n  font-size: 16px;\n  width: 100%;\n  height: 24px;\n  border: 1px solid #333333;\n  transition: all 0.2s ease-in-out;\n  color: #fff;\n  background: #222222;\n  ","\n\n  &:disabled {\n    background: #afafaf;\n    color: #777777;\n  }\n"]);return ac=function(){return e},e}function fc(){var e=Object(ve.a)(["\n  display: flex;\n"]);return fc=function(){return e},e}function oc(){var e=Object(ve.a)(["\n      color: orange;\n    "]);return oc=function(){return e},e}function cc(){var e=Object(ve.a)(["\n  position: absolute;\n  top: 0;\n  right: 0.5rem;\n  color: white;\n  font-size: 24px;\n  cursor: pointer;\n  transition: 0.2s linear;\n  ","\n"]);return cc=function(){return e},e}function lc(){var e=Object(ve.a)(["\n  position: relative;\n  font-size: 20px;\n  padding-left: 16px;\n  font-weight: bold;\n  color: white;\n  background: #222222;\n"]);return lc=function(){return e},e}function ic(){var e=Object(ve.a)(["\n  border: 2px solid #888;\n"]);return ic=function(){return e},e}var uc=ke.b.div(ic()),dc=ke.b.div(lc()),sc=ke.b.div(cc(),(function(e){return e.showLayers&&Object(ke.a)(oc())})),bc=ke.b.div(fc()),pc=ke.b.button(ac(),(function(e){return!e.disable&&Object(ke.a)(rc())})),mc=ke.b.div(nc()),Oc=ke.b.div(tc(),(function(e){return e.selected?"skyblue":"white"})),Ec=ke.b.span(ec(),(function(e){return e.selected&&Object(ke.a)(Qo())}),(function(e){return e.active?"display: none":""})),hc=ke.b.input($o(),(function(e){return e.active?"display: none":""})),vc=a.a.memo((function(e){var t=e.layerSelectIdx,n=e.layerData,f=e.shiftDown,o=e.showLayers,c=e.addNewLayerHandle,l=e.removeLayerHandle,i=e.mergeLayerHandle,u=e.moveUpHandle,s=e.moveDownHandle,b=e.selectLayerIdxHandle,p=e.renameLayerHandle,m=e.handleChangeTyping,O=e.handleChangeShowLayers,E=Object(r.useState)(!1),h=Object(d.a)(E,2),v=h[0],g=h[1],C=Object(r.useState)(""),j=Object(d.a)(C,2),x=j[0],y=j[1],A=Object(r.useRef)(null);Object(r.useEffect)((function(){y(n[t].layerName)}),[t]);var I=function(){g(!0)};Object(r.useEffect)((function(){v?(A.current.focus(),m(!0)):m(!1)}),[v]);return a.a.createElement(uc,null,a.a.createElement(dc,null,"Layers",a.a.createElement(sc,{showLayers:o,onClick:O},a.a.createElement(Tf.d,null))),a.a.createElement(bc,null,a.a.createElement(pc,{onClick:function(){c(f)},color:"#333333",baseColor:"#222222"},a.a.createElement(Tf.k,null)),a.a.createElement(pc,{onClick:function(){u(f)},color:"#333333",baseColor:"#222222",disable:t===n.length-1,disabled:t===n.length-1},a.a.createElement(Tf.b,null)),a.a.createElement(pc,{onClick:function(){s(f)},color:"#333333",baseColor:"#222222",disable:0===t,disabled:0===t},a.a.createElement(Tf.a,null)),a.a.createElement(pc,{color:"#333333",baseColor:"#222222",onClick:function(){g(!0)}},a.a.createElement(Tf.h,null)),a.a.createElement(pc,{onClick:i,color:"#333333",baseColor:"#222222",disable:0===t,disabled:0===t},a.a.createElement(Tf.e,null)),a.a.createElement(pc,{onClick:l,color:"#333333",baseColor:"#222222",disable:1===n.length,disabled:1===n.length},a.a.createElement(Tf.c,null))),a.a.createElement(mc,null,n.map((function(e,n){return n===t?a.a.createElement(Oc,{key:n,selected:!0},a.a.createElement(hc,{value:x,ref:A,active:!v,onBlur:function(){return g(!1),m(!1),void p(x)},onChange:function(e){return y(e.target.value)},onKeyPress:function(e){return function(e){13!==e.kayCode&&"Enter"!==e.key||(g(!1),m(!1),p(x))}(e)}}),a.a.createElement(Ec,{onClick:I,active:v,selected:!0},e.layerName)):a.a.createElement(Oc,{onClick:function(){return b(n)},key:n},a.a.createElement(Ec,null,e.layerName))}))))})),gc=function(){var e=Object(i.c)(),t=Object(i.d)((function(e){var t=e.dotArt;return{layerList:t.present.dot.dotFrameList[t.present.dot.activeIdx].layerList,layerSelectIdx:t.present.dot.layerSelectIdx,layerData:t.present.dot.layerData}})),n=t.layerList,f=t.layerSelectIdx,o=t.layerData,c=Object(i.d)((function(e){var t=e.observer;return{shiftDown:t.shiftDown,showLayers:t.showLayers}})),l=c.shiftDown,u=c.showLayers,d=Object(r.useCallback)((function(t){e(Lt(t))}),[e]),s=Object(r.useCallback)((function(){e(Tt())}),[e]),b=Object(r.useCallback)((function(){e(kt())}),[e]),p=Object(r.useCallback)((function(t){e(_t(t))}),[e]),m=Object(r.useCallback)((function(t){e(Dt(t))}),[e]),O=Object(r.useCallback)((function(t){e(Rt(t))}),[e]),E=Object(r.useCallback)((function(t){e(Nt(t))}),[e]),h=Object(r.useCallback)((function(t){e(_n(t))}),[e]),v=Object(r.useCallback)((function(){e(Un())}),[e]);return a.a.createElement(vc,{layerList:n,layerSelectIdx:f,layerData:o,shiftDown:l,showLayers:u,addNewLayerHandle:d,removeLayerHandle:s,mergeLayerHandle:b,moveUpHandle:p,moveDownHandle:m,selectLayerIdxHandle:O,renameLayerHandle:E,handleChangeTyping:h,handleChangeShowLayers:v})};function Cc(){var e=Object(ve.a)(["\n  position: fixed;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n"]);return Cc=function(){return e},e}function jc(){var e=Object(ve.a)(["\n  position: absolute;\n  z-index: 2;\n"]);return jc=function(){return e},e}function xc(){var e=Object(ve.a)(["\n  background: ",";\n  width: 40px;\n  height: 40px;\n  border: 3px solid #afafaf;\n"]);return xc=function(){return e},e}function yc(){var e=Object(ve.a)(["\n  z-index: 9;\n  margin-top: 24px;\n  margin-left: -16px;\n"]);return yc=function(){return e},e}function Ac(){var e=Object(ve.a)(["\n  z-index: 10;\n"]);return Ac=function(){return e},e}function Ic(){var e=Object(ve.a)(["\n  display: flex;\n"]);return Ic=function(){return e},e}var wc=ke.b.div(Ic()),Sc=ke.b.div(Ac()),Lc=ke.b.div(yc()),Tc=ke.b.div(xc(),(function(e){return e.color?e.color:"#ffffff"})),kc=ke.b.div(jc()),_c=ke.b.div(Cc()),Dc=a.a.memo((function(e){var t=e.leftColor,n=e.rightColor,f=e.changeLeftColor,o=e.changeRightColor,c=Object(r.useState)(!1),l=Object(d.a)(c,2),i=l[0],u=l[1],s=Object(r.useState)(!1),b=Object(d.a)(s,2),p=b[0],m=b[1],O=Object(r.useState)(""),E=Object(d.a)(O,2),h=E[0],v=E[1],g=Object(r.useState)(""),C=Object(d.a)(g,2),j=C[0],x=C[1];Object(r.useEffect)((function(){v(t),x(n)}),[t,n]);var y=function(e){"LEFT"===e?u(!i):m(!p)},A=function(e){"LEFT"===e?(u(!1),f(h)):(m(!1),console.log(j),o(j))};return a.a.createElement(wc,null,a.a.createElement(Sc,null,a.a.createElement(Tc,{onClick:function(){return y("LEFT")},color:h}),i?a.a.createElement(kc,null,a.a.createElement(_c,{onClick:function(){return A("LEFT")}}),a.a.createElement(_o.ChromePicker,{disableAlpha:!0,color:h,onChange:function(e){v(e.hex)}})):null),a.a.createElement(Lc,null,a.a.createElement(Tc,{onClick:function(){return y("RIGHT")},color:j}),p?a.a.createElement(kc,null,a.a.createElement(_c,{onClick:function(){return A("RIGHT")}}),a.a.createElement(_o.ChromePicker,{disableAlpha:!0,color:j,onChange:function(e){console.log(e),x(e.rgb)}})):null))})),Rc=function(){var e=Object(i.c)(),t=Object(i.d)((function(e){var t=e.palettes;return{leftColor:t.leftColor,rightColor:t.rightColor}})),n=t.leftColor,f=t.rightColor,o=Object(r.useCallback)((function(t){e(bn({color:t}))}),[e]),c=Object(r.useCallback)((function(t){console.log(t),e(pn({color:t}))}),[e]);return a.a.createElement(Dc,{leftColor:n,rightColor:f,changeLeftColor:o,changeRightColor:c})},Nc=n(251),Pc=n(252);function zc(){var e=Object(ve.a)(["\n  border: 3px solid #6e6e6e;\n  color: #6e6e6e;\n  border-radius: 5px;\n  width: 3rem;\n  height: 3rem;\n  text-align: center;\n  position: fixed;\n  left: 64px;\n  bottom: 16px;\n\n  &:hover {\n    color: #87ceeb;\n    border: 3px solid #87ceeb;\n  }\n"]);return zc=function(){return e},e}var Fc=ke.b.div(zc()),Hc=function(e){var t=e.isTyping,n=e.openKeyBindDialog,f=e.keySet,o=Object(i.c)();return Object(r.useEffect)((function(){var e={};!function(t){var r,a=Object(Nc.a)(t);try{var f=function(){var t=r.value;e[t.code]=function(e){e.preventDefault(),n(t.action)}};for(a.s();!(r=a.n()).done;)f()}catch(o){a.e(o)}finally{a.f()}}(f);var n=function(e){switch(e){case"UNDO":return o(Of.ActionCreators.undo()),void o(gf());case"REDO":return o(Of.ActionCreators.redo()),void o(gf());case"SWAP":return void o(mn());case"PALETTE_UP":return void o(jn());case"PALETTE_DOWN":return void o(xn());case"PALETTE_LEFT":return void o(yn());case"PALETTE_RIGHT":return void o(An());case"DOT":return void o(it(lt));case"BUCKET":return void o(it("BUCKET"));case"PIKCER":return void o(it("PICKER"));case"ERASER":return void o(it("ERASER"));case"MOVE":return void o(it("MOVE"));case"SAMECOLOR":return void o(it("SAMECOLOR"));case"INCREASE_COLUMN":return void o(Ot());case"DECREASE_COLUMN":return void o(Et());case"INCREASE_ROW":return void o(ht());case"DECREASE_ROW":return void o(vt());case"INCREASE_DOTSIZE":return void o(Pn());case"DECREASE_DOTSIZE":return void o(zn());default:return console.log("bind error")}},r=Object(Pc.a)(window,e);return t&&r(),function(){r()}}),[t,f,o]),a.a.createElement(Fc,null,a.a.createElement(Tf.f,{size:"2.5rem",onClick:n}))},Mc=function(){var e=Object(i.c)(),t=Object(i.d)((function(e){return{isTyping:e.observer.isTyping}})).isTyping,n=Object(i.d)((function(e){return{keySet:e.keybind.keySet}})).keySet,f=Object(r.useCallback)((function(){e(Ln("KeyBind"))}),[e]);return a.a.createElement(Hc,{isTyping:t,openKeyBindDialog:f,keySet:n})},Gc=function(e){var t=e.mousePosition,n=e.paintState,f=e.selectedPaintTool,o=e.onChangePaintStateHandle,c=e.onUpdateDotArtHandle,l=e.onAltDownHandle,i=e.onShiftDownHandle;return Object(r.useEffect)((function(){var e=function(e){console.log("mouse up!"),c(f),o("IDLE")};return"DRAGGING"===n&&window.addEventListener("mouseup",e,!1),function(){window.removeEventListener("mouseup",e,!1),console.log("remove event")}}),[n,f,o,c]),Object(r.useEffect)((function(){var e=function(e){"AltLeft"===e.code&&l(!1),"ShiftLeft"===e.code&&i(!1)},t=function(e){"AltLeft"===e.code&&l(!0),"ShiftLeft"===e.code&&i(!0)};return window.addEventListener("keyup",e,!1),window.addEventListener("keydown",t,!1),function(){window.removeEventListener("keyup",e,!1),window.removeEventListener("keydown",t,!1)}}),[l,i]),a.a.createElement("div",null,t&&"[".concat(t.x,", ").concat(t.y,"]"))},Uc=function(){var e=Object(i.c)(),t=Object(i.d)((function(e){return{mousePosition:e.observer.mousePosition}})).mousePosition,n=Object(i.d)((function(e){var t=e.paintTool;return{paintState:t.paintState,selectedPaintTool:t.selectedPaintTool}})),f=n.paintState,o=n.selectedPaintTool,c=Object(r.useCallback)((function(t){e(ut(t))}),[e]),l=Object(r.useCallback)((function(t){e(St(t))}),[e]),u=Object(r.useCallback)((function(t){e(Hn(t))}),[e]),d=Object(r.useCallback)((function(t){e(Mn(t))}),[e]);return a.a.createElement(Gc,{mousePosition:t,paintState:f,selectedPaintTool:o,onChangePaintStateHandle:c,onUpdateDotArtHandle:l,onAltDownHandle:u,onShiftDownHandle:d})};function Wc(){var e=Object(ve.a)(["\n  position: sticky;\n  max-height: 90vh;\n  width: 200px;\n  // & > * {\n  //   margin: 8px 0px;\n  //   max-width: 240px;\n  // }\n"]);return Wc=function(){return e},e}function Bc(){var e=Object(ve.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  left: 0px;\n  width: 150px;\n  & > * {\n    margin: 8px 0px;\n    max-width: 240px;\n  }\n"]);return Bc=function(){return e},e}function Vc(){var e=Object(ve.a)(["\n  display: flex;\n"]);return Vc=function(){return e},e}var Yc=ke.b.div(Vc()),Kc=ke.b.div(Bc()),Zc=ke.b.div(Wc()),Jc=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Lr,null),a.a.createElement(Yc,null,a.a.createElement(Kc,null,a.a.createElement(eo,null),a.a.createElement(Ff,null),a.a.createElement(Uf,null),a.a.createElement(Vo,null),a.a.createElement(Ko,null),a.a.createElement(Rc,null)),a.a.createElement(ua,null),a.a.createElement(Lf,null),a.a.createElement(Zc,null,a.a.createElement(ya,null),a.a.createElement(gc,null),a.a.createElement(ko,null),a.a.createElement(Uc,null))),a.a.createElement(Mc,null))},Xc=Object(l.f)((function(e){var t=e.match;return a.a.createElement(c.a,null,a.a.createElement(he,{path:t.path},a.a.createElement(l.c,null,a.a.createElement(l.a,{path:[t.path,"".concat(t.path,"/dot")],component:Jc}))))})),qc=n(569),$c=n(164),Qc=n(253),el=n.n(Qc),tl=n(254),nl=n.n(tl),rl=n(162),al=n.n(rl),fl=n(255),ol=n.n(fl),cl=n(570),ll=n(571),il=n(572),ul=n(568),dl=n(567),sl=n(504),bl=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(10),paddingTop:e.spacing(2),paddingBottom:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},palette:{fontSize:"50px",color:e.palette.primary.main},form:{margin:e.spacing(1)},submit:{margin:e.spacing(3,0,2),"& + &":{margin:e.spacing(0,0,2)}}}})),pl={login:"Login",signup:"SignUp"},ml=a.a.forwardRef((function(e,t){return a.a.createElement(sl.a,Object.assign({direction:"up",ref:t},e))})),Ol=Object(l.f)((function(e){var t=e.type,n=e.onSubmit,f=e.onChange,o=e.form,c=e.history,l=e.validError,i=e.userAuthError,u=e.onResetAuthError,s=pl[t],b=bl(),p=Object(r.useState)(!1),O=Object(d.a)(p,2),E=O[0],h=O[1],v=function(){h(!1),u()};return Object(r.useEffect)((function(){i&&h(!0)}),[i]),a.a.createElement(a.a.Fragment,null,a.a.createElement(yr.a,{open:E,TransitionComponent:ml,keepMounted:!0,onClose:v,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},a.a.createElement(je.a,{id:"alert-dialog-slide-title"},s," fail"),a.a.createElement(Ce.a,null,a.a.createElement(dl.a,{id:"alert-dialog-slide-description"},i)),a.a.createElement(ul.a,null,a.a.createElement(F.a,{onClick:v,color:"primary"},"OK"))),a.a.createElement(qc.a,{maxWidth:"xs"},a.a.createElement(m.a,null),a.a.createElement($c.a,{className:b.paper},a.a.createElement(el.a,{className:b.palette}),a.a.createElement(w.a,{component:"h1",variant:"h5"},"Dot Art"),a.a.createElement("form",{className:b.form,noValidate:!0,onSubmit:n},a.a.createElement(Ve.a,{onChange:f,value:o.username,variant:"outlined",required:!0,margin:"normal",fullWidth:!0,name:"username",label:"User",id:"username",helperText:l.username,error:!!l.username,autoFocus:!0,InputProps:{endAdornment:a.a.createElement(cl.a,{position:"end"},a.a.createElement(nl.a,{color:"primary"}))}}),a.a.createElement(Ve.a,{onChange:f,value:o.password,variant:"outlined",required:!0,margin:"normal",fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",helperText:l.password,error:!!l.password,InputProps:{endAdornment:a.a.createElement(cl.a,{position:"end"},a.a.createElement(al.a,{color:"primary"}))}}),"signup"===t&&a.a.createElement(Ve.a,{onChange:f,value:o.passwordConfirm,variant:"outlined",required:!0,margin:"normal",fullWidth:!0,name:"passwordConfirm",label:"PasswordConfirm",type:"password",id:"passwordConfirm",helperText:l.passwordConfirm,error:!!l.passwordConfirm,InputProps:{endAdornment:a.a.createElement(cl.a,{position:"end"},a.a.createElement(al.a,{color:"primary"}))}}),a.a.createElement(F.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:b.submit},"login"===t?"Log In":"Sign Up"),"login"===t&&a.a.createElement(F.a,{fullWidth:!0,color:"primary",variant:"contained",className:b.submit,startIcon:a.a.createElement(ol.a,null)},"Access Guest Account"),a.a.createElement(ll.a,{container:!0},a.a.createElement(ll.a,{item:!0,xs:!0}),"login"===t?a.a.createElement(ll.a,{item:!0},a.a.createElement(il.a,{onClick:function(){return c.push("/signup")}},"Don't have an account?")):a.a.createElement(ll.a,{item:!0},a.a.createElement(il.a,{onClick:function(){return c.push("/login")}},"have account?")))))))})),El=(Object(l.f)((function(e){var t=e.history,n=Object(i.c)(),f=Object(r.useState)({username:"",password:""}),o=Object(d.a)(f,2),c=o[0],l=o[1],u=Object(r.useState)(""),b=Object(d.a)(u,2),p=b[0],m=b[1],O=Object(i.d)((function(e){var t=e.auth,n=e.user;return{form:t.login,auth:t.auth,authError:t.authError,user:n.user}})),E=O.form,h=O.auth,v=O.authError,g=O.user;return Object(r.useEffect)((function(){n(rf("login"))}),[n]),Object(r.useEffect)((function(){if(v&&401===v.response.status)return m("Email and Password did not match."),void n(nf({form:"login",key:"password",value:""}));h&&(console.log("login"),n(de()))}),[h,v,n]),Object(r.useEffect)((function(){if(g){try{localStorage.setItem("dotArt_user",JSON.stringify(g))}catch(e){console.log("localStorage is not working!")}t.push("/")}}),[t,g]),a.a.createElement(Ol,{type:"login",form:E,onChange:function(e){var t=e.target,r=t.value,a=t.name,f=Object(s.a)({},c);f[a]="",l(f),m(""),n(nf({form:"login",key:a,value:r}))},onSubmit:function(e){e.preventDefault(),m("");var t=E.username,r=E.password,a="";""===t&&(a=Object(s.a)({},a,{username:"User is blank"})),""===r&&(a=Object(s.a)({},a,{password:"Password is blank"})),a?l(a):n(of({username:t,password:r}))},validError:c,userAuthError:p,onResetAuthError:function(){m(""),n(af())}})})),Object(l.f)((function(e){var t=e.history,n=Object(i.c)(),f=Object(r.useState)(""),o=Object(d.a)(f,2),c=o[0],l=o[1],u=Object(r.useState)({username:"",password:"",passwordConfirm:""}),b=Object(d.a)(u,2),p=b[0],m=b[1],O=Object(i.d)((function(e){var t=e.auth,n=e.user;return{form:t.signup,auth:t.auth,authError:t.authError,user:n.user}})),E=O.form,h=O.auth,v=O.authError,g=O.user;return Object(r.useEffect)((function(){n(rf("signup"))}),[n]),Object(r.useEffect)((function(){if(v)return 409===v.response.status?(l("User exist already, please signup another user instead"),n(nf({form:"signup",key:"password",value:""})),void n(nf({form:"signup",key:"passwordConfirm",value:""}))):void l("Sign up failed, please try again");h&&(console.log("\ud68c\uc6d0 \uac00\uc785 \uc131\uacf5"),console.log(h),n(de()))}),[h,v,n]),Object(r.useEffect)((function(){if(g){try{localStorage.setItem("dotArt_user",JSON.stringify(g))}catch(e){console.log("localStorage is not working!")}t.push("/")}}),[g,t]),a.a.createElement(Ol,{type:"signup",form:E,onChange:function(e){var t=e.target,r=t.value,a=t.name,f=Object(s.a)({},p);f[a]="",m(f),l(""),n(nf({form:"signup",key:a,value:r}))},onSubmit:function(e){e.preventDefault(),l("");var t=E.username,r=E.password,a=E.passwordConfirm,f="";""===t&&(f=Object(s.a)({},f,{username:"User is blank"})),""===r&&(f=Object(s.a)({},f,{password:"Password is blank"})),r!==a&&(f=Object(s.a)({},f,{passwordConfirm:"PasswordConfirm and Password is different"}),n(nf({form:"signup",key:"passwordConfirm",value:""}))),""===a&&(f=Object(s.a)({},f,{passwordConfirm:"PasswordConfirm is blank"})),f?m(f):n(ff({username:t,password:r}))},validError:p,userAuthError:c,onResetAuthError:function(){l(""),n(af())}})})),Object(l.f)((function(e){return Object(r.useEffect)((function(){localStorage.getItem("dotArt_user")?e.history.push("/main/dot"):e.history.push("/login")}),[e.history]),a.a.createElement("div",null)})),n(257)),hl=n(573),vl=Object(El.a)({palette:{primary:{main:"#9e9e9e",light:"#b1b1b1",dark:"#6e6e6e",contrastText:"#fff"},secondary:{main:"#E83838"}}}),gl=function(){return a.a.createElement(hl.a,{theme:vl},a.a.createElement(un.a,{maxSnack:3,anchorOrigin:{vertical:"top",horizontal:"center"}},a.a.createElement(c.a,null,a.a.createElement(l.c,null,a.a.createElement(l.a,{component:Xc})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Cl=n(256),jl=n(258),xl=Object(jl.a)(),yl=Object(Ba.createStore)(Sf,Object(Cl.composeWithDevTools)(Object(Ba.applyMiddleware)(xl)));xl.run(wf),function(){try{var e=localStorage.getItem("dotArt_user");if(!e)return;yl.dispatch(ue(e)),yl.dispatch(de())}catch(t){console.log("localStorage is not working!")}}(),o.a.render(a.a.createElement(i.a,{store:yl},a.a.createElement(c.a,null,a.a.createElement(gl,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},86:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAUklEQVRYR+3UsQkAQAhDUd3J/RfQnbwNYnFFmm8rQnhgsrs3xFSVWsfMyP11nwRAAAG7wO7KHvj98+s+CYAAAnYBexERAAEE7AL2IiIAAgi4BR59ogXwC7msxgAAAABJRU5ErkJggg=="}},[[277,1,2]]]);
//# sourceMappingURL=main.2d90dfbd.chunk.js.map