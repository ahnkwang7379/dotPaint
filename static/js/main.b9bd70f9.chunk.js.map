{"version":3,"sources":["components/header/Header.js","lib/client.js","lib/auth.js","modules/loading.js","lib/createRequestSaga.js","modules/user.js","containers/header/HeaderContainer.js","util/cssParser.js","components/common/Animation.js","components/common/Preview.js","components/common/CustomButton.js","util/dotArrayUtil.js","components/dialog/PreviewDialog.js","modules/paintTool.js","modules/dot.js","containers/dialog/PreviewDialogContainer.js","components/common/ToolTip.js","components/dialog/LoadDialog.js","util/json-example.js","util/localStorage.js","modules/dialog.js","containers/dialog/LoadDialogContainer.js","components/dialog/DownLoadDialog.js","util/saveFileDotArt.js","containers/dialog/DownLoadDialogContainer.js","components/dialog/KeyBindDialog.js","containers/dialog/KeyBindDialogContainer.js","components/dialog/Dialogs.js","containers/dialog/DialogContainer.js","components/dotArtTools/DotListBlock.js","components/dotArtTools/DotList.js","containers/dotArtTools/DotListContainer.js","modules/observer.js","components/dotArtTools/PreViewTools.js","containers/dotArtTools/PreViewContainer.js","components/common/DivBlock.js","components/dotPaint/DotPaintLine.js","components/dotPaint/DotLayer.js","containers/dotPaint/DotLayerContainer.js","components/dotPaint/DotPaint.js","modules/auth.js","modules/palettes.js","modules/keybind.js","util/shortcutData.js","modules/index.js","containers/dotPaint/DotPaintContainer.js","components/dotArtTools/PaintTool.js","containers/dotArtTools/PaintToolContainer.js","components/dotArtTools/SaveLoad.js","containers/dotArtTools/SaveLoadContainer.js","components/common/ColorCell.js","components/dotArtTools/PaletteCell.js","components/dotArtTools/Palette.js","components/dotArtTools/TrashCan.js","components/dotArtTools/TempBlockCell.js","components/dotArtTools/TempBlock.js","components/dotArtTools/Palettes.js","containers/dotArtTools/PalettesContainer.js","components/dotArtTools/BorderControl.js","containers/dotArtTools/DotBorderContainer.js","components/dotArtTools/DotAreaControl.js","containers/dotArtTools/DotAreaContainer.js","components/dotArtTools/LayerControl.js","containers/dotArtTools/LayerControlContainer.js","components/dotArtTools/PaintColor.js","containers/dotArtTools/PaintColorContainer.js","components/dotArtTools/KeyBindings.js","containers/dotArtTools/KeyBindingsContainer.js","components/dotArtTools/Observer.js","containers/dotArtTools/ObserverContainer.js","pages/DotArtPage.js","pages/MainPage.js","App.js","serviceWorker.js","index.js","img/black.png","img/white.png"],"names":["useStyles","makeStyles","theme","root","display","maxWidth","overflow","title","flexGrow","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","toolbar","height","content","width","padding","spacing","background","React","memo","withRouter","children","history","user","onLogout","classes","className","id","CssBaseline","AppBar","position","Toolbar","Typography","variant","noWrap","username","Button","color","onClick","push","client","axios","interceptors","request","use","config","localStorage","getItem","headers","common","err","console","log","response","error","Promise","reject","logout","post","startLoading","createAction","requestType","finishLoading","loading","handleActions","state","action","payload","createRequestActionTypes","type","createRequestSaga","SUCCESS","FAILURE","put","call","data","logoutSaga","userSaga","CHECK","CHECK_SUCCESS","CHECK_FAILURE","tempSetUser","check","checkSaga","get","checkFailureSaga","removeItem","e","authAPI","takeLatest","checkError","path","dispatch","useDispatch","useSelector","useCallback","window","document","exportAnimationData","frames","columns","cellSize","getAnimationCssClassOutput","pSize","c","cssClassName","getImageData","grid","opt","flat","xCoord","i","yCoord","parseInt","format","reduce","bsArray","x","y","bsString","concat","slice","getAnimationKeyframes","intervalData","generateAnimationIntervals","acc","frame","index","intervalAcc","layer","currentBoxShadow","minValue","maxValue","boxShadow","getImageCssClassOutput","boxShadowData","keyframes","result","key","Object","prototype","hasOwnProperty","Animation","props","name","shortid","generate","keyframeName","keyframeRules","rules","style","animation","animationName","animString","dotSet","dotList","column","size","opacity","parseFloat","top","left","cssString","animationData","cssOpacity","generateAnimationCSSData","dotArt","generatePixelDrawCss","styles","previewWrapper","MozBoxShadow","WebkitBoxShadow","border","generatePreview","CustomButtonStyled","styled","button","baseColor","css","disable","selected","selectColor","rest","defaultDotMaker","row","Array","fill","map","dotArrayMerge","topDotArr","bottomDotArr","mergedDotArray","length","j","layerListMerge","layerList","layerData","dotFrameIdx","mergedLayerList","k","mergeLayersByDotFrameList","dotFrameList","dotFrame","Wrapper","div","ButtonWrapper","PreviewScrollWrapper","PreviewBlock","attrs","pixelSize","columnCount","rowCount","PreviewDialog","activeIdx","animationDuration","handleChangeAnimationDuration","handleChangePixelSize","useState","setAnimation","TextField","label","value","onChange","target","onChangeAnimationDuration","onChangePixelSize","DOT","PICKER","MOVE","changePaintTool","paintTool","changePaintState","paintState","setDirection","direction","initialState","selectedPaintTool","clearDot","newDotArtProject","loadDotArt","loadedData","increaseColumn","decreaseColumn","increaseRow","decreaseRow","changeDotArea","newRow","newColumn","changeActiveIdx","idx","removeActiveDotArt","copyActiveDotArt","addNewDotArt","changeAnimationInterval","interval","changeAnimationDuration","changePixelSize","reorderDotList","startIdx","endIdx","updateDotArt","addNewLayer","shiftDown","removeLayer","margeLayer","moveUpLayer","moveDownLayer","selectLayerIdx","renameLayer","intervalSetter","quotient","Math","round","fakeDotArt","layerSelectIdx","layerName","dot","produce","draft","layerIdx","pop","originRow","originColumn","listIdx","returnDotFrameList","defaultDot","newDotFrame","intervals","cur","splice","removed","newDotArt","addLayerData","returnDotFrame","layerLength","addLayer","returnLayerData","topLayerIdx","bottomLayerIdx","topLayer","bottomLayer","returnLayer","returnSelectIdx","PreviewDialogContainer","modifiers","options","offset","Tooltip","tooltip","arrowRef","tooltipRef","getArrowProps","getTooltipProps","placement","ref","getTriggerProps","triggerRef","PreviewWrapper","backgroundImg","White","Black","CardDiv","StyleButton","LoadDialog","removeDotArtHandle","loadDotArtHandle","clearStorageHandler","dotArtIdx","ToolTip","stopPropagation","onClickRemove","exampleCat","examplePalette","colors","STORAGE_KEY","getDotArtDataFromStorage","storage","JSON","parse","savePalettesToStorage","palettesData","storageData","getPalettesDataFromStroage","setItem","stringify","removeDotArtFromStorage","newCurrent","current","saveDataToStorage","getPrivateSettingFromStorage","changeTypeAndOpen","dialogType","closeDialog","dialog","open","LoadDialogContainer","enqueueSnackbar","useSnackbar","observer","setLoadedData","CssTextArea","textarea","DownLoadDialog","saveFileHandler","setDialog","setType","textAreaRef","useRef","useEffect","select","execCommand","focus","readOnly","fillCanvasWithDotArt","canvas","dotArtInfo","cols","dotArtHeight","ctx","forEach","fillStyle","pixelIdx","col","floor","fillRect","renderImageToCanvas","canvasInfo","currentDotArtInfo","canvasHeight","canvasWidth","dotArtWidth","getContext","currentDotArt","saveCanvasToDisk","blob","fileExtension","saveAs","random","toString","replace","substr","saveFileDotArt","dotArtData","durationInMillisecond","createElement","gif","GIFEncoder","pipe","blobStream","on","this","toBlob","setRepeat","setDispose","writeHeader","previousInterval","dotAryArray","currentInterval","delay","setDelay","addFrame","finish","DownLoadDialogContainer","KeyBindCategory","KeyBindHeader","span","KeyBindLine","KeyBindBlock","HelpText","KeyBindDialog","paintTools","misc","category","helpText","KeyBindDialogContainer","keybind","closeButton","marginRight","Dialog","withStyles","paperScrollPaper","backgroundColor","MuiDialog","DialogContent","MuiDialogContent","Dialogs","handleCloseDialog","present","handleClose","Fragment","fullWidth","onClose","DialogTitle","IconButton","dividers","ButtonDiv","offsetTop","IndexBox","active","PreviewBox","disabled","IntervalInput","input","handleChangeIdx","handleCopyDotArt","handleRemoveDotArt","handleChangeInterval","lastIndex","aniInterval","setAniInterval","setPixelSize","newPixelSize","onChangeInput","onBlurHandle","draggableId","provided","onClickCapture","innerRef","draggableProps","dragHandleProps","fontSize","onBlur","step","DotListDiv","ScrollCustom","Span","handleAddDotArt","handleReorderDotList","onDragEnd","destination","source","droppableId","droppableProps","placeholder","changeTypingState","isTyping","mouseLeavesPaintArea","changeDotBorderSize","changeDotBorderColor","increaseDotSize","decreaseDotSize","altDown","dotSize","bool","loadData","observerData","changeShowLayers","changeBackgroundImg","saveStart","flag","mousePosition","dotBorder","showLayers","saveState","startPosition","PreviewToolsWrapper","ButtonBox","hovered","StyledButton","CustomButton","SliderBox","SliderSpan","handleOpenDialog","play","setPlay","zoomIn","setZoomIn","hoverPreviewBox","setHoverPreviewBox","setDotList","previewBlock","getElementById","maxSize","pixel","backgroundImage","min","paintBox","parentNode","childNode","childNodes","viewBox","cursor","attributes","draggable","appendChild","scrollEvent","overTop","overLeft","offsetLeft","scrollTop","scrollHeight","clientHeight","viewBoxHeight","scrollLeft","scrollWidth","clientWidth","viewBoxWidth","isClick","MutationObserver","mutations","mutation","observe","addEventListener","passive","body","previewData","getBoundingClientRect","clientX","clientY","moveX","moveY","scrollTo","removeEventListener","onChangeHoverPreviewBox","onMouseOver","onMouseOut","Slider","defaultValue","aria-labelledby","valueLabelDisplay","max","newValue","handleChangeTyping","typing","DivBlock","rowIdx","columnIdx","onMouseOverHandler","onMouseDown","dotLineIdx","shallowEqual","dotMaker","dotArr","LayerWrapper","Layer","DotLayerContainer","DotPaintWrapper","DotPaintBox","DotPaintBlock","borderSize","borderColor","onWheelHandle","onChangePaintStateHandle","onDotActionHandle","onSetDirectionHandle","onLeavesPaintAreaHandle","onMouseDownHandler","preventDefault","dotLineMaker","dotLineArr","onWheel","onContextMenu","onMouseLeave","onMouseDownCapture","authSaga","SIGNUP","SIGNUP_SUCCESS","SIGNUP_FAILURE","LOGIN","LOGIN_SUCCESS","LOGIN_FAILURE","signupSaga","form","password","loginSaga","signup","passwordConfirm","login","auth","authError","selectLeftColor","paletteId","selectIdx","selectRightColor","swapLeftRightColor","reorderPalettes","reorderPaletteCell","startPaletteId","endPaletteId","movePaletteToTrashCan","dragIdx","moveCellToTrashCan","moveCellFromTrashCan","selectColorCell","moveUpPaletteCell","moveDownPaletteCell","moveLeftPaletteCell","moveRightPaletteCell","palettes","selectColorId","colorId","leftColor","rightColor","trashCan","checkTrashCanIsFull","paletteIdx","palette","unshift","selectPalette","filter","findIndex","code","BUCKET","ERASER","SAMECOLOR","SWAP","PALETTE_UP","PALETTE_DOWN","PALETTE_LEFT","PALETTE_RIGHT","SAVE_DOTART","LOAD_DOTART","INCREASE_DOTSIZE","DECREASE_DOTSIZE","INCREASE_COLUMN","DECREASE_COLUMN","INCREASE_ROW","DECREASE_ROW","UNDO","REDO","MOVE_VIEWPORT_UP","MOVE_VIEWPORT_RIGHT","MOVE_VIEWPORT_DOWN","MOVE_VIEWPORT_LEFT","rootSaga","dotActions","clearFakeDotArt","combineDotArt","combineReducers","combineReducer","undoable","limit","ignoreInitialState","includeAction","floodFill","dotId","auxId","cellCollection","dotActionsHandler","paintToolState","fakeDotSet","arr","paletteColor","selectedDotId","dotIdx","dotColor","currentId","adjacents","adjacentId","adjacentColor","queue","indexOf","bucketDotArt","returnDotArt","removedDiffY","startX","startY","mouseX","mouseY","diffX","diffY","selectedDotColor","dotLine","fakeDotArtSetHandle","crossSilceReducer","newState","all","rootReducer","intermediateState","DotpaintContainer","deltaY","PaintToolBlock","PaintButtonBlock","paintToolsShortcuts","onChangePaintTool","PaintToolContainer","ButtonBlock","storageShortcuts","newProjectHandle","dotClearHandle","saveHandle","dialogOpenHandle","onClickNewProject","SaveLoadContainer","loadedPrivateData","saveDotArtData","saveDotArtToStorage","savePrivateData","autoSave","savePrivateSettingToStorage","Cell","ColorCell","PaletteCell","cellIdx","handleSelectLeftColor","handleSelectColorCell","handleSelectRightColor","PaletteBlock","PaletteDragHandle","DraggBlock","customStyle","snapshot","odd","smallThenDragIdx","isDragging","transform","marginLeft","Palette","isDropDisabled","isDraggingOver","TrashCanWrapper","displayBool","TrashCanBlock","TrashCan","dragType","TempBlockCell","TempBlockDiv","TempBlock","PalettesWrapper","DraggablePaletteBlock","CloneBlock","TrashBlock","handleReorderPalettes","handleReorderCell","handleMovePaletteToTrashCan","handleMoveCellToTrashCan","handleMoveCellFromTrashCan","handleSavePalettes","setDragIdx","setDragType","onBeforeDragStart","onBeforeCapture","substring","renderClone","event","palettesName","BorderWrapper","BackgroundBlock","BackgroundCell","BorderBlock","BorderPickBox","ColorPicker","onChangeDotBorderSize","onChangeDotBorderColor","onChangeBackgroundImg","DotBorderContainer","pick","hex","DotAreaWrapper","DotAreaBlock","onChangeArea","setRow","setColumn","onChangeRow","onChangeColumn","DotAreaContainer","LayerHead","EyeButton","LayerBox","LayerNameSpan","LayerNameInput","addNewLayerHandle","removeLayerHandle","mergeLayerHandle","moveUpHandle","moveDownHandle","selectLayerIdxHandle","renameLayerHandle","handleChangeShowLayers","reName","setReName","setName","inputRef","onClickHandle","onKeyPress","kayCode","onkeyPressHandle","LayerControlContainer","LeftClickBox","RightClickBox","ColorBox","ColorPickerBlock","Cover","changeLeftColor","changeRightColor","displayLeftColorPicker","setDisplayLeftColorPicker","displayRightColorPicker","setDisplayRightColorPicker","leftSelectColor","setLeftSelectColor","rightSelectColor","setRightSelectColor","handleOpenColorPicker","disableAlpha","PaintColorContainer","KeyBindWrapper","openKeyBindDialog","keyCombinations","keyCombinationMaker","keySet","keyData","keybindActionMaker","ActionCreators","undo","redo","scrollBy","unsubscribe","tinykeys","KeyBindingsContainer","ObserverWrapper","Observer","onUpdateDotArtHandle","onAltDownHandle","onShiftDownHandle","mouseUpHandle","mouseMove","wheelEvent","moveVerticalScroll","moveHorizontalScroll","parent","addPixel","scrollY","scrollX","keyUpHandle","keyDownHandle","ObserverContainer","MainWrapper","LeftToolBox","RightToolBox","DotArtPage","toolTipLeftRight","getElementsByClassName","toolTip","marginTop","PalettesContainer","DotPaintContainer","match","component","createMuiTheme","primary","main","light","dark","contrastText","secondary","App","ThemeProvider","maxSnack","anchorOrigin","vertical","horizontal","MainPage","Boolean","location","hostname","sagaMiddleware","createSagaMiddleware","store","createStore","composeWithDevTools","applyMiddleware","run","loadUser","ReactDOM","render","navigator","serviceWorker","ready","then","registration","unregister","catch","message","module","exports"],"mappings":"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,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,aAEvxF2D,SAAU,IAEZ,CACEnO,GAAIsH,KAAQC,WACZiD,UAAW,CACT,CAAC,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAA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","file":"static/js/main.b9bd70f9.chunk.js","sourcesContent":["import React from 'react';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    maxWidth: '100%',\r\n    overflow: 'hidden',\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  toolbar: {\r\n    height: '64px',\r\n  },\r\n  content: {\r\n    width: `100%`,\r\n    height: `100vh`,\r\n    flexGrow: 1,\r\n    padding: theme.spacing(1),\r\n    background: `#F2E8DC`,\r\n  },\r\n}));\r\n\r\nconst Header = ({ children, history, user, onLogout }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root} id=\"mainBox\">\r\n      <CssBaseline />\r\n      <AppBar position=\"fixed\" className={classes.appBar}>\r\n        <Toolbar>\r\n          <Typography variant=\"h6\" className={classes.title} noWrap>\r\n            Dot Art\r\n          </Typography>\r\n          {user ? (\r\n            <>\r\n              <Typography variant=\"h6\">{user.username}</Typography>\r\n              <Button color=\"inherit\" onClick={onLogout}>\r\n                Logout\r\n              </Button>\r\n            </>\r\n          ) : (\r\n            <Button color=\"inherit\" onClick={() => history.push('/login')}>\r\n              Login\r\n            </Button>\r\n          )}\r\n        </Toolbar>\r\n      </AppBar>\r\n      <main className={classes.content}>\r\n        <div className={classes.toolbar} />\r\n        {children}\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(withRouter(Header));\r\n","import axios from 'axios';\r\n\r\nconst client = axios.create();\r\n\r\n// client.defaults.baseURL = 'http://localhost:4000/';\r\n\r\n// 요청 전 헤더에 토큰을 실어주기 위한 인터셉터\r\nclient.interceptors.request.use(function (config) {\r\n  try {\r\n    const user = localStorage.getItem('access_token');\r\n    if (user) config.headers.common['Authorization'] = `Bearer ${user}`;\r\n  } catch (err) {\r\n    console.log('localStorage is not working');\r\n  }\r\n  return config;\r\n});\r\n\r\n// 응답 인터셉터\r\nclient.interceptors.response.use(\r\n  (response) => {\r\n    // 요청 성공\r\n    // console.log(response);\r\n    return response;\r\n  },\r\n  (error) => {\r\n    // 요청 실패\r\n    // console.log(error);\r\n    return Promise.reject(error);\r\n  },\r\n);\r\n\r\nexport default client;\r\n","import client from './client';\r\n\r\n// 로그인\r\nexport const login = ({ username, password }) =>\r\n  client.post('/api/auth/login', { username, password });\r\n\r\n// 로그아웃\r\nexport const logout = () => client.post('/api/auth/logout');\r\n\r\n// 회원가입\r\nexport const signup = ({ username, password }) =>\r\n  client.post('/api/auth/signup', { username, password });\r\n\r\n// 상태 확인\r\nexport const check = () => client.get('/api/auth/check');\r\n","import { createAction, handleActions } from 'redux-actions';\r\n\r\nconst START_LOADING = 'loading/START_LOADING';\r\nconst FINISH_LOADING = 'loading/FINISH_LOADING';\r\n\r\nexport const startLoading = createAction(\r\n  START_LOADING,\r\n  (requestType) => requestType,\r\n);\r\n\r\nexport const finishLoading = createAction(\r\n  FINISH_LOADING,\r\n  (requestType) => requestType,\r\n);\r\n\r\nconst initialState = {};\r\n\r\nconst loading = handleActions(\r\n  {\r\n    [START_LOADING]: (state, action) => ({\r\n      ...state,\r\n      [action.payload]: true,\r\n    }),\r\n    [FINISH_LOADING]: (state, action) => ({\r\n      ...state,\r\n      [action.payload]: false,\r\n    }),\r\n  },\r\n  initialState,\r\n);\r\n\r\nexport default loading;\r\n","import { call, put } from 'redux-saga/effects';\r\nimport { startLoading, finishLoading } from '../modules/loading';\r\n\r\nexport const createRequestActionTypes = (type) => {\r\n  const SUCCESS = `${type}_SUCCESS`;\r\n  const FAILURE = `${type}_FAILURE`;\r\n  return [type, SUCCESS, FAILURE];\r\n};\r\n\r\nexport default function createRequestSaga(type, request) {\r\n  const SUCCESS = `${type}_SUCCESS`;\r\n  const FAILURE = `${type}_FAILURE`;\r\n\r\n  return function* (action) {\r\n    yield put(startLoading(type)); // 로딩 시작\r\n    try {\r\n      const response = yield call(request, action.payload);\r\n      yield put({\r\n        type: SUCCESS,\r\n        payload: response.data,\r\n      });\r\n    } catch (e) {\r\n      yield put({\r\n        type: FAILURE,\r\n        payload: e,\r\n        error: true,\r\n      });\r\n    }\r\n    yield put(finishLoading(type)); // 로딩 끝\r\n  };\r\n}\r\n","import { createAction, handleActions } from 'redux-actions';\r\nimport { takeLatest, call } from 'redux-saga/effects';\r\nimport * as authAPI from '../lib/auth';\r\nimport createRequestSaga, {\r\n  createRequestActionTypes,\r\n} from '../lib/createRequestSaga';\r\n\r\nconst TEMP_SET_USER = 'user/TEMP_SET_USER';\r\nconst [CHECK, CHECK_SUCCESS, CHECK_FAILURE] = createRequestActionTypes(\r\n  'user/CHECK',\r\n);\r\nconst LOGOUT = 'user/LOGOUT';\r\n\r\nexport const tempSetUser = createAction(TEMP_SET_USER, (user) => user);\r\nexport const check = createAction(CHECK);\r\nexport const logout = createAction(LOGOUT);\r\n\r\nconst checkSaga = createRequestSaga(CHECK, authAPI.check);\r\n\r\nfunction checkFailureSaga() {\r\n  try {\r\n    localStorage.removeItem('dotArt_user');\r\n  } catch (e) {\r\n    console.log('localStorage is not working!');\r\n  }\r\n}\r\n\r\nfunction* logoutSaga() {\r\n  try {\r\n    yield call(authAPI.logout);\r\n    localStorage.removeItem('dotArt_user');\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n}\r\n\r\nexport function* userSaga() {\r\n  yield takeLatest(CHECK, checkSaga);\r\n  yield takeLatest(CHECK_FAILURE, checkFailureSaga);\r\n  yield takeLatest(LOGOUT, logoutSaga);\r\n}\r\n\r\nconst initialState = {\r\n  user: null,\r\n  checkError: null,\r\n};\r\n\r\nexport default handleActions(\r\n  {\r\n    [TEMP_SET_USER]: (state, { payload: user }) => ({\r\n      ...state,\r\n      user,\r\n    }),\r\n    [CHECK_SUCCESS]: (state, { payload: user }) => ({\r\n      ...state,\r\n      user,\r\n      checkError: null,\r\n    }),\r\n    [CHECK_FAILURE]: (state, { payload: error }) => ({\r\n      ...state,\r\n      user: null,\r\n      checkError: error,\r\n    }),\r\n    [LOGOUT]: (state) => ({\r\n      ...state,\r\n      user: null,\r\n    }),\r\n  },\r\n  initialState,\r\n);\r\n","import React, { useCallback } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Header from '../../components/header/Header';\r\nimport { logout } from '../../modules/user';\r\n\r\nconst HeaderContainer = ({ children, path }) => {\r\n  const dispatch = useDispatch();\r\n  const { user } = useSelector(({ user }) => ({ user: user.user }));\r\n  const onLogout = useCallback(() => {\r\n    dispatch(logout());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <Header\r\n      window={document.window}\r\n      path={path}\r\n      user={user}\r\n      onLogout={onLogout}\r\n    >\r\n      {children}\r\n    </Header>\r\n  );\r\n};\r\n\r\nexport default React.memo(HeaderContainer);\r\n","import { generateAnimationIntervals } from 'box-shadow-pixels';\r\n\r\nconst DOTART_CSS = 'dotArt-to-css';\r\n\r\nexport function generatePixelDrawCss(dotArt, columns, cellSize, type) {\r\n  return getImageData(dotArt, {\r\n    format: type,\r\n    pSize: cellSize,\r\n    c: columns,\r\n  });\r\n}\r\n\r\nexport function getCssImageClassOutput(dotArt, columns, cellSize) {\r\n  return getImageCssClassOutput(dotArt, {\r\n    format: 'string',\r\n    pSize: cellSize,\r\n    c: columns,\r\n    cssClassName: DOTART_CSS,\r\n  });\r\n}\r\n\r\nexport function generateAnimationCSSData(frames, columns, cellSize) {\r\n  return getAnimationKeyframes(frames, {\r\n    pSize: cellSize,\r\n    c: columns,\r\n  });\r\n}\r\n\r\nexport function exportAnimationData(frames, columns, cellSize, duration) {\r\n  return getAnimationCssClassOutput(frames, {\r\n    pSize: cellSize,\r\n    c: columns,\r\n    duration,\r\n    cssClassName: DOTART_CSS,\r\n  });\r\n}\r\n\r\nconst getImageData = function getImageData(grid, opt) {\r\n  grid = grid.flat();\r\n  var xCoord = function xCoord(i) {\r\n    return (i % opt.c) * opt.pSize + opt.pSize;\r\n  };\r\n  var yCoord = function yCoord(i) {\r\n    return parseInt(i / opt.c, 10) * opt.pSize + opt.pSize;\r\n  };\r\n  switch (opt.format) {\r\n    case 'array': {\r\n      return grid.reduce(function (bsArray, color, i) {\r\n        if (color !== '') {\r\n          bsArray.push({\r\n            x: xCoord(i),\r\n            y: yCoord(i),\r\n            color: color,\r\n          });\r\n        }\r\n        return bsArray;\r\n      }, []);\r\n    }\r\n    default: {\r\n      // return grid\r\n      //   .reduce(\r\n      //     (acc, cur, rowIdx) =>\r\n      //       acc.concat(\r\n      //         cur.reduce(\r\n      //           (bsString, color, columnIdx) =>\r\n      //             color !== ''\r\n      //               ? ''\r\n      //                   .concat(bsString, ' ')\r\n      //                   .concat(opt.pSize * columnIdx + opt.pSize, 'px ')\r\n      //                   .concat(opt.pSize * rowIdx + opt.pSize, 'px ')\r\n      //                   .concat(color, ',')\r\n      //               : bsString,\r\n      //           '',\r\n      //         ),\r\n      //       ),\r\n      //     '',\r\n      //   )\r\n      //   .slice(1, -1);\r\n      return grid\r\n        .reduce(function (bsString, color, i) {\r\n          if (color !== '') {\r\n            return ''\r\n              .concat(bsString, ' ')\r\n              .concat(xCoord(i), 'px ')\r\n              .concat(yCoord(i), 'px ')\r\n              .concat(color, ',');\r\n          }\r\n          return bsString;\r\n        }, '')\r\n        .slice(1, -1);\r\n    }\r\n  }\r\n};\r\nconst getAnimationKeyframes = function getAnimationKeyframes(frames, opt) {\r\n  var intervalData = generateAnimationIntervals(frames);\r\n  var result = frames.reduce(function (acc, frame, index) {\r\n    var intervalAcc = acc;\r\n    try {\r\n      var grid = frame.layer || frame.get('layer') || 0;\r\n      if (grid) {\r\n        var currentBoxShadow = getImageData(grid, {\r\n          pSize: opt.pSize,\r\n          c: opt.c,\r\n        });\r\n        if (currentBoxShadow === '') {\r\n          currentBoxShadow = '0px 0px #00000000';\r\n        }\r\n        var minValue = index === 0 ? 0 : intervalData[index] + 0.01;\r\n        var maxValue = intervalData[index + 1];\r\n        intervalAcc[''.concat(minValue, '%, ').concat(maxValue, '%')] = {\r\n          boxShadow: ''\r\n            .concat(currentBoxShadow, ';height: ')\r\n            .concat(opt.pSize, 'px; width: ')\r\n            .concat(opt.pSize, 'px'),\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.error(\r\n        'Input data error: Each frame object must contain a grid value',\r\n      );\r\n    }\r\n    return intervalAcc;\r\n  }, {});\r\n  return result;\r\n};\r\n\r\nconst getImageCssClassOutput = function getImageCssClassOutput(grid, opt) {\r\n  var boxShadowData = getImageData(grid, opt);\r\n  return '.'\r\n    .concat(opt.cssClassName, ' {\\n  box-shadow: ')\r\n    .concat(boxShadowData, ';\\n  height: ')\r\n    .concat(opt.pSize, 'px;\\n  width: ')\r\n    .concat(opt.pSize, 'px;\\n}');\r\n};\r\n\r\nconst getAnimationCssClassOutput = function getAnimationCssClassOutput(\r\n  frames,\r\n  opt,\r\n) {\r\n  var keyframes = getAnimationKeyframes(frames, opt);\r\n  var result = '';\r\n  result += '.'.concat(opt.cssClassName, ' {\\n  position: absolute;\\n  ');\r\n  result += 'animation: x '.concat(opt.duration, 's infinite;\\n  ');\r\n  result += '-webkit-animation: x '.concat(opt.duration, 's infinite;\\n  ');\r\n  result += '-moz-animation: x '.concat(opt.duration, 's infinite;\\n  ');\r\n  result += '-o-animation: x '.concat(opt.duration, 's infinite;\\n}\\n\\n');\r\n  result += '@keyframes x {\\n';\r\n  for (var key in keyframes) {\r\n    if (Object.prototype.hasOwnProperty.call(keyframes, key)) {\r\n      var boxShadow = keyframes[key].boxShadow;\r\n      result += ''\r\n        .concat(key, '{\\n  box-shadow: ')\r\n        .concat(boxShadow, '\\n  }\\n');\r\n    }\r\n  }\r\n  result += '}';\r\n  return result;\r\n};\r\n","import React from 'react';\r\nimport { keyframes } from 'styled-components';\r\nimport shortid from 'shortid';\r\n\r\nconst Animation = (props) => {\r\n  const { boxShadow, duration } = props;\r\n  const name = `anim-${shortid.generate()}`;\r\n  const keyframeName = `${name}`;\r\n  const keyframeRules = keyframes`${boxShadow}`.rules;\r\n  const style = {\r\n    position: 'absolute',\r\n    animation: `x ${duration}s infinite`,\r\n    animationName: keyframeName,\r\n  };\r\n  const animString = `@keyframes ${keyframeName} {${keyframeRules}}`;\r\n  return (\r\n    <div>\r\n      <div className=\"animation-container\" style={style} />\r\n      <style>{animString}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Animation;\r\n","import React from 'react';\r\nimport {\r\n  generateAnimationCSSData,\r\n  generatePixelDrawCss,\r\n} from '../../util/cssParser';\r\nimport Animation from './Animation';\r\n\r\nconst Preview = ({\r\n  dotSet,\r\n  dotList,\r\n  column,\r\n  size,\r\n  animation,\r\n  duration,\r\n  zIndex,\r\n  opacity,\r\n}) => {\r\n  const cellSize = typeof size === 'string' ? parseFloat(size) : size;\r\n\r\n  const generatePreview = () => {\r\n    const columns = column;\r\n    let cssString;\r\n    let animationData;\r\n    let cssOpacity = opacity ? opacity : 1;\r\n\r\n    if (animation) {\r\n      animationData = generateAnimationCSSData(dotList, columns, cellSize);\r\n      return <Animation boxShadow={animationData} duration={duration} />;\r\n    } else {\r\n      cssString = generatePixelDrawCss(dotSet, columns, cellSize, 'string');\r\n\r\n      const styles = {\r\n        previewWrapper: {\r\n          position: 'absolute',\r\n          height: cellSize,\r\n          width: cellSize,\r\n          boxShadow: cssString,\r\n          MozBoxShadow: cssString,\r\n          WebkitBoxShadow: cssString,\r\n          border: '0px',\r\n          zIndex: zIndex ? zIndex : '',\r\n          opacity: cssOpacity,\r\n        },\r\n      };\r\n      return <div style={styles.previewWrapper} />;\r\n    }\r\n  };\r\n\r\n  const style = {\r\n    position: 'relative',\r\n    top: `-${cellSize}px`,\r\n    left: `-${cellSize}px`,\r\n  };\r\n\r\n  return (\r\n    <div className=\"preview\" style={style}>\r\n      {generatePreview()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(Preview);\r\n","import React from 'react';\r\nimport styled, { css } from 'styled-components';\r\n\r\nconst CustomButtonStyled = styled.button`\r\n  background-color: #f2f2f2;\r\n  font-size: 20px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  color: #59564f;\r\n  ${(props) =>\r\n    props.baseColor &&\r\n    css`\r\n      background: ${props.baseColor};\r\n      color: #fff;\r\n    `}\r\n  width: ${(props) => (props.width ? `${props.width}px` : `100%`)};\r\n  height: ${(props) => (props.height ? `${props.height}px` : `auto`)};\r\n  border: 2px solid #59564f;\r\n  outline: none;\r\n  border-radius: 0.5rem;\r\n  text-align: center;\r\n  box-shadow: 0 0.3rem #999;\r\n  transition: all 0.05s ease-in-out;\r\n  ${(props) =>\r\n    !props.disable &&\r\n    css`\r\n      &:hover {\r\n        color: #0d0d0d;\r\n        background: ${(props) => (props.color ? `${props.color}` : `#a69e94`)};\r\n      }\r\n      &:active {\r\n        color: #0d0d0d;\r\n        background: ${(props) => (props.color ? `${props.color}` : `#a69e94`)};\r\n        box-shadow: 0 0.1rem #666;\r\n        transform: translateY(4px);\r\n      }\r\n    `}\r\n\r\n  &:disabled {\r\n    background: #afafaf;\r\n    color: #777777;\r\n  }\r\n\r\n  ${(props) =>\r\n    props.selected === true &&\r\n    css`\r\n      color: #0d0d0d;\r\n      background: ${(props) =>\r\n        props.selectColor ? `${props.selectColor}` : `#a69e94`};\r\n      box-shadow: 0 0.1rem #666;\r\n      transform: translateY(4px);\r\n    `}\r\n`;\r\n\r\nconst CustomButton = ({ children, ...rest }) => {\r\n  return <CustomButtonStyled {...rest}>{children}</CustomButtonStyled>;\r\n};\r\n\r\nexport default React.memo(CustomButton);\r\n","export function defaultDotMaker(row, column) {\r\n  return new Array(row).fill().map(() => new Array(column).fill(''));\r\n}\r\n\r\n// 두 개의 dotArray 합치기\r\nexport function dotArrayMerge(topDotArr, bottomDotArr, row, column) {\r\n  row = row ? row : topDotArr.length;\r\n  column = column ? column : topDotArr[0].length;\r\n  let mergedDotArray = defaultDotMaker(row, column);\r\n  for (let i = 0; i < row; i++) {\r\n    for (let j = 0; j < column; j++) {\r\n      topDotArr[i][j] !== ''\r\n        ? (mergedDotArray[i][j] = topDotArr[i][j])\r\n        : (mergedDotArray[i][j] = bottomDotArr[i][j]);\r\n    }\r\n  }\r\n  return mergedDotArray;\r\n}\r\n\r\n// layerList를 하나의 dotArray로 합치는 함수\r\nexport function layerListMerge(layerList, layerData, row, column) {\r\n  row = row ? row : layerList[0].length;\r\n  column = column ? column : layerList[0][0].length;\r\n\r\n  const dotFrameIdx = layerData.map((layer) => layer.dotFrameIdx);\r\n\r\n  let mergedLayerList = defaultDotMaker(row, column);\r\n\r\n  for (let i = 0; i < row; i++) {\r\n    for (let j = 0; j < column; j++) {\r\n      for (let k = dotFrameIdx.length - 1; k >= 0; k--) {\r\n        // 역순\r\n        let color = layerList[dotFrameIdx[k]][i][j];\r\n        if (color !== '') {\r\n          mergedLayerList[i][j] = color;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return mergedLayerList;\r\n}\r\n\r\nexport function mergeLayersByDotFrameList(dotFrameList, layerData) {\r\n  const returnDotFrameList = dotFrameList.map((dotFrame) => {\r\n    return {\r\n      ...dotFrame,\r\n      layer: layerListMerge(dotFrame.layerList, layerData),\r\n    };\r\n  });\r\n\r\n  return returnDotFrameList;\r\n}\r\n","import React, { useState } from 'react';\r\nimport Preview from '../common/Preview';\r\nimport CustomButton from '../common/CustomButton';\r\nimport styled from 'styled-components';\r\nimport { MdPlayArrow, MdPause } from 'react-icons/md';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport {\r\n  layerListMerge,\r\n  mergeLayersByDotFrameList,\r\n} from '../../util/dotArrayUtil';\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  height: 100%;\r\n`;\r\n\r\nconst ButtonWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  margin-bottom: 8px;\r\n  & > * {\r\n    margin: 8px;\r\n    max-width: 160px;\r\n  }\r\n`;\r\n\r\nconst PreviewScrollWrapper = styled.div`\r\n  overflow: auto;\r\n  max-width: 100%;\r\n  max-height: 100%;\r\n  border: 1px solid #9e9e9e;\r\n`;\r\n\r\nconst PreviewBlock = styled.div.attrs(\r\n  ({ pixelSize, columnCount, rowCount }) => ({\r\n    style: {\r\n      width: `${columnCount * pixelSize}px`,\r\n      height: `${rowCount * pixelSize}px`,\r\n    },\r\n  }),\r\n)``;\r\n\r\nconst PreviewDialog = ({\r\n  dotFrameList,\r\n  activeIdx,\r\n  rowCount,\r\n  columnCount,\r\n  animationDuration,\r\n  pixelSize,\r\n  layerData,\r\n  handleChangeAnimationDuration,\r\n  handleChangePixelSize,\r\n}) => {\r\n  const [animation, setAnimation] = useState(true);\r\n  const toggleAnimation = () => {\r\n    setAnimation(!animation);\r\n  };\r\n\r\n  const onChangePixelSize = (e) => {\r\n    handleChangePixelSize(e.target.value);\r\n  };\r\n\r\n  const onChangeAnimationDuration = (e) => {\r\n    setAnimation(false);\r\n    if (e.target.value <= 0 || e.target.value === '') {\r\n      handleChangeAnimationDuration(0);\r\n    } else {\r\n      handleChangeAnimationDuration(e.target.value);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <ButtonWrapper>\r\n        <TextField\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n          type=\"number\"\r\n          label=\"Animation Duration\"\r\n          color=\"secondary\"\r\n          value={animationDuration}\r\n          onChange={(e) => onChangeAnimationDuration(e)}\r\n        />\r\n        <TextField\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n          type=\"number\"\r\n          label=\"PixelSize\"\r\n          color=\"secondary\"\r\n          value={pixelSize}\r\n          onChange={(e) => onChangePixelSize(e)}\r\n        />\r\n        <CustomButton\r\n          onClick={toggleAnimation}\r\n          selected={animation}\r\n          selectColor=\"#f05556\"\r\n          color={animation ? '#b71b2d' : '#008000'}\r\n          width=\"40\"\r\n          height=\"40\"\r\n          baseColor=\"#3db12a\"\r\n        >\r\n          {animation ? <MdPause /> : <MdPlayArrow />}\r\n        </CustomButton>\r\n      </ButtonWrapper>\r\n      <PreviewScrollWrapper>\r\n        <PreviewBlock\r\n          pixelSize={pixelSize}\r\n          columnCount={columnCount}\r\n          rowCount={rowCount}\r\n        >\r\n          {!animation && (\r\n            <Preview\r\n              dotSet={layerListMerge(\r\n                dotFrameList[activeIdx].layerList,\r\n                layerData,\r\n              )}\r\n              column={columnCount}\r\n              size={pixelSize}\r\n            />\r\n          )}\r\n          {animation && (\r\n            <Preview\r\n              dotList={mergeLayersByDotFrameList(dotFrameList, layerData)}\r\n              column={columnCount}\r\n              size={pixelSize}\r\n              animation={animation}\r\n              duration={animationDuration}\r\n            />\r\n          )}\r\n        </PreviewBlock>\r\n      </PreviewScrollWrapper>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default PreviewDialog;\r\n","import { createAction, handleActions } from 'redux-actions';\r\n\r\n// paintTool\r\nexport const DOT = 'DOT';\r\nexport const BUCKET = 'BUCKET';\r\nexport const PICKER = 'PICKER';\r\nexport const ERASER = 'ERASER';\r\nexport const MOVE = 'MOVE';\r\nexport const SAMECOLOR = 'SAMECOLOR';\r\n\r\nexport const CHANGE_PAINT_TOOL = 'paintTool/CHANGE_PAINT_TOOL';\r\nconst CHANGE_PAINT_STATE = 'paintTool/CHANGE_PAINT_STATE';\r\nconst SET_DIRECTION = 'paintTool/SET_DIRECTION';\r\n\r\nexport const changePaintTool = createAction(\r\n  CHANGE_PAINT_TOOL,\r\n  (paintTool) => paintTool,\r\n);\r\nexport const changePaintState = createAction(\r\n  CHANGE_PAINT_STATE,\r\n  (paintState) => paintState,\r\n);\r\nexport const setDirection = createAction(\r\n  SET_DIRECTION,\r\n  (direction) => direction,\r\n);\r\n\r\nconst initialState = {\r\n  selectedPaintTool: DOT,\r\n  paintState: 'IDLE',\r\n  direction: 'LEFT',\r\n};\r\n\r\nconst paintTool = handleActions(\r\n  {\r\n    [CHANGE_PAINT_TOOL]: (state, { payload: paintTool }) => ({\r\n      ...state,\r\n      selectedPaintTool: paintTool,\r\n    }),\r\n    [CHANGE_PAINT_STATE]: (state, { payload: paintState }) => ({\r\n      ...state,\r\n      paintState: paintState,\r\n    }),\r\n    [SET_DIRECTION]: (state, { payload: direction }) => ({\r\n      ...state,\r\n      direction: direction,\r\n    }),\r\n  },\r\n  initialState,\r\n);\r\n\r\nexport default paintTool;\r\n","import { createAction, handleActions } from 'redux-actions';\r\nimport produce from 'immer';\r\nimport shortid from 'shortid';\r\nimport { DOT, ERASER, BUCKET, PICKER, MOVE, SAMECOLOR } from './paintTool';\r\nimport { defaultDotMaker, dotArrayMerge } from '../util/dotArrayUtil';\r\n\r\nexport const CLEAR_DOT = 'dot/CLEAR_DOT';\r\nexport const NEW_DOT_ART_PROJECT = 'dot/NEW_DOT_ART_PROJECT';\r\nexport const LOAD_DOT_ART = 'dot/LOAD_DOT_ART';\r\n\r\nexport const INCREASE_COLUMN = 'dot/INCREASE_COLUMN';\r\nexport const DECREASE_COLUMN = 'dot/DECREASE_COLUMN';\r\nexport const INCREASE_ROW = 'dot/INCREASE_ROW';\r\nexport const DECREASE_ROW = 'dot/DECREASE_ROW';\r\nexport const CHANGE_DOT_AREA = 'dot/CHANGE_DOT_AREA';\r\n\r\nexport const CHANGE_ACTIVE_IDX = 'dot/CHANGE_ACTIVE_IDX';\r\nexport const REMOVE_ACTIVE_DOT_ART = 'dot/REMOVE_ACTIVE_DOT_ART';\r\nexport const COPY_ACTIVE_DOT_ART = 'dot/COPY_ACTIVE_DOT_ART';\r\nexport const ADD_NEW_DOT_ART = 'dot/ADD_NEW_DOT_ART';\r\nexport const CHANGE_ANIMATION_INTERVAL = 'dot/CHANGE_ANIMATION_INTERVAL';\r\nconst CHANGE_ANIMATION_DURATION = 'dot/CHANGE_ANIMATION_DURATION';\r\nconst CHANGE_PIXEL_SIZE = 'dot/CHANGE_PIXEL_SIZE';\r\nexport const REORDER_DOT_LIST = 'dot/REORDER_DOT_LIST';\r\nexport const UPDATE_DOT_ART = 'dot/UPDATE_DOT_ART';\r\n\r\n// Layer\r\nexport const ADD_NEW_LAYER = 'dot/ADD_NEW_LAYER';\r\nexport const REMOVE_LAYER = 'dot/REMOVE_LAYER';\r\nexport const MERGE_LAYER = 'dot/MERGE_LAYER';\r\nexport const MOVE_UP_LAYER = 'dot/MOVE_UP_LAYER';\r\nexport const MOVE_DOWN_LAYER = 'dot/MOVE_DOWN_LAYER';\r\nexport const SELECT_LAYER_IDX = 'dot/SELECT_LAYER_IDX';\r\nexport const RENAME_LAYER = 'dot/RENAME_LAYER';\r\n\r\n// redux actions\r\nexport const clearDot = createAction(CLEAR_DOT);\r\nexport const newDotArtProject = createAction(NEW_DOT_ART_PROJECT);\r\nexport const loadDotArt = createAction(\r\n  LOAD_DOT_ART,\r\n  (loadedData) => loadedData,\r\n);\r\nexport const increaseColumn = createAction(INCREASE_COLUMN);\r\nexport const decreaseColumn = createAction(DECREASE_COLUMN);\r\nexport const increaseRow = createAction(INCREASE_ROW);\r\nexport const decreaseRow = createAction(DECREASE_ROW);\r\nexport const changeDotArea = createAction(\r\n  CHANGE_DOT_AREA,\r\n  ({ newRow, newColumn }) => ({ newRow, newColumn }),\r\n);\r\nexport const changeActiveIdx = createAction(CHANGE_ACTIVE_IDX, (idx) => idx);\r\nexport const removeActiveDotArt = createAction(REMOVE_ACTIVE_DOT_ART);\r\nexport const copyActiveDotArt = createAction(COPY_ACTIVE_DOT_ART);\r\nexport const addNewDotArt = createAction(ADD_NEW_DOT_ART);\r\nexport const changeAnimationInterval = createAction(\r\n  CHANGE_ANIMATION_INTERVAL,\r\n  (interval, activeIdx) => ({ interval, activeIdx }),\r\n);\r\nexport const changeAnimationDuration = createAction(\r\n  CHANGE_ANIMATION_DURATION,\r\n  (duration) => duration,\r\n);\r\nexport const changePixelSize = createAction(\r\n  CHANGE_PIXEL_SIZE,\r\n  (pixelSize) => pixelSize,\r\n);\r\nexport const reorderDotList = createAction(\r\n  REORDER_DOT_LIST,\r\n  ({ startIdx, endIdx }) => ({ startIdx, endIdx }),\r\n);\r\nexport const updateDotArt = createAction(\r\n  UPDATE_DOT_ART,\r\n  (selectedPaintTool) => selectedPaintTool,\r\n);\r\nexport const addNewLayer = createAction(\r\n  ADD_NEW_LAYER,\r\n  (shiftDown) => shiftDown,\r\n);\r\nexport const removeLayer = createAction(REMOVE_LAYER);\r\nexport const margeLayer = createAction(MERGE_LAYER);\r\nexport const moveUpLayer = createAction(\r\n  MOVE_UP_LAYER,\r\n  (shiftDown) => shiftDown,\r\n);\r\nexport const moveDownLayer = createAction(\r\n  MOVE_DOWN_LAYER,\r\n  (shiftDown) => shiftDown,\r\n);\r\nexport const selectLayerIdx = createAction(SELECT_LAYER_IDX, (idx) => idx);\r\nexport const renameLayer = createAction(RENAME_LAYER, (name) => name);\r\n\r\nfunction intervalSetter(dotList) {\r\n  const quotient = 100 / dotList.length;\r\n  const returnDotList = dotList.map((dotSet, idx) => {\r\n    return {\r\n      ...dotSet,\r\n      interval:\r\n        idx === dotList.length\r\n          ? 100\r\n          : Math.round((idx + 1) * quotient * 100) / 100,\r\n    };\r\n  });\r\n  return returnDotList;\r\n}\r\n\r\nconst initialState = {\r\n  fakeDotArt: defaultDotMaker(16, 16),\r\n  dotFrameList: [\r\n    {\r\n      id: shortid.generate(),\r\n      layerList: [defaultDotMaker(16, 16)],\r\n      interval: 100,\r\n    },\r\n  ],\r\n  columnCount: 16,\r\n  rowCount: 16,\r\n  animationDuration: 2,\r\n  activeIdx: 0,\r\n  layerSelectIdx: 0,\r\n  layerData: [{ layerName: 'Layer 1', dotFrameIdx: 0 }],\r\n  pixelSize: 32,\r\n};\r\n\r\nconst dot = handleActions(\r\n  {\r\n    [CLEAR_DOT]: (state) =>\r\n      produce(state, (draft) => {\r\n        const layerIdx = draft.layerData[draft.layerSelectIdx].dotFrameIdx;\r\n        draft.dotFrameList[state.activeIdx].layerList[\r\n          layerIdx\r\n        ] = defaultDotMaker(draft.rowCount, draft.columnCount);\r\n      }),\r\n    [NEW_DOT_ART_PROJECT]: () => ({\r\n      ...initialState,\r\n    }),\r\n    [LOAD_DOT_ART]: (state, { payload: loadedData }) => ({\r\n      ...state,\r\n      activeIdx: 0,\r\n      fakeDotArt: defaultDotMaker(loadedData.rowCount, loadedData.columnCount),\r\n      layerSelectIdx: 0,\r\n      ...loadedData,\r\n    }),\r\n    [INCREASE_COLUMN]: (state) =>\r\n      produce(state, (draft) => {\r\n        draft.columnCount = draft.columnCount + 1;\r\n        for (let i = 0; i < draft.dotFrameList.length; i++) {\r\n          draft.dotFrameList[i].layerList.map((layer) =>\r\n            layer.map((column) => column.push('')),\r\n          );\r\n        }\r\n      }),\r\n    [DECREASE_COLUMN]: (state) =>\r\n      produce(state, (draft) => {\r\n        if (draft.columnCount > 1) {\r\n          draft.columnCount = draft.columnCount - 1;\r\n          for (let i = 0; i < draft.dotFrameList.length; i++) {\r\n            draft.dotFrameList[i].layerList.map((layer) =>\r\n              layer.map((column) => column.pop()),\r\n            );\r\n          }\r\n        }\r\n      }),\r\n    [INCREASE_ROW]: (state) =>\r\n      produce(state, (draft) => {\r\n        draft.rowCount = draft.rowCount + 1;\r\n        for (let i = 0; i < draft.dotFrameList.length; i++) {\r\n          draft.dotFrameList[i].layerList.map((layer) =>\r\n            layer.push(new Array(draft.columnCount).fill('')),\r\n          );\r\n        }\r\n        draft.fakeDotArt = defaultDotMaker(draft.rowCount, draft.columnCount);\r\n      }),\r\n    [DECREASE_ROW]: (state) =>\r\n      produce(state, (draft) => {\r\n        if (draft.rowCount > 1) {\r\n          draft.rowCount = draft.rowCount - 1;\r\n          for (let i = 0; i < draft.dotFrameList.length; i++) {\r\n            draft.dotFrameList[i].layerList.map((layer) => layer.pop());\r\n          }\r\n          draft.fakeDotArt = defaultDotMaker(draft.rowCount, draft.columnCount);\r\n        }\r\n      }),\r\n    [CHANGE_DOT_AREA]: (state, { payload: { newRow, newColumn } }) =>\r\n      produce(state, (draft) => {\r\n        if (newRow < 1 || newColumn < 1) {\r\n          return;\r\n        }\r\n        const originRow = draft.rowCount;\r\n        const originColumn = draft.columnCount;\r\n\r\n        for (let listIdx = 0; listIdx < draft.dotFrameList.length; listIdx++) {\r\n          if (newColumn > originColumn) {\r\n            for (let i = originColumn; i < newColumn; i++) {\r\n              draft.dotFrameList[listIdx].layerList.map((layer) =>\r\n                layer.map((column) => column.push('')),\r\n              );\r\n            }\r\n          }\r\n\r\n          if (newColumn < originColumn) {\r\n            for (let i = newColumn; i < originColumn; i++) {\r\n              draft.dotFrameList[listIdx].layerList.map((layer) =>\r\n                layer.map((column) => column.pop()),\r\n              );\r\n            }\r\n          }\r\n\r\n          if (newRow > originRow) {\r\n            for (let i = originRow; i < newRow; i++) {\r\n              draft.dotFrameList[listIdx].layerList.map((layer) =>\r\n                layer.push(new Array(newColumn).fill('')),\r\n              );\r\n            }\r\n          }\r\n\r\n          if (newRow < originRow) {\r\n            for (let i = newRow; i < originRow; i++) {\r\n              draft.dotFrameList[listIdx].layerList.map((layer) => layer.pop());\r\n            }\r\n          }\r\n        }\r\n\r\n        draft.rowCount = newRow;\r\n        draft.columnCount = newColumn;\r\n        draft.fakeDotArt = defaultDotMaker(draft.rowCount, draft.columnCount);\r\n      }),\r\n    [CHANGE_ACTIVE_IDX]: (state, { payload: idx }) => ({\r\n      ...state,\r\n      activeIdx: idx,\r\n    }),\r\n    [REMOVE_ACTIVE_DOT_ART]: (state) => {\r\n      if (state.dotFrameList.length === 1) return { ...state }; // 단일 dotFrame은 삭제 불가\r\n\r\n      const { dotFrameList, activeIdx } = state;\r\n\r\n      const returnDotFrameList = intervalSetter(\r\n        []\r\n          .concat(dotFrameList.slice(0, activeIdx))\r\n          .concat(dotFrameList.slice(activeIdx + 1)),\r\n      );\r\n\r\n      return {\r\n        ...state,\r\n        dotFrameList: returnDotFrameList,\r\n        activeIdx:\r\n          activeIdx > returnDotFrameList.length - 1 ? activeIdx - 1 : activeIdx,\r\n      };\r\n    },\r\n    [COPY_ACTIVE_DOT_ART]: (state) => {\r\n      const { dotFrameList, activeIdx } = state;\r\n\r\n      const returnDotFrameList = intervalSetter(\r\n        []\r\n          .concat(dotFrameList.slice(0, activeIdx + 1))\r\n          .concat({ ...dotFrameList[activeIdx], id: shortid.generate() })\r\n          .concat(dotFrameList.slice(activeIdx + 1)),\r\n      );\r\n\r\n      return {\r\n        ...state,\r\n        dotFrameList: returnDotFrameList,\r\n        activeIdx: activeIdx + 1,\r\n      };\r\n    },\r\n    [ADD_NEW_DOT_ART]: (state) => {\r\n      const defaultDot = defaultDotMaker(state.rowCount, state.columnCount);\r\n      const newDotFrame = {\r\n        id: shortid.generate(),\r\n        layerList: new Array(state.layerData.length).fill(defaultDot),\r\n        interval: 0,\r\n      };\r\n\r\n      const returnDotFrameList = intervalSetter(\r\n        [].concat(state.dotFrameList.slice()).concat(newDotFrame),\r\n      );\r\n\r\n      return {\r\n        ...state,\r\n        dotFrameList: returnDotFrameList,\r\n        activeIdx: returnDotFrameList.length - 1,\r\n      };\r\n    },\r\n    [CHANGE_ANIMATION_INTERVAL]: (\r\n      state,\r\n      { payload: { interval, activeIdx } },\r\n    ) =>\r\n      produce(state, (draft) => {\r\n        const dotList = draft.dotFrameList;\r\n        if (dotList[activeIdx + 1].interval < interval) {\r\n          // 현재 interval이 다음 animation보다 늦어선 안되므로 최대치로 조정해준다\r\n          dotList[activeIdx].interval = dotList[activeIdx + 1].interval;\r\n          return;\r\n        } else {\r\n          if (activeIdx === 0) {\r\n            dotList[activeIdx].interval = interval <= 0 ? 0.1 : interval;\r\n          } else {\r\n            dotList[activeIdx].interval =\r\n              dotList[activeIdx - 1].interval > interval\r\n                ? dotList[activeIdx - 1].interval\r\n                : interval;\r\n          }\r\n        }\r\n      }),\r\n    [CHANGE_ANIMATION_DURATION]: (state, { payload: duration }) => ({\r\n      ...state,\r\n      animationDuration: duration,\r\n    }),\r\n    [CHANGE_PIXEL_SIZE]: (state, { payload: pixelSize }) => ({\r\n      ...state,\r\n      pixelSize: pixelSize,\r\n    }),\r\n    [REORDER_DOT_LIST]: (state, { payload: { startIdx, endIdx } }) =>\r\n      produce(state, (draft) => {\r\n        const intervals = draft.dotFrameList.reduce(\r\n          (acc, cur) => (acc = acc.concat(cur.interval)),\r\n          [],\r\n        );\r\n\r\n        const [removed] = draft.dotFrameList.splice(startIdx, 1);\r\n        draft.dotFrameList.splice(endIdx, 0, removed);\r\n\r\n        // interval 다시 세팅\r\n        intervals.map(\r\n          (interval, idx) => (draft.dotFrameList[idx].interval = interval),\r\n        );\r\n\r\n        const activeIdx = draft.activeIdx;\r\n        // activeIdx 다시 잡아주기\r\n        if (activeIdx === startIdx) {\r\n          draft.activeIdx = endIdx;\r\n        } else if (activeIdx > startIdx) {\r\n          if (activeIdx <= endIdx) {\r\n            draft.activeIdx -= 1;\r\n          }\r\n        } else {\r\n          if (activeIdx >= endIdx) {\r\n            draft.activeIdx += 1;\r\n          }\r\n        }\r\n      }),\r\n    [UPDATE_DOT_ART]: (state, { payload: selectedPaintTool }) => {\r\n      if (selectedPaintTool === PICKER) return { ...state };\r\n\r\n      let newDotArt;\r\n\r\n      if (selectedPaintTool === DOT) {\r\n        const layerIdx = state.layerData[state.layerSelectIdx].dotFrameIdx;\r\n        newDotArt = dotArrayMerge(\r\n          state.fakeDotArt,\r\n          state.dotFrameList[state.activeIdx].layerList[layerIdx],\r\n          state.rowCount,\r\n          state.columnCount,\r\n        );\r\n      }\r\n      if (selectedPaintTool === ERASER) {\r\n        newDotArt = state.fakeDotArt;\r\n      }\r\n      if (selectedPaintTool === BUCKET) {\r\n        newDotArt = state.fakeDotArt;\r\n      }\r\n      if (selectedPaintTool === MOVE) {\r\n        newDotArt = state.fakeDotArt;\r\n      }\r\n      if (selectedPaintTool === SAMECOLOR) {\r\n        newDotArt = state.fakeDotArt;\r\n      }\r\n\r\n      return produce(state, (draft) => {\r\n        draft.dotFrameList[draft.activeIdx].layerList[\r\n          draft.layerData[draft.layerSelectIdx].dotFrameIdx\r\n        ] = newDotArt;\r\n      });\r\n    },\r\n    [ADD_NEW_LAYER]: (state, { payload: shiftDown }) => {\r\n      const { layerSelectIdx, layerData } = state;\r\n      const layerLength = layerData.length;\r\n      const dotFrameIdx = layerData[layerSelectIdx].dotFrameIdx;\r\n\r\n      let addLayer = [];\r\n      let addLayerData;\r\n      let returnDotFrame;\r\n      if (shiftDown) {\r\n        // 레이어 복사\r\n        for (let i = 0; i < state.dotFrameList.length; i++) {\r\n          addLayer = addLayer.concat([\r\n            state.dotFrameList[i].layerList[dotFrameIdx].slice(),\r\n          ]);\r\n        }\r\n\r\n        addLayerData = {\r\n          layerName: `${layerData[layerSelectIdx].layerName} (copy)`,\r\n          dotFrameIdx: layerLength,\r\n        };\r\n\r\n        returnDotFrame = state.dotFrameList.map((dotFrame, idx) => {\r\n          return {\r\n            ...dotFrame,\r\n            layerList: []\r\n              .concat(dotFrame.layerList.slice())\r\n              .concat([addLayer[idx]]),\r\n          };\r\n        });\r\n      } else {\r\n        // 신규 레이어\r\n        addLayer = [defaultDotMaker(state.rowCount, state.columnCount)];\r\n\r\n        addLayerData = {\r\n          layerName: `Layer ${layerLength + 1}`,\r\n          dotFrameIdx: layerLength,\r\n        };\r\n\r\n        returnDotFrame = state.dotFrameList.map((dotFrame) => {\r\n          return {\r\n            ...dotFrame,\r\n            layerList: [].concat(dotFrame.layerList.slice()).concat(addLayer),\r\n          };\r\n        });\r\n      }\r\n\r\n      const returnLayerData = []\r\n        .concat(layerData.slice(0, layerSelectIdx + 1))\r\n        .concat(addLayerData)\r\n        .concat(layerData.slice(layerSelectIdx + 1));\r\n\r\n      return {\r\n        ...state,\r\n        dotFrameList: returnDotFrame,\r\n        layerSelectIdx: layerSelectIdx + 1,\r\n        layerData: returnLayerData,\r\n      };\r\n    },\r\n    [REMOVE_LAYER]: (state) => {\r\n      if (state.layerData.length === 1) return { ...state }; // 최소 하나의 layer는 보장해야 함\r\n      const { layerSelectIdx, layerData } = state;\r\n      const layerLength = layerData.length;\r\n      const dotFrameIdx = layerData[layerSelectIdx].dotFrameIdx;\r\n\r\n      const returnDotFrame = state.dotFrameList.map((dotFrame) => {\r\n        return {\r\n          ...dotFrame,\r\n          layerList: []\r\n            .concat(dotFrame.layerList.slice(0, dotFrameIdx))\r\n            .concat(dotFrame.layerList.slice(dotFrameIdx + 1)),\r\n        };\r\n      });\r\n      let returnLayerData = []\r\n        .concat(layerData.slice(0, layerSelectIdx))\r\n        .concat(layerData.slice(layerSelectIdx + 1));\r\n\r\n      // dotFrameIdx 다시 잡아주기. select된 layer의 dotFrameIdx보다 높거나 같은 친구들을 하나씩 낮춰주자\r\n      returnLayerData = returnLayerData.map((data) => {\r\n        if (data.dotFrameIdx > dotFrameIdx) {\r\n          return {\r\n            ...data,\r\n            dotFrameIdx: data.dotFrameIdx - 1,\r\n          };\r\n        } else {\r\n          return { ...data };\r\n        }\r\n      });\r\n\r\n      return {\r\n        ...state,\r\n        dotFrameList: returnDotFrame,\r\n        layerData: returnLayerData,\r\n        layerSelectIdx:\r\n          state.layerSelectIdx === layerLength - 1\r\n            ? state.layerSelectIdx - 1\r\n            : state.layerSelectIdx,\r\n      };\r\n    },\r\n    [MERGE_LAYER]: (state) => {\r\n      const { layerSelectIdx, layerData, dotFrameList } = state;\r\n      const layerLength = layerData.length;\r\n\r\n      if (layerLength === 1) return { ...state }; // 하나의 layer만 있으면 실행 불가\r\n      if (layerSelectIdx === 0) return { ...state }; // 맨 아래 layer는 merge가 불가능\r\n\r\n      const topLayerIdx = layerData[layerSelectIdx].dotFrameIdx;\r\n      const bottomLayerIdx = layerData[layerSelectIdx - 1].dotFrameIdx;\r\n\r\n      let returnDotFrameList = [];\r\n      for (let i = 0; i < dotFrameList.length; i++) {\r\n        let topLayer = dotFrameList[i].layerList[topLayerIdx].slice();\r\n        let bottomLayer = dotFrameList[i].layerList[bottomLayerIdx].slice();\r\n\r\n        let returnLayer = dotFrameList[i].layerList.reduce((acc, cur, idx) => {\r\n          if (idx === topLayerIdx) {\r\n            return acc.concat([\r\n              dotArrayMerge(\r\n                topLayer,\r\n                bottomLayer,\r\n                state.rowCount,\r\n                state.columnCount,\r\n              ),\r\n            ]);\r\n          } else if (idx === bottomLayerIdx) {\r\n            return acc;\r\n          } else {\r\n            return acc.concat([cur]);\r\n          }\r\n        }, []);\r\n\r\n        let result = {\r\n          id: dotFrameList[i].id,\r\n          layerList: returnLayer,\r\n          interval: dotFrameList[i].interval,\r\n        };\r\n\r\n        returnDotFrameList.push(result);\r\n      }\r\n\r\n      let returnLayerData = []\r\n        .concat(layerData.slice(0, layerSelectIdx - 1))\r\n        .concat(layerData.slice(layerSelectIdx));\r\n\r\n      const dotFrameIdx = layerData[layerSelectIdx - 1].dotFrameIdx; // remove와는 다르다 주의할 것\r\n\r\n      // dotFrameIdx 다시 잡아주기. 선택된 layer의 dotFrameIdx보다 높은 친구들을 하나씩 낮춰주자\r\n      returnLayerData = returnLayerData.map((data) => {\r\n        if (data.dotFrameIdx > dotFrameIdx) {\r\n          return {\r\n            ...data,\r\n            dotFrameIdx: data.dotFrameIdx - 1,\r\n          };\r\n        } else {\r\n          return { ...data };\r\n        }\r\n      });\r\n\r\n      return {\r\n        ...state,\r\n        dotFrameList: returnDotFrameList,\r\n        layerSelectIdx: state.layerSelectIdx - 1,\r\n        layerData: returnLayerData,\r\n      };\r\n    },\r\n    [MOVE_UP_LAYER]: (state, { payload: shiftDown }) => {\r\n      const layerLength = state.layerData.length;\r\n      const { layerSelectIdx, layerData } = state;\r\n\r\n      if (layerSelectIdx === layerLength - 1) return { ...state }; // 맨 위는 이동 불가\r\n\r\n      let returnLayerData;\r\n      let returnSelectIdx;\r\n\r\n      if (!shiftDown) {\r\n        // 한 칸 위로 이동\r\n        returnLayerData = []\r\n          .concat(layerData.slice(0, layerSelectIdx === 0 ? 0 : layerSelectIdx))\r\n          .concat(layerData.slice(layerSelectIdx + 1, layerSelectIdx + 2))\r\n          .concat(layerData.slice(layerSelectIdx, layerSelectIdx + 1))\r\n          .concat(layerData.slice(layerSelectIdx + 2));\r\n        returnSelectIdx = layerSelectIdx + 1;\r\n      } else {\r\n        // 맨 위로 이동\r\n        returnLayerData = []\r\n          .concat(layerData.slice(0, layerSelectIdx === 0 ? 0 : layerSelectIdx))\r\n          .concat(layerData.slice(layerSelectIdx + 1))\r\n          .concat(layerData.slice(layerSelectIdx, layerSelectIdx + 1));\r\n        returnSelectIdx = layerLength - 1;\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        layerSelectIdx: returnSelectIdx,\r\n        layerData: returnLayerData,\r\n      };\r\n    },\r\n    [MOVE_DOWN_LAYER]: (state, { payload: shiftDown }) => {\r\n      const { layerSelectIdx, layerData } = state;\r\n\r\n      if (layerSelectIdx === 0) return { ...state }; // 맨 아래는 더 이동 불가\r\n\r\n      let returnLayerData;\r\n      let returnSelectIdx;\r\n\r\n      if (!shiftDown) {\r\n        // 한 칸 아래로 이동\r\n        returnLayerData = []\r\n          .concat(layerData.slice(0, layerSelectIdx - 1)) // idx가 0인 경우는 위에서 걸러놨음\r\n          .concat(layerData.slice(layerSelectIdx, layerSelectIdx + 1))\r\n          .concat(layerData.slice(layerSelectIdx - 1, layerSelectIdx))\r\n          .concat(layerData.slice(layerSelectIdx + 1));\r\n        returnSelectIdx = layerSelectIdx - 1;\r\n      } else {\r\n        // 맨 아래로 이동\r\n        returnLayerData = []\r\n          .concat(layerData.slice(layerSelectIdx, layerSelectIdx + 1))\r\n          .concat(layerData.slice(0, layerSelectIdx))\r\n          .concat(layerData.slice(layerSelectIdx + 1));\r\n        returnSelectIdx = 0;\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        layerSelectIdx: returnSelectIdx,\r\n        layerData: returnLayerData,\r\n      };\r\n    },\r\n    [SELECT_LAYER_IDX]: (state, { payload: idx }) => ({\r\n      ...state,\r\n      layerSelectIdx: idx,\r\n    }),\r\n    [RENAME_LAYER]: (state, { payload: name }) => ({\r\n      ...state,\r\n      layerData: state.layerData.map((data, idx) =>\r\n        idx === state.layerSelectIdx\r\n          ? { ...data, layerName: name }\r\n          : { ...data },\r\n      ),\r\n    }),\r\n  },\r\n  initialState,\r\n);\r\n\r\nexport default dot;\r\n","import React, { useCallback } from 'react';\r\nimport PreviewDialog from '../../components/dialog/PreviewDialog';\r\nimport { changeAnimationDuration, changePixelSize } from '../../modules/dot';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nconst PreviewDialogContainer = ({ dot }) => {\r\n  const dispatch = useDispatch();\r\n  const handleChangeAnimationDuration = useCallback(\r\n    (duration) => {\r\n      dispatch(changeAnimationDuration(duration));\r\n    },\r\n    [dispatch],\r\n  );\r\n  const handleChangePixelSize = useCallback(\r\n    (pixelSize) => {\r\n      dispatch(changePixelSize(parseInt(pixelSize)));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  return (\r\n    <PreviewDialog\r\n      dotFrameList={dot.dotFrameList}\r\n      activeIdx={dot.activeIdx}\r\n      rowCount={dot.rowCount}\r\n      columnCount={dot.columnCount}\r\n      animationDuration={dot.animationDuration}\r\n      pixelSize={dot.pixelSize}\r\n      layerData={dot.layerData}\r\n      handleChangeAnimationDuration={handleChangeAnimationDuration}\r\n      handleChangePixelSize={handleChangePixelSize}\r\n    />\r\n  );\r\n};\r\n\r\nexport default PreviewDialogContainer;\r\n","import React from 'react';\r\nimport TooltipTrigger from 'react-popper-tooltip';\r\nimport '../../css/custom-tooltip.css';\r\n\r\nconst modifiers = [\r\n  {\r\n    name: 'offset',\r\n    options: {\r\n      offset: [0, 8],\r\n    },\r\n  },\r\n];\r\n\r\nconst Tooltip = ({ children, tooltip, disable, ...props }) => (\r\n  <TooltipTrigger\r\n    {...props}\r\n    tooltip={({\r\n      arrowRef,\r\n      tooltipRef,\r\n      getArrowProps,\r\n      getTooltipProps,\r\n      placement,\r\n    }) => (\r\n      <div\r\n        {...getTooltipProps({\r\n          ref: tooltipRef,\r\n          className: 'tooltip-container',\r\n        })}\r\n      >\r\n        {\r\n          <div\r\n            {...getArrowProps({\r\n              ref: arrowRef,\r\n              className: 'tooltip-arrow',\r\n              'data-placement': placement,\r\n            })}\r\n          />\r\n        }\r\n        {tooltip}\r\n      </div>\r\n    )}\r\n    modifiers={modifiers}\r\n  >\r\n    {({ getTriggerProps, triggerRef }) => (\r\n      <span\r\n        {...getTriggerProps({\r\n          ref: triggerRef,\r\n          className: 'trigger',\r\n        })}\r\n      >\r\n        {children}\r\n      </span>\r\n    )}\r\n  </TooltipTrigger>\r\n);\r\n\r\nexport default Tooltip;\r\n","import React from 'react';\r\nimport CustomButton from '../common/CustomButton';\r\nimport Preview from '../common/Preview';\r\nimport styled from 'styled-components';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { mergeLayersByDotFrameList } from '../../util/dotArrayUtil';\r\nimport ToolTip from '../common/ToolTip';\r\nimport Black from '../../img/black.png';\r\nimport White from '../../img/white.png';\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  height: 100%;\r\n`;\r\n\r\nconst ButtonWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  margin-bottom: 8px;\r\n  & > * {\r\n    margin: 8px;\r\n    max-width: 160px;\r\n  }\r\n`;\r\n\r\nconst PreviewWrapper = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  & > * {\r\n    margin: 8px;\r\n  }\r\n  overflow: auto;\r\n`;\r\n\r\nconst PreviewBlock = styled.div`\r\n  background-image: ${(props) =>\r\n    props.backgroundImg === 1 ? `url(${White})` : `url(${Black})`};\r\n  width: ${(props) => props.columnCount * props.size}px;\r\n  height: ${(props) => props.rowCount * props.size}px;\r\n`;\r\n\r\nconst CardDiv = styled.div`\r\n  height: fit-content;\r\n  background: rgb(255, 255, 255);\r\n  opacity: 1;\r\n  border: solid 1px black;\r\n  box-sizing: border-box;\r\n  display: flex;\r\n  align-items: end;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst StyleButton = styled.div`\r\n  background: #9e9e9e;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 1.5rem;\r\n  height: 1.5rem;\r\n  font-size: 1rem;\r\n  color: #f0f0f0;\r\n  &:hover {\r\n    background: #6e6e6e;\r\n    color: #fff;\r\n  }\r\n`;\r\n\r\nconst LoadDialog = ({\r\n  backgroundImg,\r\n  loadedData,\r\n  removeDotArtHandle,\r\n  loadDotArtHandle,\r\n  clearStorageHandler,\r\n}) => {\r\n  const onClickRemove = (dotArtIdx, e) => {\r\n    e.stopPropagation();\r\n    removeDotArtHandle(dotArtIdx);\r\n  };\r\n  return (\r\n    <Wrapper>\r\n      <ButtonWrapper>\r\n        <CustomButton width=\"150\" height=\"50\" onClick={clearStorageHandler}>\r\n          Clear\r\n        </CustomButton>\r\n      </ButtonWrapper>\r\n      <PreviewWrapper>\r\n        {loadedData && loadedData.dotArt.length !== 0 ? (\r\n          loadedData.dotArt.map((dotArt, dotArtIdx) => {\r\n            return (\r\n              <CardDiv\r\n                key={dotArt.dot.id}\r\n                onClick={() => loadDotArtHandle(dotArt)}\r\n              >\r\n                <ToolTip placement=\"top\" tooltip={<>Load this save data</>}>\r\n                  <PreviewBlock\r\n                    size=\"4\"\r\n                    backgroundImg={backgroundImg}\r\n                    columnCount={dotArt.dot.columnCount}\r\n                    rowCount={dotArt.dot.rowCount}\r\n                    key={dotArt.dot.id}\r\n                  >\r\n                    <Preview\r\n                      dotList={mergeLayersByDotFrameList(\r\n                        dotArt.dot.dotFrameList,\r\n                        dotArt.dot.layerData,\r\n                      )}\r\n                      column={dotArt.dot.columnCount}\r\n                      size=\"4\"\r\n                      duration={dotArt.dot.animationDuration}\r\n                      key={dotArt.dot.id}\r\n                      animation={true}\r\n                    />\r\n                  </PreviewBlock>\r\n                </ToolTip>\r\n                <ToolTip placement=\"top\" tooltip={<>Remove data</>}>\r\n                  <StyleButton onClick={(e) => onClickRemove(dotArtIdx, e)}>\r\n                    <DeleteIcon />\r\n                  </StyleButton>\r\n                </ToolTip>\r\n              </CardDiv>\r\n            );\r\n          })\r\n        ) : (\r\n          <h1>No Save Data</h1>\r\n        )}\r\n      </PreviewWrapper>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default LoadDialog;\r\n","import shortid from 'shortid';\r\n\r\nexport const exampleCat = {\r\n  id: 'example-cat',\r\n  dotFrameList: [\r\n    {\r\n      id: shortid.generate(),\r\n      layerList: [\r\n        [[\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffcdd2\", \"#ffffff\", \"#ffffff\", \"#ffcdd2\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\"], [\"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#ffffff\", \"#ffffff\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#ffffff\", \"#ffffff\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\"]], // prettier-ignore\r\n      ],\r\n      interval: 25,\r\n    },\r\n    {\r\n      id: shortid.generate(),\r\n      layerList: [\r\n        [[\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffcdd2\", \"#ffffff\", \"#ffffff\", \"#ffcdd2\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\"], [\"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#ffffff\", \"#ffffff\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#ffffff\", \"#ffffff\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\"]], // prettier-ignore\r\n      ],\r\n      interval: 50,\r\n    },\r\n    {\r\n      id: shortid.generate(),\r\n      layerList: [\r\n        [[\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffcdd2\", \"#ffffff\", \"#ffffff\", \"#ffcdd2\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\"], [\"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#ffffff\", \"#ffffff\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#ffffff\", \"#ffffff\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\"]], // prettier-ignore\r\n      ],\r\n      interval: 75,\r\n    },\r\n    {\r\n      id: shortid.generate(),\r\n      layerList: [\r\n        [[\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffcdd2\", \"#ffffff\", \"#ffffff\", \"#ffcdd2\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\"], [\"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#ffffff\", \"#ffffff\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#ffffff\", \"#ffffff\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\"]], // prettier-ignore\r\n      ],\r\n      interval: 100,\r\n    },\r\n  ],\r\n  layerData: [\r\n    {\r\n      layerName: 'Layer 1',\r\n      dotFrameIdx: 0,\r\n    },\r\n  ],\r\n  columnCount: 16,\r\n  rowCount: 16,\r\n  animationDuration: 2,\r\n};\r\n\r\n// export const exampleCat = {\r\n//   id: 'example',\r\n//   dotList: [\r\n//     {\r\n//       id: shortid.generate(),\r\n//       name: 'layer1',\r\n//       // dot: [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffcdd2\", \"#ffffff\", \"#ffffff\", \"#ffcdd2\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#ffffff\", \"#ffffff\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#ffffff\", \"#ffffff\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\"], // prettier-ignore\r\n//       dot: [[\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffcdd2\", \"#ffffff\", \"#ffffff\", \"#ffcdd2\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\"], [\"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#ffffff\", \"#ffffff\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#ffffff\", \"#ffffff\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\"]], // prettier-ignore\r\n//       interval: 25,\r\n//     },\r\n//     {\r\n//       id: shortid.generate(),\r\n//       name: 'layer2',\r\n//       // dot: [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffcdd2\", \"#ffffff\", \"#ffffff\", \"#ffcdd2\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#ffffff\", \"#ffffff\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#ffffff\", \"#ffffff\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\"], // prettier-ignore\r\n//       dot: [[\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffcdd2\", \"#ffffff\", \"#ffffff\", \"#ffcdd2\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\"], [\"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#ffffff\", \"#ffffff\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#ffffff\", \"#ffffff\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\"]], // prettier-ignore\r\n//       interval: 50,\r\n//     },\r\n//     {\r\n//       id: shortid.generate(),\r\n//       name: 'layer3',\r\n//       // dot: [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffcdd2\", \"#ffffff\", \"#ffffff\", \"#ffcdd2\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#ffffff\", \"#ffffff\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#ffffff\", \"#ffffff\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\"], // prettier-ignore\r\n//       dot: [[\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffcdd2\", \"#ffffff\", \"#ffffff\", \"#ffcdd2\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\"], [\"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#ffffff\", \"#ffffff\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#ffffff\", \"#ffffff\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\"]], // prettier-ignore\r\n//       interval: 75,\r\n//     },\r\n//     {\r\n//       id: shortid.generate(),\r\n//       name: 'layer4',\r\n//       // dot: [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffcdd2\", \"#ffffff\", \"#ffffff\", \"#ffcdd2\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#ffffff\", \"#ffffff\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#ffffff\", \"#ffffff\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\"], // prettier-ignore\r\n//       dot: [[\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffcdd2\", \"#ffffff\", \"#ffffff\", \"#ffcdd2\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\"], [\"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#ffffff\", \"#ffffff\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#ffffff\", \"#ffffff\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\"]], // prettier-ignore\r\n//       interval: 100,\r\n//     },\r\n//   ],\r\n//   columnCount: 16,\r\n//   rowCount: 16,\r\n//   animationDuration: 2,\r\n// };\r\n\r\nexport const examplePalette = [\r\n  {\r\n    id: shortid.generate(),\r\n    colors: ['#393b2d', '#75651a', '#775b1c', '#788260', '#bab887', '#dfd6c5'],\r\n  },\r\n  {\r\n    id: shortid.generate(),\r\n    colors: ['#4b73a4', '#667883', '#937e6a', '#b89d80', '#dadbd6', '#faf9fb'],\r\n  },\r\n  {\r\n    id: shortid.generate(),\r\n    colors: ['#03070a', '#374552', '#3c8999', '#959ea7', '#9ccce3', '#b8cde0'],\r\n  },\r\n  {\r\n    id: shortid.generate(),\r\n    colors: ['#171516', '#303030', '#553634', '#92898c', '#a70d01', '#c4c2c3'],\r\n  },\r\n  {\r\n    id: shortid.generate(),\r\n    colors: ['#1d0e0b', '#393e54', '#5e260d'],\r\n  },\r\n];\r\n","import { exampleCat } from './json-example';\r\n\r\nconst STORAGE_KEY = 'dotArt_storage_v1';\r\nconst STORAGE_PALETTES_KEY = 'dotArt_palettes_storage';\r\nconst STORAGE_PRIVATE_SETTING = 'dotArt_private_setting_v1';\r\n\r\nfunction saveDataToStorage(storage, data) {\r\n  try {\r\n    storage.setItem(STORAGE_KEY, JSON.stringify(data));\r\n    return true;\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport function initialStorage(storage) {\r\n  storage.setItem(\r\n    STORAGE_KEY,\r\n    JSON.stringify({\r\n      dotArt: [\r\n        {\r\n          dot: { ...exampleCat },\r\n        },\r\n      ],\r\n      current: 0,\r\n    }),\r\n  );\r\n}\r\n\r\nexport function clearSavedDotArtFromStorage(storage) {\r\n  storage.removeItem(STORAGE_KEY);\r\n}\r\n\r\nexport function getDotArtDataFromStorage(storage) {\r\n  try {\r\n    const data = storage.getItem(STORAGE_KEY);\r\n    return data ? JSON.parse(data) : false;\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport function getPalettesDataFromStroage(storage) {\r\n  try {\r\n    const data = storage.getItem(STORAGE_PALETTES_KEY);\r\n    return data ? JSON.parse(data) : false;\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport function saveDotArtToStorage(storage, dotArtData) {\r\n  try {\r\n    let storageData = getDotArtDataFromStorage(storage);\r\n    if (storageData && storageData.dotArt) {\r\n      storageData.dotArt.push(dotArtData);\r\n      storageData.current = storageData.dotArt.length - 1;\r\n    } else {\r\n      storageData = {\r\n        ...storageData,\r\n        dotArt: [dotArtData],\r\n        current: 0,\r\n      };\r\n    }\r\n    storage.setItem(STORAGE_KEY, JSON.stringify(storageData));\r\n    return true;\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport function savePalettesToStorage(storage, palettesData) {\r\n  try {\r\n    let storageData = getPalettesDataFromStroage(storage);\r\n    if (storageData) {\r\n      storageData.push(palettesData);\r\n    } else {\r\n      storageData = [palettesData];\r\n    }\r\n    storage.setItem(STORAGE_PALETTES_KEY, JSON.stringify(storageData));\r\n    return true;\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport function removeDotArtFromStorage(storage, dotArtIdx) {\r\n  const storageData = getDotArtDataFromStorage(storage);\r\n  if (storageData) {\r\n    let newCurrent = 0;\r\n    storageData.dotArt.splice(dotArtIdx, 1);\r\n    if (storageData.dotArt.length === 0) {\r\n      newCurrent = -1;\r\n    } else if (storageData.current > dotArtIdx) {\r\n      newCurrent = storageData.current - 1;\r\n    }\r\n    storageData.current = newCurrent;\r\n    return saveDataToStorage(storage, storageData);\r\n  }\r\n  return false;\r\n}\r\n\r\nexport function getPrivateSettingFromStorage(storage) {\r\n  try {\r\n    const data = storage.getItem(STORAGE_PRIVATE_SETTING);\r\n    return data ? JSON.parse(data) : false;\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport function savePrivateSettingToStorage(storage, data) {\r\n  try {\r\n    let storageData = {\r\n      ...getPrivateSettingFromStorage(storage),\r\n      ...data,\r\n    };\r\n    storage.setItem(STORAGE_PRIVATE_SETTING, JSON.stringify(storageData));\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n}\r\n","import { createAction, handleActions } from 'redux-actions';\r\n\r\nconst CHANGE_TYPE_AND_OPEN = 'dialog/CHANGE_TYPE_AND_OPEN';\r\nconst CLOSE_DIALOG = 'dialog/CLOSE_DIALOG';\r\n\r\nexport const changeTypeAndOpen = createAction(\r\n  CHANGE_TYPE_AND_OPEN,\r\n  (dialogType) => dialogType,\r\n);\r\nexport const closeDialog = createAction(CLOSE_DIALOG);\r\n\r\nconst initialState = {\r\n  dialogType: '',\r\n  open: false,\r\n};\r\n\r\nconst dialog = handleActions(\r\n  {\r\n    [CHANGE_TYPE_AND_OPEN]: (state, { payload: dialogType }) => ({\r\n      ...state,\r\n      dialogType: dialogType,\r\n      open: true,\r\n    }),\r\n    [CLOSE_DIALOG]: (state) => ({\r\n      ...state,\r\n      open: false,\r\n    }),\r\n  },\r\n  initialState,\r\n);\r\n\r\nexport default dialog;\r\n","import React, { useState, useCallback } from 'react';\r\nimport LoadDialog from '../../components/dialog/LoadDialog';\r\nimport {\r\n  getDotArtDataFromStorage,\r\n  removeDotArtFromStorage,\r\n  clearSavedDotArtFromStorage,\r\n} from '../../util/localStorage';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useSnackbar } from 'notistack';\r\nimport { loadDotArt } from '../../modules/dot';\r\nimport { closeDialog } from '../../modules/dialog';\r\n\r\nconst LoadDialogContainer = () => {\r\n  const dispatch = useDispatch();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const { backgroundImg } = useSelector(({ observer }) => ({\r\n    backgroundImg: observer.backgroundImg,\r\n  }));\r\n  const [loadedData, setLoadedData] = useState(\r\n    getDotArtDataFromStorage(localStorage),\r\n  );\r\n  const removeDotArtHandle = (dotArtIdx) => {\r\n    removeDotArtFromStorage(localStorage, dotArtIdx);\r\n    setLoadedData(getDotArtDataFromStorage(localStorage));\r\n  };\r\n  const loadDotArtHandle = useCallback(\r\n    (loadedData) => {\r\n      dispatch(loadDotArt(loadedData.dot));\r\n      dispatch(closeDialog());\r\n      enqueueSnackbar('Load DotArt From LocalStorage', { variant: 'success' });\r\n    },\r\n    [dispatch, enqueueSnackbar],\r\n  );\r\n  const clearStorageHandler = () => {\r\n    clearSavedDotArtFromStorage(localStorage);\r\n    setLoadedData(getDotArtDataFromStorage(localStorage));\r\n    enqueueSnackbar('Clear DotArt From LocalStorage', { variant: 'success' });\r\n  };\r\n  return (\r\n    <LoadDialog\r\n      backgroundImg={backgroundImg}\r\n      loadedData={loadedData}\r\n      removeDotArtHandle={removeDotArtHandle}\r\n      loadDotArtHandle={loadDotArtHandle}\r\n      clearStorageHandler={clearStorageHandler}\r\n    />\r\n  );\r\n};\r\n\r\nexport default LoadDialogContainer;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport Preview from '../common/Preview';\r\nimport CustomButton from '../common/CustomButton';\r\nimport styled from 'styled-components';\r\nimport {\r\n  getCssImageClassOutput,\r\n  exportAnimationData,\r\n} from '../../util/cssParser';\r\nimport {\r\n  layerListMerge,\r\n  mergeLayersByDotFrameList,\r\n} from '../../util/dotArrayUtil';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { useSnackbar } from 'notistack';\r\nimport ToolTip from '../common/ToolTip';\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  height: 100%;\r\n`;\r\n\r\nconst ButtonWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  margin-bottom: 8px;\r\n  & > * {\r\n    margin: 8px;\r\n    height: 30px;\r\n    width: 80px;\r\n  }\r\n`;\r\n\r\nconst PreviewScrollWrapper = styled.div`\r\n  overflow: auto;\r\n  max-width: 100%;\r\n  max-height: 100%;\r\n  border: 1px solid #9e9e9e;\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nconst PreviewBlock = styled.div`\r\n  width: ${(props) => props.columnCount * props.pixelSize}px;\r\n  height: ${(props) => props.rowCount * props.pixelSize}px;\r\n`;\r\n\r\nconst CssTextArea = styled.textarea`\r\n  border: none;\r\n  margin-top: 0.5em;\r\n  width: 100%;\r\n  padding: 1em 0.5em 0;\r\n  text-align: left;\r\n  display: block;\r\n  resize: none;\r\n  height: 25em;\r\n  background-color: #f2e8dc;\r\n  font-weight: bold;\r\n  font-size: 15px;\r\n  color: #0d0d0d;\r\n  &::-webkit-scrollbar {\r\n    width: 8px;\r\n    height: 8px;\r\n  }\r\n\r\n  &::-webkit-scrollbar-track {\r\n    background: #f1f1f1;\r\n  }\r\n\r\n  &::-webkit-scrollbar-thumb {\r\n    background: #888;\r\n  }\r\n\r\n  &::-webkit-scrollbar-thumb:hover {\r\n    background: #555;\r\n  }\r\n`;\r\n\r\nconst DownLoadDialog = ({\r\n  dot,\r\n  dialogType,\r\n  saveFileHandler,\r\n  handleChangeAnimationDuration,\r\n  handleChangePixelSize,\r\n}) => {\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const [dialog, setDialog] = useState('');\r\n  const [type, setType] = useState('single');\r\n  const textAreaRef = useRef(null);\r\n  const copyToClipboard = (e) => {\r\n    textAreaRef.current.select();\r\n    document.execCommand('copy');\r\n    e.target.focus();\r\n    enqueueSnackbar('Copy Success!', { variant: 'success' });\r\n  };\r\n  const {\r\n    dotFrameList,\r\n    layerData,\r\n    columnCount,\r\n    rowCount,\r\n    activeIdx,\r\n    pixelSize,\r\n    animationDuration,\r\n  } = dot;\r\n  useEffect(() => {\r\n    setDialog(dialogType);\r\n  }, [dialogType]);\r\n\r\n  const onChangePixelSize = (e) => {\r\n    handleChangePixelSize(e.target.value);\r\n  };\r\n\r\n  const onChangeAnimationDuration = (e) => {\r\n    if (e.target.value <= 0 || e.target.value === '') {\r\n      handleChangeAnimationDuration(0);\r\n    } else {\r\n      handleChangeAnimationDuration(e.target.value);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <ButtonWrapper>\r\n        <TextField\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n          type=\"number\"\r\n          label=\"Animation\"\r\n          color=\"secondary\"\r\n          value={animationDuration}\r\n          onChange={(e) => onChangeAnimationDuration(e)}\r\n        />\r\n        <TextField\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n          type=\"number\"\r\n          label=\"PixelSize\"\r\n          color=\"secondary\"\r\n          value={pixelSize}\r\n          onChange={(e) => onChangePixelSize(e)}\r\n        />\r\n        <ToolTip placement=\"bottom\" tooltip={<>View in single</>}>\r\n          <CustomButton\r\n            selected={type === 'single'}\r\n            onClick={() => setType('single')}\r\n          >\r\n            single\r\n          </CustomButton>\r\n        </ToolTip>\r\n        <ToolTip placement=\"bottom\" tooltip={<>View in gif format</>}>\r\n          <CustomButton\r\n            selected={type === 'gif'}\r\n            onClick={() => setType('gif')}\r\n          >\r\n            gif\r\n          </CustomButton>\r\n        </ToolTip>\r\n        {dialog === 'DownLoad' && (\r\n          <ToolTip placement=\"bottom\" tooltip={<>View in spritesheet format</>}>\r\n            <CustomButton\r\n              selected={type === 'spritesheet'}\r\n              onClick={() => setType('spritesheet')}\r\n            >\r\n              sprite\r\n            </CustomButton>\r\n          </ToolTip>\r\n        )}\r\n      </ButtonWrapper>\r\n\r\n      <PreviewScrollWrapper>\r\n        <PreviewBlock\r\n          pixelSize={pixelSize}\r\n          columnCount={columnCount}\r\n          rowCount={rowCount}\r\n        >\r\n          <Preview\r\n            dotSet={layerListMerge(\r\n              dotFrameList[activeIdx].layerList,\r\n              layerData,\r\n            )}\r\n            dotList={mergeLayersByDotFrameList(dotFrameList, layerData)}\r\n            column={columnCount}\r\n            size={pixelSize}\r\n            animation={type === 'gif' ? true : false}\r\n            duration={animationDuration}\r\n          />\r\n        </PreviewBlock>\r\n      </PreviewScrollWrapper>\r\n      {dialog === 'DownLoad' && (\r\n        <ToolTip\r\n          placement=\"top\"\r\n          tooltip={\r\n            <>\r\n              Download in selected format\r\n              <span className=\"tooltip-name\">\r\n                you select <span className=\"tooltip-shortcut\">{type} </span>\r\n                format\r\n              </span>\r\n            </>\r\n          }\r\n        >\r\n          <CustomButton\r\n            baseColor=\"#0f0f0f\"\r\n            width=\"160\"\r\n            onClick={() => saveFileHandler(type)}\r\n          >\r\n            Download\r\n          </CustomButton>\r\n        </ToolTip>\r\n      )}\r\n      {dialog === 'Css' && (\r\n        <>\r\n          <ToolTip placement=\"top\" tooltip={<>Copy your Clipboard</>}>\r\n            <CustomButton width=\"120\" height=\"40\" onClick={copyToClipboard}>\r\n              Copy\r\n            </CustomButton>\r\n          </ToolTip>\r\n          <CssTextArea\r\n            ref={textAreaRef}\r\n            value={\r\n              type === 'single'\r\n                ? getCssImageClassOutput(\r\n                    layerListMerge(\r\n                      dotFrameList[activeIdx].layerList,\r\n                      layerData,\r\n                    ),\r\n                    columnCount,\r\n                    pixelSize,\r\n                  )\r\n                : exportAnimationData(\r\n                    mergeLayersByDotFrameList(dotFrameList, layerData),\r\n                    columnCount,\r\n                    pixelSize,\r\n                    animationDuration,\r\n                  )\r\n            }\r\n            readOnly\r\n          />\r\n        </>\r\n      )}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default DownLoadDialog;\r\n","import GIFEncoder from 'gif-encoder';\r\nimport blobStream from 'blob-stream';\r\nimport { saveAs } from 'file-saver';\r\nimport { mergeLayersByDotFrameList } from './dotArrayUtil';\r\n\r\nfunction randomName() {\r\n  return Math.random()\r\n    .toString(36)\r\n    .replace(/[^a-z]+/g, '')\r\n    .substr(0, 8);\r\n}\r\n\r\nfunction fillCanvasWithDotArt(canvas, dotArtInfo) {\r\n  const { dotArt, cols, pixelSize, dotArtHeight, dotArtIdx } = dotArtInfo;\r\n  const ctx = canvas;\r\n  dotArt.layer.flat().forEach((fillStyle, pixelIdx) => {\r\n    if (!fillStyle) {\r\n      return;\r\n    }\r\n    ctx.fillStyle = fillStyle;\r\n\r\n    const col = pixelIdx % cols;\r\n    const row = Math.floor(pixelIdx / cols);\r\n    ctx.fillRect(\r\n      col * pixelSize,\r\n      row * pixelSize + dotArtHeight * dotArtIdx,\r\n      pixelSize,\r\n      pixelSize,\r\n    );\r\n  });\r\n  return ctx;\r\n}\r\n\r\nfunction renderImageToCanvas(type, canvasInfo, currentDotArtInfo, dotList) {\r\n  const { canvas, canvasHeight, canvasWidth } = canvasInfo;\r\n  const { dotArt, dotArtHeight, dotArtWidth, pixelSize } = currentDotArtInfo;\r\n  const cols = Math.floor(dotArtWidth / pixelSize);\r\n  let ctx = canvas.getContext('2d');\r\n  ctx.canvas.width = canvasWidth;\r\n  ctx.canvas.height = canvasHeight;\r\n  switch (type) {\r\n    case 'spritesheet':\r\n      dotList.forEach((currentDotArt, dotArtIdx) => {\r\n        ctx = fillCanvasWithDotArt(ctx, {\r\n          dotArt: currentDotArt,\r\n          cols,\r\n          pixelSize,\r\n          dotArtHeight,\r\n          dotArtIdx,\r\n        });\r\n      });\r\n      break;\r\n    default:\r\n      ctx = fillCanvasWithDotArt(ctx, {\r\n        dotArt,\r\n        cols,\r\n        pixelSize,\r\n        dotArtHeight,\r\n        dotArtIdx: 0,\r\n      });\r\n      break;\r\n  }\r\n  return ctx.getImageData(0, 0, canvasWidth, canvasHeight).data;\r\n}\r\n\r\nconst saveCanvasToDisk = (blob, fileExtension) => {\r\n  saveAs(blob, `${randomName()}.${fileExtension}`);\r\n};\r\n\r\nconst saveFileDotArt = (type, dotArtData) => {\r\n  const {\r\n    dotFrameList,\r\n    layerData,\r\n    columnCount,\r\n    rowCount,\r\n    animationDuration,\r\n    activeIdx,\r\n    pixelSize,\r\n  } = dotArtData;\r\n  const dotList = mergeLayersByDotFrameList(dotFrameList, layerData);\r\n\r\n  const durationInMillisecond = animationDuration * 1000;\r\n  const dotArtWidth = columnCount * pixelSize;\r\n  const dotArtHeight = rowCount * pixelSize;\r\n  const canvasWidth = dotArtWidth;\r\n  const canvasHeight =\r\n    type === 'spritesheet' ? dotArtHeight * dotList.length : dotArtHeight;\r\n\r\n  const canvas = document.createElement('canvas');\r\n  const gif = new GIFEncoder(canvasWidth, canvasHeight);\r\n  gif.pipe(blobStream()).on('finish', function () {\r\n    saveCanvasToDisk(this.toBlob(), 'gif');\r\n  });\r\n\r\n  gif.setRepeat(0); // loop indefinitely\r\n  gif.setDispose(3); // restore to previous\r\n  gif.writeHeader();\r\n\r\n  switch (type) {\r\n    case 'single':\r\n    case 'spritesheet':\r\n      renderImageToCanvas(\r\n        type,\r\n        {\r\n          canvas,\r\n          canvasHeight,\r\n          canvasWidth,\r\n        },\r\n        {\r\n          dotArt: dotList[activeIdx],\r\n          dotArtHeight,\r\n          dotArtWidth,\r\n          pixelSize,\r\n        },\r\n        dotList,\r\n      );\r\n      canvas.toBlob(function (blob) {\r\n        saveCanvasToDisk(blob, 'png');\r\n      });\r\n      break;\r\n    default: {\r\n      let previousInterval = 0;\r\n      dotList.forEach((dotArt, idx, dotAryArray) => {\r\n        const isLastDotArt = idx === dotAryArray.length - 1;\r\n        const currentInterval = isLastDotArt ? 100 : dotList[idx]['interval'];\r\n        const diff = currentInterval - previousInterval;\r\n        const delay = diff * 0.01 * durationInMillisecond;\r\n\r\n        gif.setDelay(delay);\r\n        previousInterval = currentInterval;\r\n\r\n        gif.addFrame(\r\n          renderImageToCanvas(\r\n            type,\r\n            {\r\n              canvas,\r\n              canvasHeight,\r\n              canvasWidth,\r\n            },\r\n            {\r\n              dotArt,\r\n              dotArtHeight,\r\n              dotArtWidth,\r\n              pixelSize,\r\n            },\r\n          ),\r\n        );\r\n      });\r\n      gif.finish();\r\n    }\r\n  }\r\n};\r\n\r\nexport default saveFileDotArt;\r\n","import React, { useCallback } from 'react';\r\nimport DownLoadDialog from '../../components/dialog/DownLoadDialog';\r\nimport saveFileDotArt from '../../util/saveFileDotArt';\r\nimport { changeAnimationDuration, changePixelSize } from '../../modules/dot';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nconst DownLoadDialogContainer = ({ dot, dialogType }) => {\r\n  const dispatch = useDispatch();\r\n  const saveFileHandler = (type) => {\r\n    saveFileDotArt(type, dot);\r\n  };\r\n  const handleChangeAnimationDuration = useCallback(\r\n    (duration) => {\r\n      dispatch(changeAnimationDuration(duration));\r\n    },\r\n    [dispatch],\r\n  );\r\n  const handleChangePixelSize = useCallback(\r\n    (pixelSize) => {\r\n      dispatch(changePixelSize(parseInt(pixelSize)));\r\n    },\r\n    [dispatch],\r\n  );\r\n  return (\r\n    <DownLoadDialog\r\n      dot={dot}\r\n      dialogType={dialogType}\r\n      saveFileHandler={saveFileHandler}\r\n      handleChangeAnimationDuration={handleChangeAnimationDuration}\r\n      handleChangePixelSize={handleChangePixelSize}\r\n    />\r\n  );\r\n};\r\n\r\nexport default DownLoadDialogContainer;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Wrapper = styled.div`\r\n  display: block;\r\n  height: 100%;\r\n  overflow: auto;\r\n  & > * {\r\n    margin: 8px;\r\n  }\r\n`;\r\n\r\nconst KeyBindCategory = styled.div`\r\n  float: left;\r\n  border: 4px solid #59564f;\r\n  border-radius: 5px;\r\n  box-sizing: border-box;\r\n  float: left;\r\n  vertical-align: top;\r\n  padding: 0 20px 20px 20px;\r\n  min-width: 300px;\r\n`;\r\n\r\nconst KeyBindHeader = styled.span`\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n`;\r\n\r\nconst KeyBindLine = styled.div`\r\n  width: 100%;\r\n  margin: 4px 0px;\r\n  display: flex;\r\n`;\r\n\r\nconst KeyBindBlock = styled.div`\r\n  width: fit-content;\r\n  padding: 0px 8px;\r\n  font-size: 1.5rem;\r\n  color: #59564f;\r\n  border: 3px solid #59564f;\r\n  border-radius: 4px;\r\n  font-weight: bold;\r\n  font-family: monospace;\r\n  text-align: center;\r\n  line-height: 24px;\r\n`;\r\n\r\nconst HelpText = styled.span`\r\n  color: black;\r\n  font-size: 13px;\r\n  margin-left: 8px;\r\n  line-height: 30px;\r\n`;\r\n\r\nconst KeyBindDialog = ({ paintTools, color, storage, misc }) => {\r\n  return (\r\n    <Wrapper>\r\n      <KeyBindCategory>\r\n        <KeyBindHeader>Misc Key</KeyBindHeader>\r\n        {misc.category.map((name) => (\r\n          <KeyBindLine key={name}>\r\n            <KeyBindBlock key={name}>{misc[name].key}</KeyBindBlock>\r\n            <HelpText>{misc[name].helpText}</HelpText>\r\n          </KeyBindLine>\r\n        ))}\r\n      </KeyBindCategory>\r\n      <KeyBindCategory>\r\n        <KeyBindHeader>Storage Key</KeyBindHeader>\r\n        {storage.category.map((name) => (\r\n          <KeyBindLine key={name}>\r\n            <KeyBindBlock key={name}>{storage[name].key}</KeyBindBlock>\r\n            <HelpText>{storage[name].helpText}</HelpText>\r\n          </KeyBindLine>\r\n        ))}\r\n      </KeyBindCategory>\r\n      <KeyBindCategory>\r\n        <KeyBindHeader>Paint Tools Key</KeyBindHeader>\r\n        {paintTools.category.map((name) => (\r\n          <KeyBindLine key={name}>\r\n            <KeyBindBlock key={name}>{paintTools[name].key}</KeyBindBlock>\r\n            <HelpText>{paintTools[name].helpText}</HelpText>\r\n          </KeyBindLine>\r\n        ))}\r\n      </KeyBindCategory>\r\n      <KeyBindCategory>\r\n        <KeyBindHeader>Color Tools Key</KeyBindHeader>\r\n        {color.category.map((name) => (\r\n          <KeyBindLine key={name}>\r\n            <KeyBindBlock key={name}>{color[name].key}</KeyBindBlock>\r\n            <HelpText>{color[name].helpText}</HelpText>\r\n          </KeyBindLine>\r\n        ))}\r\n      </KeyBindCategory>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default KeyBindDialog;\r\n","import React from 'react';\r\nimport KeyBindDialog from '../../components/dialog/KeyBindDialog';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst KeyBindDialogContainer = () => {\r\n  const { paintTools, color, storage, misc } = useSelector(({ keybind }) => ({\r\n    paintTools: keybind.paintTools,\r\n    color: keybind.color,\r\n    storage: keybind.storage,\r\n    misc: keybind.misc,\r\n  }));\r\n  return (\r\n    <KeyBindDialog\r\n      paintTools={paintTools}\r\n      color={color}\r\n      storage={storage}\r\n      misc={misc}\r\n    />\r\n  );\r\n};\r\n\r\nexport default KeyBindDialogContainer;\r\n","import React from 'react';\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport PreviewDialogContainer from '../../containers/dialog/PreviewDialogContainer';\r\nimport LoadDialogContainer from '../../containers/dialog/LoadDialogContainer';\r\nimport DownLoadDialogContainer from '../../containers/dialog/DownLoadDialogContainer';\r\nimport KeyBindDialogConainter from '../../containers/dialog/KeyBindDialogContainer';\r\nimport { useSelector } from 'react-redux';\r\nimport MuiDialog from '@material-ui/core/Dialog';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  closeButton: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n}));\r\n\r\n// Dialog 스타일 덮어쓰기 높이 최대로, 안에 Preview 스크롤 생길 수 있게\r\nconst Dialog = withStyles((theme) => ({\r\n  paperScrollPaper: {\r\n    height: `calc(100% - 64px)`,\r\n    backgroundColor: '#F2E8DC',\r\n  },\r\n}))(MuiDialog);\r\n\r\nconst DialogContent = withStyles((theme) => ({\r\n  root: {\r\n    overflow: 'hidden',\r\n    height: '100%',\r\n  },\r\n}))(MuiDialogContent);\r\n\r\nconst Dialogs = ({ dialogType, open, handleCloseDialog }) => {\r\n  const classes = useStyles();\r\n  const { dot } = useSelector(({ dotArt }) => ({ dot: dotArt.present.dot }));\r\n\r\n  const handleClose = () => {\r\n    handleCloseDialog();\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Dialog open={open} fullWidth={true} maxWidth=\"xl\" onClose={handleClose}>\r\n        <DialogTitle>\r\n          <IconButton\r\n            color=\"inherit\"\r\n            onClick={handleClose}\r\n            size=\"small\"\r\n            className={classes.closeButton}\r\n          >\r\n            <CloseIcon />\r\n          </IconButton>\r\n          {dialogType}\r\n        </DialogTitle>\r\n        <DialogContent dividers={true}>\r\n          {open &&\r\n            (() => {\r\n              switch (dialogType) {\r\n                case 'Preview':\r\n                  return <PreviewDialogContainer dot={dot} />;\r\n                case 'DownLoad':\r\n                  return (\r\n                    <DownLoadDialogContainer\r\n                      dot={dot}\r\n                      dialogType={dialogType}\r\n                    />\r\n                  );\r\n                case 'Load':\r\n                  return <LoadDialogContainer />;\r\n                case 'Css':\r\n                  return (\r\n                    <DownLoadDialogContainer\r\n                      dot={dot}\r\n                      dialogType={dialogType}\r\n                    />\r\n                  );\r\n                case 'KeyBind':\r\n                  return <KeyBindDialogConainter />;\r\n                default:\r\n                  return null;\r\n              }\r\n            })()}\r\n        </DialogContent>\r\n      </Dialog>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Dialogs;\r\n","import React, { useCallback } from 'react';\r\nimport Dialogs from '../../components/dialog/Dialogs';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { closeDialog } from '../../modules/dialog';\r\n\r\nconst DialogContainer = () => {\r\n  const dispatch = useDispatch();\r\n  const { dialogType, open } = useSelector(({ dialog }) => ({\r\n    dialogType: dialog.dialogType,\r\n    open: dialog.open,\r\n  }));\r\n\r\n  const handleCloseDialog = useCallback(() => {\r\n    dispatch(closeDialog());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    open && (\r\n      <Dialogs\r\n        dialogType={dialogType}\r\n        open={open}\r\n        handleCloseDialog={handleCloseDialog}\r\n      />\r\n    )\r\n  );\r\n};\r\n\r\nexport default React.memo(DialogContainer);\r\n","import React, { useState, useCallback, useEffect } from 'react';\r\nimport Preview from '../../components/common/Preview';\r\nimport styled, { css } from 'styled-components';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport FileCopyRoundedIcon from '@material-ui/icons/FileCopyRounded';\r\nimport { Draggable } from 'react-beautiful-dnd';\r\nimport ToolTip from '../common/ToolTip';\r\nimport White from '../../img/white.png';\r\nimport Black from '../../img/black.png';\r\n\r\nconst ButtonDiv = styled.span`\r\n  z-index: 1;\r\n  display: none;\r\n  left: 72px;\r\n  position: absolute;\r\n  width: 24px;\r\n  margin: 0px;\r\n  padding: 0px;\r\n  ${(props) =>\r\n    props.offsetTop &&\r\n    css`\r\n      top: ${props.offsetTop}px;\r\n    `};\r\n`;\r\n\r\nconst IndexBox = styled.div`\r\n  background: orange;\r\n  color: black;\r\n  text-align: center;\r\n  width: 24px;\r\n  height: 24px;\r\n  line-height: 24px;\r\n  position: absolute;\r\n  z-index: 1;\r\n  font-weight: 900;\r\n  font-size: 12px;\r\n`;\r\n\r\nconst CardDiv = styled.div`\r\n  position: relative;\r\n  width: 96px;\r\n  height: 96px;\r\n  outline: none;\r\n  opacity: 0.8;\r\n  border-radius: 0.3rem;\r\n  border: solid 3px black;\r\n  box-sizing: border-box;\r\n  cursor: pointer;\r\n  ${(props) =>\r\n    props.active &&\r\n    css`\r\n      opacity: 1;\r\n      border: solid 3px #b22222;\r\n    `}\r\n  &:hover {\r\n    & > span {\r\n      display: block;\r\n    }\r\n  }\r\n`;\r\n\r\nconst PreviewBox = styled.div`\r\n  width: 96px;\r\n  height: 96px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst PreviewBlock = styled.div`\r\n  background-image: ${(props) =>\r\n    props.backgroundImg === 1 ? `url(${White})` : `url(${Black})`};\r\n  ${(props) =>\r\n    props.columnCount > props.rowCount\r\n      ? css`\r\n          width: 96px;\r\n          height: ${(props) => `${props.rowCount * props.pixelSize}px`};\r\n        `\r\n      : css`\r\n          height: 96px;\r\n          width: ${(props) => `${props.columnCount * props.pixelSize}px`};\r\n        `}\r\n`;\r\n\r\nconst StyleButton = styled.div`\r\n  background: #9e9e9e;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 24px;\r\n  height: 24px;\r\n  font-size: 1rem;\r\n  color: #f0f0f0;\r\n  ${(props) =>\r\n    !props.disabled &&\r\n    css`\r\n      &:hover {\r\n        background: #6e6e6e;\r\n        color: #fff;\r\n      }\r\n    `}\r\n`;\r\n\r\nconst IntervalInput = styled.input`\r\n  padding: 0px;\r\n  margin: 0px;\r\n  border: none;\r\n  outline: none;\r\n  border-top: solid 3px black;\r\n  ${(props) =>\r\n    props.active &&\r\n    css`\r\n      border-top: solid 3px #b22222;\r\n    `}\r\n  width: 96px;\r\n  height: 19px;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  background: rgba(0, 0, 0, 1);\r\n  text-align: center;\r\n  color: white;\r\n  &:focus {\r\n    background: rgba(230, 230, 230, 1);\r\n    color: rgba(0, 0, 0, 0.7);\r\n  }\r\n  -moz-appearance: textfield;\r\n  &::-webkit-outer-spin-button,\r\n  &::-webkit-inner-spin-button {\r\n    -webkit-appearance: none;\r\n    margin: 0;\r\n  }\r\n`;\r\n\r\nconst DotListBlock = ({\r\n  active,\r\n  idx,\r\n  dot,\r\n  interval,\r\n  columnCount,\r\n  rowCount,\r\n  backgroundImg,\r\n  handleChangeIdx,\r\n  handleCopyDotArt,\r\n  handleRemoveDotArt,\r\n  handleChangeInterval,\r\n  lastIndex,\r\n}) => {\r\n  const [aniInterval, setAniInterval] = useState(interval);\r\n  const [pixelSize, setPixelSize] = useState();\r\n\r\n  useEffect(() => {\r\n    setAniInterval(interval);\r\n  }, [interval]);\r\n\r\n  useEffect(() => {\r\n    const newPixelSize = Math.floor(\r\n      columnCount > rowCount ? 96 / columnCount : 96 / rowCount,\r\n    );\r\n    if (newPixelSize !== pixelSize) {\r\n      setPixelSize(newPixelSize);\r\n      if (newPixelSize === 0) {\r\n        setPixelSize(1);\r\n      }\r\n    }\r\n  }, [rowCount, columnCount, pixelSize]);\r\n\r\n  const onChangeInput = (e) => {\r\n    setAniInterval(e.target.value);\r\n  };\r\n\r\n  const onBlurHandle = useCallback(\r\n    (e) => {\r\n      if (e.target.value.length === 0) {\r\n        setAniInterval(interval);\r\n        return;\r\n      } else {\r\n        setAniInterval(interval);\r\n        handleChangeInterval(Math.round(e.target.value * 100) / 100, idx);\r\n      }\r\n    },\r\n    [handleChangeInterval, idx, interval],\r\n  );\r\n\r\n  return (\r\n    <Draggable key={idx} draggableId={`dotArt-${idx}`} index={idx}>\r\n      {(provided) => (\r\n        <CardDiv\r\n          active={active ? true : false}\r\n          onClickCapture={() => handleChangeIdx(idx)} // capture로 changeIdx 먼저 실행\r\n          ref={provided.innerRef}\r\n          {...provided.draggableProps}\r\n          {...provided.dragHandleProps}\r\n        >\r\n          <IndexBox>{idx + 1}</IndexBox>\r\n          <ButtonDiv>\r\n            <ToolTip tooltip={<>Delete frame </>}>\r\n              <StyleButton onClick={handleRemoveDotArt}>\r\n                <DeleteIcon fontSize=\"inherit\" />\r\n              </StyleButton>\r\n            </ToolTip>\r\n          </ButtonDiv>\r\n          <ButtonDiv offsetTop=\"72\">\r\n            <ToolTip tooltip={<>Copy frame </>}>\r\n              <StyleButton onClick={handleCopyDotArt}>\r\n                <FileCopyRoundedIcon fontSize=\"inherit\" />\r\n              </StyleButton>\r\n            </ToolTip>\r\n          </ButtonDiv>\r\n          <PreviewBox>\r\n            <PreviewBlock\r\n              columnCount={columnCount}\r\n              rowCount={rowCount}\r\n              backgroundImg={backgroundImg}\r\n              pixelSize={pixelSize}\r\n            >\r\n              <Preview dotSet={dot} column={columnCount} size={pixelSize} />\r\n            </PreviewBlock>\r\n          </PreviewBox>\r\n          <ToolTip\r\n            placement=\"bottom\"\r\n            tooltip={\r\n              <>\r\n                Change interval of this frame\r\n                {lastIndex && <span> But last frame is only 100</span>}\r\n              </>\r\n            }\r\n          >\r\n            <IntervalInput\r\n              active={true}\r\n              value={aniInterval}\r\n              type=\"number\"\r\n              onChange={onChangeInput}\r\n              onBlur={(e) => onBlurHandle(e)}\r\n              disabled={lastIndex} // 애니메이션의 마지막은 100%로 고정\r\n              step=\"0.1\"\r\n            />\r\n          </ToolTip>\r\n        </CardDiv>\r\n      )}\r\n    </Draggable>\r\n  );\r\n};\r\n\r\nexport default React.memo(DotListBlock);\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport DotListBlock from './DotListBlock';\r\nimport CustomButton from '../common/CustomButton';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { Droppable, DragDropContext } from 'react-beautiful-dnd';\r\n\r\nconst DotListDiv = styled.div`\r\n  z-index: 10;\r\n  max-height: 92vh;\r\n  width: 130px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`;\r\n\r\nconst ScrollCustom = styled.div`\r\n  z-index: 10;\r\n  background: #a69e94;\r\n  border-radius: 0.2rem;\r\n  width: 130px;\r\n  height: 100%;\r\n  margin: 0px 8px;\r\n  overflow-y: scroll;\r\n  overflow-x: hidden;\r\n  position: sticky;\r\n  & > *:not(:last-child) {\r\n    width: 102px;\r\n    min-width: 102px;\r\n    height: 121px;\r\n  }\r\n  & > * {\r\n    margin: 8px;\r\n  }\r\n`;\r\n\r\nconst Span = styled.span`\r\n  font-size: 16px;\r\n`;\r\n\r\nconst DotList = ({\r\n  dotFrameList,\r\n  activeIdx,\r\n  layerIdx,\r\n  columnCount,\r\n  rowCount,\r\n  backgroundImg,\r\n  handleChangeIdx,\r\n  handleRemoveDotArt,\r\n  handleCopyDotArt,\r\n  handleAddDotArt,\r\n  handleChangeInterval,\r\n  handleReorderDotList,\r\n}) => {\r\n  const onDragEnd = (result) => {\r\n    if (!result.destination) {\r\n      return;\r\n    }\r\n\r\n    if (result.type === 'dotList') {\r\n      handleReorderDotList(result.source.index, result.destination.index);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <DotListDiv>\r\n      <DragDropContext onDragEnd={onDragEnd}>\r\n        <Droppable droppableId=\"dotList\" type=\"dotList\">\r\n          {(provided) => (\r\n            <ScrollCustom ref={provided.innerRef} {...provided.droppableProps}>\r\n              {dotFrameList &&\r\n                dotFrameList.map((dotFrame, idx) => {\r\n                  return (\r\n                    <DotListBlock\r\n                      active={activeIdx === idx}\r\n                      idx={idx}\r\n                      key={dotFrame.id}\r\n                      dot={dotFrame.layerList[layerIdx]}\r\n                      interval={dotFrame.interval}\r\n                      columnCount={columnCount}\r\n                      rowCount={rowCount}\r\n                      backgroundImg={backgroundImg}\r\n                      handleCopyDotArt={handleCopyDotArt}\r\n                      handleRemoveDotArt={handleRemoveDotArt}\r\n                      handleChangeInterval={handleChangeInterval}\r\n                      handleChangeIdx={handleChangeIdx}\r\n                      lastIndex={dotFrameList.length - 1 === idx}\r\n                    />\r\n                  );\r\n                })}\r\n              {provided.placeholder}\r\n              <CustomButton\r\n                width=\"96\"\r\n                height=\"30\"\r\n                onClick={() => handleAddDotArt()}\r\n              >\r\n                <AddIcon />\r\n                <Span>Add</Span>\r\n              </CustomButton>\r\n            </ScrollCustom>\r\n          )}\r\n        </Droppable>\r\n      </DragDropContext>\r\n    </DotListDiv>\r\n  );\r\n};\r\n\r\nexport default React.memo(DotList);\r\n","import React, { useCallback } from 'react';\r\nimport DotList from '../../components/dotArtTools/DotList';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport {\r\n  changeActiveIdx,\r\n  removeActiveDotArt,\r\n  copyActiveDotArt,\r\n  addNewDotArt,\r\n  changeAnimationInterval,\r\n  reorderDotList,\r\n} from '../../modules/dot';\r\n\r\nconst DotListContainer = () => {\r\n  const dispatch = useDispatch();\r\n  const {\r\n    dotFrameList,\r\n    activeIdx,\r\n    layerIdx,\r\n    columnCount,\r\n    rowCount,\r\n  } = useSelector(({ dotArt: { present: { dot } } }) => ({\r\n    dotList: dot.dotList,\r\n    dotFrameList: dot.dotFrameList,\r\n    activeIdx: dot.activeIdx,\r\n    layerIdx: dot.layerData[dot.layerSelectIdx].dotFrameIdx,\r\n    columnCount: dot.columnCount,\r\n    rowCount: dot.rowCount,\r\n  }));\r\n  const { backgroundImg } = useSelector(({ observer }) => ({\r\n    backgroundImg: observer.backgroundImg,\r\n  }));\r\n  const handleChangeIdx = useCallback(\r\n    (idx) => {\r\n      dispatch(changeActiveIdx(idx));\r\n    },\r\n    [dispatch],\r\n  );\r\n  const handleRemoveDotArt = useCallback(() => {\r\n    dispatch(removeActiveDotArt());\r\n  }, [dispatch]);\r\n  const handleCopyDotArt = useCallback(() => {\r\n    dispatch(copyActiveDotArt());\r\n  }, [dispatch]);\r\n  const handleAddDotArt = useCallback(() => {\r\n    dispatch(addNewDotArt());\r\n  }, [dispatch]);\r\n  const handleChangeInterval = useCallback(\r\n    (interval, activeIdx) => {\r\n      dispatch(changeAnimationInterval(interval, activeIdx));\r\n    },\r\n    [dispatch],\r\n  );\r\n  const handleReorderDotList = useCallback(\r\n    (startIdx, endIdx) => {\r\n      dispatch(reorderDotList({ startIdx, endIdx }));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  return (\r\n    <DotList\r\n      dotFrameList={dotFrameList}\r\n      activeIdx={activeIdx}\r\n      layerIdx={layerIdx}\r\n      columnCount={columnCount}\r\n      rowCount={rowCount}\r\n      backgroundImg={backgroundImg}\r\n      handleChangeIdx={handleChangeIdx}\r\n      handleRemoveDotArt={handleRemoveDotArt}\r\n      handleCopyDotArt={handleCopyDotArt}\r\n      handleAddDotArt={handleAddDotArt}\r\n      handleChangeInterval={handleChangeInterval}\r\n      handleReorderDotList={handleReorderDotList}\r\n    />\r\n  );\r\n};\r\n\r\nexport default React.memo(DotListContainer);\r\n","import { createAction, handleActions } from 'redux-actions';\r\n\r\nconst CHANGE_TYPING_STATE = 'observer/CHANGE_TYPING_STATE';\r\nconst MOUSE_LEAVES_PAINT_AREA = 'observer/MOUSE_LEAVES_PAINT_AREA';\r\nconst CHANGE_DOT_BORDER_SIZE = 'observer/CHANGE_DOT_BORDER_SIZE';\r\nconst CHANGE_DOT_BORDER_COLOR = 'observer/CHANGE_DOT_BORDER_COLOR';\r\nconst INCREASE_DOT_SIZE = 'observer/INCREASE_DOT_SIZE';\r\nconst DECREASE_DOT_SIZE = 'observer/DECREASE_DOT_SIZE';\r\nconst CHANGE_DOT_SIZE = 'observer/CHANGE_DOT_SIZE';\r\nconst ALT_DOWN = 'observer/ALT_DOWN';\r\nconst SHIFT_DOWN = 'observer/SHIFT_DOWN';\r\nconst LOAD_DATA = 'observer/LOAD_DATA';\r\nconst CHANGE_SHOW_LAYERS = 'observer/CHANGE_SHOW_LAYERS';\r\nconst CHANGE_BACKGROUND_IMG = 'observer/CHANGE_BACKGROUND_IMG';\r\nconst SAVE_START = 'observer/SAVE_START';\r\n\r\nexport const changeTypingState = createAction(\r\n  CHANGE_TYPING_STATE,\r\n  (isTyping) => isTyping,\r\n);\r\nexport const mouseLeavesPaintArea = createAction(MOUSE_LEAVES_PAINT_AREA);\r\n\r\nexport const changeDotBorderSize = createAction(\r\n  CHANGE_DOT_BORDER_SIZE,\r\n  (size) => size,\r\n);\r\nexport const changeDotBorderColor = createAction(\r\n  CHANGE_DOT_BORDER_COLOR,\r\n  (color) => color,\r\n);\r\nexport const increaseDotSize = createAction(INCREASE_DOT_SIZE);\r\nexport const decreaseDotSize = createAction(DECREASE_DOT_SIZE);\r\nexport const changeDotSize = createAction(\r\n  CHANGE_DOT_SIZE,\r\n  (dotSize) => dotSize,\r\n);\r\nexport const altDown = createAction(ALT_DOWN, (bool) => bool);\r\nexport const shiftDown = createAction(SHIFT_DOWN, (bool) => bool);\r\nexport const loadData = createAction(LOAD_DATA, (observerData) => observerData);\r\nexport const changeShowLayers = createAction(CHANGE_SHOW_LAYERS);\r\nexport const changeBackgroundImg = createAction(\r\n  CHANGE_BACKGROUND_IMG,\r\n  (type) => type,\r\n);\r\nexport const saveStart = createAction(SAVE_START, (flag) => flag);\r\n\r\nconst initialState = {\r\n  isTyping: false,\r\n  mousePosition: { x: '', y: '' },\r\n  startPosition: { x: '', y: '' },\r\n  dotSize: 32,\r\n  dotBorder: { size: 1, color: '#000000' },\r\n  showLayers: true,\r\n  backgroundImg: 1,\r\n  saveState: false,\r\n  altDown: false,\r\n  shiftDown: false,\r\n};\r\n\r\nconst observer = handleActions(\r\n  {\r\n    [CHANGE_TYPING_STATE]: (state, { payload: isTyping }) => ({\r\n      ...state,\r\n      isTyping: isTyping,\r\n    }),\r\n    [MOUSE_LEAVES_PAINT_AREA]: (state) => ({\r\n      ...state,\r\n      mousePosition: { x: '', y: '' },\r\n    }),\r\n    [CHANGE_DOT_BORDER_SIZE]: (state, { payload: size }) => ({\r\n      ...state,\r\n      dotBorder: {\r\n        ...state.dotBorder,\r\n        size: size,\r\n      },\r\n    }),\r\n    [CHANGE_DOT_BORDER_COLOR]: (state, { payload: color }) => ({\r\n      ...state,\r\n      dotBorder: {\r\n        ...state.dotBorder,\r\n        color: color,\r\n      },\r\n    }),\r\n    [INCREASE_DOT_SIZE]: (state) => ({\r\n      ...state,\r\n      dotSize: state.dotSize < 100 ? state.dotSize + 4 : state.dotSize,\r\n    }),\r\n    [DECREASE_DOT_SIZE]: (state) => ({\r\n      ...state,\r\n      dotSize: state.dotSize > 4 ? state.dotSize - 4 : state.dotSize,\r\n    }),\r\n    [CHANGE_DOT_SIZE]: (state, { payload: dotSize }) => ({\r\n      ...state,\r\n      dotSize: dotSize,\r\n    }),\r\n    [ALT_DOWN]: (state, { payload: bool }) => ({\r\n      ...state,\r\n      altDown: bool,\r\n    }),\r\n    [SHIFT_DOWN]: (state, { payload: bool }) => ({\r\n      ...state,\r\n      shiftDown: bool,\r\n    }),\r\n    [LOAD_DATA]: (state, { payload: observerData }) => ({\r\n      ...state,\r\n      ...observerData,\r\n    }),\r\n    [CHANGE_SHOW_LAYERS]: (state) => ({\r\n      ...state,\r\n      showLayers: !state.showLayers,\r\n    }),\r\n    [CHANGE_BACKGROUND_IMG]: (state, { payload: type }) => ({\r\n      ...state,\r\n      backgroundImg: type,\r\n    }),\r\n    [SAVE_START]: (state, { payload: flag }) => ({\r\n      ...state,\r\n      saveState: flag,\r\n    }),\r\n  },\r\n  initialState,\r\n);\r\n\r\nexport default observer;\r\n","import React, { useState, useEffect } from 'react';\r\nimport styled, { css } from 'styled-components';\r\nimport CustomButton from '../../components/common/CustomButton';\r\nimport {\r\n  MdFullscreen,\r\n  MdFullscreenExit,\r\n  MdPlayArrow,\r\n  MdPause,\r\n  MdContentCopy,\r\n} from 'react-icons/md';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport Preview from '../common/Preview';\r\nimport {\r\n  layerListMerge,\r\n  mergeLayersByDotFrameList,\r\n} from '../../util/dotArrayUtil';\r\nimport ToolTip from '../common/ToolTip';\r\nimport White from '../../img/white.png';\r\nimport Black from '../../img/black.png';\r\n\r\nconst PreviewToolsWrapper = styled.div`\r\n  border: 2px solid #59564f;\r\n  border-radius: 3px;\r\n`;\r\n\r\nconst PreviewWrapper = styled.div`\r\n  background-color: #a69e94;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 200px;\r\n  height: 200px;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst ButtonBox = styled.div`\r\n  z-index: 10;\r\n  position: absolute;\r\n  display: flex;\r\n  width: 80px;\r\n  height: 30px;\r\n  top: 0.5rem;\r\n  left: 1rem;\r\n  opacity: ${(props) => (props.hovered ? 1 : 0)};\r\n  transition: opacity 0.3s;\r\n  & > * {\r\n    margin: 0px 2px;\r\n  }\r\n`;\r\n\r\nconst StyledButton = styled(CustomButton)`\r\n  width: 22px;\r\n  height: 22px;\r\n  padding: 0;\r\n  box-shadow: 0 0.2rem #666;\r\n  font-size: 14px;\r\n  border-radius: 0.3rem;\r\n  ${(props) =>\r\n    props.selected === true &&\r\n    css`\r\n      color: #fff;\r\n      background: ${(props) =>\r\n        props.selectColor ? `${props.selectColor}` : `skyblue`};\r\n      box-shadow: 0 0.05rem #666;\r\n      transform: translateY(4px);\r\n    `}\r\n`;\r\n\r\nconst SliderBox = styled.div`\r\n  width: 200px;\r\n  height: 40px;\r\n  display: flex;\r\n  background: #f2e8dc;\r\n  padding: 8px;\r\n  font-size: 8px;\r\n`;\r\n\r\nconst SliderSpan = styled.div`\r\n  font-size: 12px;\r\n  line-height: 26px;\r\n  margin-right: 8px;\r\n  white-space: nowrap;\r\n`;\r\n\r\nconst PreViewTools = ({\r\n  animationDuration,\r\n  dotFrameList,\r\n  layerList,\r\n  rowCount,\r\n  columnCount,\r\n  layerData,\r\n  backgroundImg,\r\n  handleOpenDialog,\r\n  handleChangeAnimationDuration,\r\n}) => {\r\n  const [play, setPlay] = useState(true);\r\n  const [zoomIn, setZoomIn] = useState(true);\r\n  const [pixelSize, setPixelSize] = useState(1);\r\n  const [hoverPreviewBox, setHoverPreviewBox] = useState(false);\r\n  // dotList는 애니메이션때문에 넣어둠\r\n  const [dotList, setDotList] = useState(\r\n    mergeLayersByDotFrameList(dotFrameList, layerData),\r\n  );\r\n\r\n  useEffect(() => {\r\n    setDotList(mergeLayersByDotFrameList(dotFrameList, layerData));\r\n  }, [play, dotFrameList, layerData]);\r\n\r\n  useEffect(() => {\r\n    const previewBlock = document.getElementById('previewBlock');\r\n\r\n    let maxSize = zoomIn ? 200 : 100;\r\n    let pixel =\r\n      rowCount < columnCount ? maxSize / columnCount : maxSize / rowCount;\r\n    setPixelSize(pixel);\r\n\r\n    previewBlock.style.backgroundImage = backgroundImg\r\n      ? `url(${White})`\r\n      : `url(${Black})`;\r\n    previewBlock.style.position = 'absolute';\r\n    previewBlock.style.width = `${Math.min(pixel * columnCount, maxSize)}px`;\r\n    previewBlock.style.height = `${Math.min(pixel * rowCount, maxSize)}px`;\r\n  }, [rowCount, columnCount, backgroundImg, zoomIn]);\r\n\r\n  useEffect(() => {\r\n    const paintBox = document.getElementById('paintBox');\r\n    const parentNode = paintBox.parentNode;\r\n    const childNode = paintBox.childNodes[0];\r\n\r\n    const previewBlock = document.getElementById('previewBlock');\r\n    let viewBox = document.createElement('div');\r\n    viewBox.style.position = 'absolute';\r\n    viewBox.style.zIndex = 1;\r\n    viewBox.style.border = '3px solid red';\r\n    viewBox.style.display = 'none';\r\n    viewBox.style.cursor = 'pointer';\r\n    viewBox.attributes.draggable = false;\r\n\r\n    previewBlock.appendChild(viewBox);\r\n\r\n    const scrollEvent = (e) => {\r\n      const overTop = paintBox.offsetTop === parentNode.offsetTop;\r\n      const overLeft = paintBox.offsetLeft === childNode.offsetLeft;\r\n\r\n      if (overTop || overLeft) {\r\n        viewBox.style.display = 'block';\r\n\r\n        if (overTop) {\r\n          viewBox.style.top = `${\r\n            (paintBox.scrollTop / paintBox.scrollHeight) *\r\n            previewBlock.clientHeight\r\n          }px`;\r\n          viewBox.style.height = `${\r\n            (paintBox.clientHeight / paintBox.scrollHeight) *\r\n            previewBlock.clientHeight\r\n          }px`;\r\n        } else {\r\n          let viewBoxHeight = Math.min(\r\n            (parentNode.clientHeight / paintBox.clientHeight) *\r\n              previewBlock.clientHeight,\r\n            200,\r\n          );\r\n\r\n          viewBox.style.height = `${viewBoxHeight}px`;\r\n          viewBox.style.top = `-${\r\n            (viewBoxHeight - previewBlock.clientHeight) / 2\r\n          }px`;\r\n        }\r\n\r\n        if (overLeft) {\r\n          viewBox.style.left = `${\r\n            (paintBox.scrollLeft / paintBox.scrollWidth) *\r\n            previewBlock.clientWidth\r\n          }px`;\r\n          viewBox.style.width = `${\r\n            (paintBox.clientWidth / paintBox.scrollWidth) *\r\n            previewBlock.clientWidth\r\n          }px`;\r\n        } else {\r\n          let viewBoxWidth = Math.min(\r\n            (paintBox.clientWidth / childNode.clientWidth) *\r\n              previewBlock.clientWidth,\r\n            200,\r\n          );\r\n\r\n          viewBox.style.width = `${viewBoxWidth}px`;\r\n          viewBox.style.left = `-${\r\n            (viewBoxWidth - previewBlock.clientWidth) / 2\r\n          }px`;\r\n        }\r\n      } else {\r\n        // viewBox가 표시 될 필요 없을 때\r\n        viewBox.style.display = 'none';\r\n      }\r\n    };\r\n\r\n    let isClick = false;\r\n\r\n    const onMouseDownEvent = (e) => {\r\n      isClick = true;\r\n    };\r\n\r\n    const onMouseUpEvent = (e) => {\r\n      isClick = false;\r\n    };\r\n\r\n    const onMouseMoveEvent = (e) => {\r\n      if (isClick) {\r\n        const previewData = document\r\n          .getElementById('previewWrapper')\r\n          .getBoundingClientRect();\r\n\r\n        const x = e.clientX - previewData.x;\r\n        const y = e.clientY - previewData.y;\r\n\r\n        // 움직임이 부자연스러우면 200을 변수로 바꿔줘야 함\r\n        // previewBlock 크기 계산식 바꾸면서 200px로 나누면 zoomIn false일 때는 약간 부자연스러울 수 있음\r\n        const moveX =\r\n          (paintBox.scrollWidth / 200) * x - paintBox.clientWidth / 2;\r\n        const moveY =\r\n          (paintBox.scrollHeight / 200) * y - paintBox.clientHeight / 2;\r\n\r\n        paintBox.scrollTo(moveX, moveY);\r\n      }\r\n    };\r\n\r\n    // previewBlock을 감시하면서 width와 height에 변경이 생기면 viewBox를 재 설정해 주기 위함\r\n    var observer = new MutationObserver(function (mutations) {\r\n      mutations.forEach(function (mutation) {\r\n        scrollEvent();\r\n      });\r\n    });\r\n\r\n    var config = {\r\n      attributes: true,\r\n    };\r\n\r\n    observer.observe(previewBlock, config);\r\n\r\n    paintBox.addEventListener('scroll', scrollEvent, {\r\n      passive: true,\r\n    });\r\n    viewBox.addEventListener('mousedown', onMouseDownEvent, { passive: true });\r\n    document.body.addEventListener('mouseup', onMouseUpEvent, {\r\n      passive: true,\r\n    });\r\n    document.body.addEventListener('mousemove', onMouseMoveEvent, {\r\n      passive: true,\r\n    });\r\n\r\n    return () => {\r\n      paintBox.removeEventListener('scroll', scrollEvent, { passive: true });\r\n    };\r\n  }, []);\r\n\r\n  const togglePlay = () => {\r\n    setPlay(!play);\r\n  };\r\n\r\n  const toggleZoom = () => {\r\n    setZoomIn(!zoomIn);\r\n  };\r\n\r\n  const onChangeAnimationDuration = (e, newValue) => {\r\n    handleChangeAnimationDuration(newValue);\r\n  };\r\n\r\n  const onChangeHoverPreviewBox = (bool) => {\r\n    setHoverPreviewBox(bool);\r\n  };\r\n\r\n  return (\r\n    <PreviewToolsWrapper\r\n      onMouseOver={() => onChangeHoverPreviewBox(true)}\r\n      onMouseOut={() => onChangeHoverPreviewBox(false)}\r\n    >\r\n      <ButtonBox hovered={hoverPreviewBox}>\r\n        <ToolTip placement=\"bottom\" tooltip={<>Toggle animation</>}>\r\n          <StyledButton\r\n            onClick={togglePlay}\r\n            selected={play}\r\n            selectColor=\"#f05556\"\r\n            color={play ? '#b71b2d' : '#008000'}\r\n            baseColor=\"#3db12a\"\r\n          >\r\n            {play ? <MdPause /> : <MdPlayArrow />}\r\n          </StyledButton>\r\n        </ToolTip>\r\n        <ToolTip\r\n          placement=\"bottom\"\r\n          tooltip={<>Preview zoom {zoomIn ? 'Out' : 'In'}</>}\r\n        >\r\n          <StyledButton onClick={toggleZoom}>\r\n            {zoomIn ? <MdFullscreenExit /> : <MdFullscreen />}\r\n          </StyledButton>\r\n        </ToolTip>\r\n        <ToolTip placement=\"bottom\" tooltip={<>Open preview dialog</>}>\r\n          <StyledButton onClick={() => handleOpenDialog('Preview')}>\r\n            <MdContentCopy />\r\n          </StyledButton>\r\n        </ToolTip>\r\n      </ButtonBox>\r\n      <PreviewWrapper backgroundImg={backgroundImg} id=\"previewWrapper\">\r\n        <div id=\"previewBlock\">\r\n          {!play && (\r\n            <Preview\r\n              dotSet={layerListMerge(layerList, layerData)}\r\n              column={columnCount}\r\n              size={pixelSize}\r\n            />\r\n          )}\r\n          {play && (\r\n            <Preview\r\n              dotList={dotList}\r\n              column={columnCount}\r\n              size={pixelSize}\r\n              animation={play}\r\n              duration={animationDuration}\r\n            />\r\n          )}\r\n        </div>\r\n      </PreviewWrapper>\r\n\r\n      <ToolTip\r\n        placement=\"bottom\"\r\n        tooltip={\r\n          <>\r\n            Show animation for {animationDuration} seconds\r\n            <span>\r\n              and animation divided by each frame what you set interval\r\n            </span>\r\n          </>\r\n        }\r\n      >\r\n        <SliderBox>\r\n          <SliderSpan>Duration {animationDuration}S</SliderSpan>\r\n          <Slider\r\n            defaultValue={2}\r\n            aria-labelledby=\"vertical-slider\"\r\n            valueLabelDisplay=\"auto\"\r\n            step={1}\r\n            color=\"secondary\"\r\n            min={1}\r\n            max={10}\r\n            onChange={onChangeAnimationDuration}\r\n          />\r\n        </SliderBox>\r\n      </ToolTip>\r\n    </PreviewToolsWrapper>\r\n  );\r\n};\r\n\r\nexport default React.memo(PreViewTools);\r\n","import React, { useCallback } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { changeTypeAndOpen } from '../../modules/dialog';\r\nimport { changeAnimationDuration } from '../../modules/dot';\r\nimport { changeTypingState } from '../../modules/observer';\r\nimport PreViewTools from '../../components/dotArtTools/PreViewTools';\r\n\r\nconst PreViewContainer = () => {\r\n  const dispatch = useDispatch();\r\n  const {\r\n    dotFrameList,\r\n    layerList,\r\n    rowCount,\r\n    columnCount,\r\n    animationDuration,\r\n    layerData,\r\n  } = useSelector(({ dotArt: { present: { dot } } }) => ({\r\n    dotFrameList: dot.dotFrameList,\r\n    layerList: dot.dotFrameList[dot.activeIdx].layerList,\r\n    rowCount: dot.rowCount,\r\n    columnCount: dot.columnCount,\r\n    animationDuration: dot.animationDuration,\r\n    layerData: dot.layerData,\r\n  }));\r\n  const { backgroundImg } = useSelector(({ observer }) => ({\r\n    backgroundImg: observer.backgroundImg,\r\n  }));\r\n\r\n  const handleOpenDialog = useCallback(\r\n    (type) => {\r\n      dispatch(changeTypeAndOpen(type));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  const handleChangeAnimationDuration = useCallback(\r\n    (duration) => {\r\n      dispatch(changeAnimationDuration(duration));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  const handleChangeTyping = useCallback(\r\n    (typing) => {\r\n      dispatch(changeTypingState(typing));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  return (\r\n    <PreViewTools\r\n      animationDuration={animationDuration}\r\n      dotFrameList={dotFrameList}\r\n      layerList={layerList}\r\n      rowCount={rowCount}\r\n      columnCount={columnCount}\r\n      layerData={layerData}\r\n      backgroundImg={backgroundImg}\r\n      handleOpenDialog={handleOpenDialog}\r\n      handleChangeAnimationDuration={handleChangeAnimationDuration}\r\n      handleChangeTyping={handleChangeTyping}\r\n    />\r\n  );\r\n};\r\n\r\nexport default React.memo(PreViewContainer);\r\n","import React from 'react';\r\n\r\nconst DivBlock = ({ rowIdx, columnIdx, onMouseOverHandler }) => {\r\n  return (\r\n    <div\r\n      onMouseOver={(e) => onMouseOverHandler(e, rowIdx, columnIdx)}\r\n      onMouseDown={(e) => onMouseOverHandler(e, rowIdx, columnIdx)}\r\n    />\r\n  );\r\n};\r\n\r\nexport default DivBlock;\r\n","import React, { useCallback } from 'react';\r\nimport DivBlock from '../common/DivBlock';\r\nimport { shallowEqual, useSelector } from 'react-redux';\r\n\r\nconst DotPaintLine = ({ dotLineIdx, onMouseOverHandler }) => {\r\n  const { columnCount } = useSelector(\r\n    ({ dotArt }) => ({\r\n      columnCount: dotArt.present.dot.columnCount,\r\n    }),\r\n    shallowEqual, // columnCount 값을 계속 다르게 인식해서 적어둠\r\n  );\r\n  const dotMaker = useCallback(() => {\r\n    let dotArr = [];\r\n    for (let i = 0; i < columnCount; i++) {\r\n      dotArr.push(\r\n        <DivBlock\r\n          key={i}\r\n          rowIdx={dotLineIdx}\r\n          columnIdx={i}\r\n          onMouseOverHandler={onMouseOverHandler}\r\n        />,\r\n      );\r\n    }\r\n    return dotArr;\r\n  }, [columnCount, dotLineIdx, onMouseOverHandler]);\r\n  return <div>{dotMaker()}</div>;\r\n};\r\n\r\nexport default React.memo(DotPaintLine);\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Preview from '../common/Preview';\r\nimport { DOT } from '../../modules/paintTool';\r\n\r\nconst LayerWrapper = styled.div``;\r\nconst Layer = styled.div``;\r\n\r\nconst DotLayer = ({\r\n  layerList,\r\n  fakeDotArt,\r\n  columnCount,\r\n  dotSize,\r\n  layerIdx,\r\n  selectedPaintTool,\r\n  showLayers,\r\n}) => {\r\n  return (\r\n    <LayerWrapper>\r\n      {layerList.map((layer, idx) => {\r\n        if (idx !== layerIdx) {\r\n          // 선택된 레이어가 아니면\r\n          if (showLayers)\r\n            return (\r\n              <Preview\r\n                key={idx}\r\n                dotSet={layer}\r\n                column={columnCount}\r\n                size={dotSize}\r\n                zIndex={1}\r\n                opacity={0.5}\r\n              />\r\n            );\r\n        } else {\r\n          // 선택된 레이어면\r\n          return (\r\n            <Layer key=\"selectLayer\" id=\"selectLayer\">\r\n              {selectedPaintTool === DOT && (\r\n                <>\r\n                  <Preview\r\n                    key={idx}\r\n                    dotSet={layer}\r\n                    column={columnCount}\r\n                    size={dotSize}\r\n                    zIndex={2}\r\n                    opacity={1}\r\n                  />\r\n                  <Preview\r\n                    dotSet={fakeDotArt}\r\n                    column={columnCount}\r\n                    size={dotSize}\r\n                    zIndex={10}\r\n                  />\r\n                </>\r\n              )}\r\n              {selectedPaintTool !== DOT && (\r\n                <>\r\n                  <Preview\r\n                    dotSet={fakeDotArt}\r\n                    column={columnCount}\r\n                    size={dotSize}\r\n                    zIndex={2}\r\n                  />\r\n                </>\r\n              )}\r\n            </Layer>\r\n          );\r\n        }\r\n      })}\r\n    </LayerWrapper>\r\n  );\r\n};\r\n\r\nexport default React.memo(DotLayer);\r\n","import React from 'react';\r\nimport DotLayer from '../../components/dotPaint/DotLayer';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst DotLayerContainer = () => {\r\n  const { layerList, layerIdx, fakeDotArt, columnCount } = useSelector(\r\n    ({\r\n      dotArt: {\r\n        present: { dot },\r\n      },\r\n    }) => ({\r\n      layerList: dot.dotFrameList[dot.activeIdx].layerList,\r\n      layerIdx: dot.layerData[dot.layerSelectIdx].dotFrameIdx,\r\n      fakeDotArt: dot.fakeDotArt,\r\n      columnCount: dot.columnCount,\r\n    }),\r\n  );\r\n  const { dotSize, showLayers } = useSelector(({ observer }) => ({\r\n    dotSize: observer.dotSize,\r\n    showLayers: observer.showLayers,\r\n  }));\r\n  const { selectedPaintTool } = useSelector(({ paintTool }) => ({\r\n    selectedPaintTool: paintTool.selectedPaintTool,\r\n  }));\r\n\r\n  return (\r\n    <DotLayer\r\n      layerList={layerList}\r\n      fakeDotArt={fakeDotArt}\r\n      columnCount={columnCount}\r\n      dotSize={dotSize}\r\n      layerIdx={layerIdx}\r\n      selectedPaintTool={selectedPaintTool}\r\n      showLayers={showLayers}\r\n    />\r\n  );\r\n};\r\n\r\nexport default DotLayerContainer;\r\n","import React, { useCallback } from 'react';\r\nimport styled, { css } from 'styled-components';\r\nimport DotPaintLine from './DotPaintLine';\r\nimport DotLayerContainer from '../../containers/dotPaint/DotLayerContainer';\r\nimport White from '../../img/white.png';\r\nimport Black from '../../img/black.png';\r\n\r\nconst DotPaintWrapper = styled.div`\r\n  z-index: 0;\r\n  width: 100%;\r\n  height: 92vh;\r\n  max-height: 92vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n  background: #a69e94;\r\n  margin-right: 8px;\r\n`;\r\n\r\nconst DotPaintBox = styled.div`\r\n  display: flex;\r\n  box-sizing: border-box;\r\n  touch-action: none;\r\n  overflow: auto;\r\n`;\r\n\r\nconst DotPaintBlock = styled.div`\r\n  background-image: ${(props) =>\r\n    props.backgroundImg === 1 ? `url(${White})` : `url(${Black})`};\r\n  display: inline-flex;\r\n  justify-content: flex-start;\r\n  flex-direction: column;\r\n  width: auto;\r\n  height: fit-content;\r\n  margin: 0 auto;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n  ${(props) =>\r\n    css`\r\n      border: ${props.borderSize}px solid ${props.borderColor};\r\n    `};\r\n  & > :nth-child(n + 2) {\r\n    display: flex;\r\n    & > * {\r\n      z-index: 99;\r\n      cursor: cell;\r\n      box-sizing: border-box;\r\n      :hover {\r\n        background: rgba(255, 255, 255, 0.2);\r\n      }\r\n      ${(props) =>\r\n        css`\r\n          border: ${props.borderSize}px solid ${props.borderColor};\r\n          width: ${props.dotSize}px;\r\n          height: ${props.dotSize}px;\r\n          min-width: ${props.dotSize}px;\r\n          min-height: ${props.dotSize}px;\r\n        `};\r\n    }\r\n  }\r\n`;\r\n\r\nconst DotPaint = ({\r\n  border,\r\n  dotSize,\r\n  rowCount,\r\n  columnCount,\r\n  backgroundImg,\r\n  onWheelHandle,\r\n  onChangePaintStateHandle,\r\n  onDotActionHandle,\r\n  onSetDirectionHandle,\r\n  onLeavesPaintAreaHandle,\r\n}) => {\r\n  const onMouseDownHandler = useCallback(\r\n    (e) => {\r\n      e.preventDefault();\r\n      if (e.button === 1) return;\r\n\r\n      onSetDirectionHandle(e.button === 0 ? 'LEFT' : 'RIGHT');\r\n      onChangePaintStateHandle('DRAGGING');\r\n    },\r\n    [onChangePaintStateHandle, onSetDirectionHandle],\r\n  );\r\n  const onMouseOverHandler = useCallback(\r\n    (e, rowIdx, columnIdx) => {\r\n      e.preventDefault();\r\n      onDotActionHandle(rowIdx, columnIdx);\r\n    },\r\n    [onDotActionHandle],\r\n  );\r\n\r\n  const dotLineMaker = useCallback(() => {\r\n    let dotLineArr = [];\r\n    for (let i = 0; i < rowCount; i++) {\r\n      dotLineArr.push(\r\n        <DotPaintLine\r\n          key={i}\r\n          dotLineIdx={i}\r\n          onMouseDownHandler={onMouseDownHandler}\r\n          onMouseOverHandler={onMouseOverHandler}\r\n        />,\r\n      );\r\n    }\r\n    return dotLineArr;\r\n  }, [rowCount, onMouseDownHandler, onMouseOverHandler]);\r\n\r\n  return (\r\n    <DotPaintWrapper\r\n      onWheel={(e) => onWheelHandle(e)}\r\n      onContextMenu={(e) => e.preventDefault()}\r\n    >\r\n      <DotPaintBox id=\"paintBox\">\r\n        <DotPaintBlock\r\n          dotSize={dotSize}\r\n          borderColor={border.color}\r\n          borderSize={dotSize > 16 ? border.size : dotSize > 4 ? 1 : 0}\r\n          backgroundImg={backgroundImg}\r\n          onMouseLeave={onLeavesPaintAreaHandle}\r\n          onMouseDownCapture={onMouseDownHandler} // 캡쳐링으로 state를 먼저 바꿔줘야함\r\n          onContextMenu={(e) => e.preventDefault()}\r\n        >\r\n          <DotLayerContainer />\r\n          {dotLineMaker()}\r\n        </DotPaintBlock>\r\n      </DotPaintBox>\r\n    </DotPaintWrapper>\r\n  );\r\n};\r\n\r\nexport default React.memo(DotPaint);\r\n","import { createAction, handleActions } from 'redux-actions';\r\nimport produce from 'immer';\r\nimport { takeLatest } from 'redux-saga/effects';\r\nimport createRequestSaga, {\r\n  createRequestActionTypes,\r\n} from '../lib/createRequestSaga';\r\nimport * as authAPI from '../lib/auth';\r\n\r\nconst CHANGE_FILED = 'auth/CHANGE_FILED';\r\nconst INITIALIZE_FORM = 'auth/INITIALIZE_FORM';\r\nconst RESET_ERROR = 'auth/RESET_ERROR';\r\n\r\nconst [SIGNUP, SIGNUP_SUCCESS, SIGNUP_FAILURE] = createRequestActionTypes(\r\n  'auth/SIGNUP',\r\n);\r\n\r\nconst [LOGIN, LOGIN_SUCCESS, LOGIN_FAILURE] = createRequestActionTypes(\r\n  'auth/LOGIN',\r\n);\r\n\r\nexport const changeField = createAction(\r\n  CHANGE_FILED,\r\n  ({ form, key, value }) => ({\r\n    form, // login, signup\r\n    key, // username, password, passwordConfirm\r\n    value, // 실제 바꾸려는 값\r\n  }),\r\n);\r\n\r\nexport const initializeForm = createAction(INITIALIZE_FORM, (form) => form);\r\nexport const resetError = createAction(RESET_ERROR);\r\nexport const signup = createAction(SIGNUP, ({ username, password }) => ({\r\n  username,\r\n  password,\r\n}));\r\nexport const login = createAction(LOGIN, ({ username, password }) => ({\r\n  username,\r\n  password,\r\n}));\r\n\r\nconst signupSaga = createRequestSaga(SIGNUP, authAPI.signup);\r\nconst loginSaga = createRequestSaga(LOGIN, authAPI.login);\r\nexport function* authSaga() {\r\n  yield takeLatest(SIGNUP, signupSaga);\r\n  yield takeLatest(LOGIN, loginSaga);\r\n}\r\n\r\nconst initialState = {\r\n  signup: {\r\n    username: '',\r\n    password: '',\r\n    passwordConfirm: '',\r\n  },\r\n  login: {\r\n    username: '',\r\n    password: '',\r\n  },\r\n};\r\n\r\nconst auth = handleActions(\r\n  {\r\n    [CHANGE_FILED]: (state, { payload: { form, key, value } }) =>\r\n      produce(state, (draft) => {\r\n        draft[form][key] = value; // ex: state.signup.username을 바꾼다\r\n      }),\r\n    [INITIALIZE_FORM]: (state, { payload: form }) => ({\r\n      ...state,\r\n      authError: null,\r\n      [form]: initialState[form],\r\n    }),\r\n    [RESET_ERROR]: (state) => ({\r\n      ...state,\r\n      authError: null,\r\n    }),\r\n    [SIGNUP_SUCCESS]: (state, { payload: auth }) => ({\r\n      ...state,\r\n      authError: null,\r\n      auth,\r\n    }),\r\n    [SIGNUP_FAILURE]: (state, { payload: error }) => ({\r\n      ...state,\r\n      authError: error,\r\n    }),\r\n    [LOGIN_SUCCESS]: (state, { payload: auth }) => ({\r\n      ...state,\r\n      authError: null,\r\n      auth,\r\n    }),\r\n    [LOGIN_FAILURE]: (state, { payload: error }) => ({\r\n      ...state,\r\n      authError: error,\r\n    }),\r\n  },\r\n  initialState,\r\n);\r\n\r\nexport default auth;\r\n","import { createAction, handleActions } from 'redux-actions';\r\nimport { produce } from 'immer';\r\nimport { examplePalette } from '../util/json-example';\r\n\r\nconst LOAD_PALETTES = 'palettes/LOAD_PALETTES';\r\nconst SELECT_LEFT_COLOR = 'palettes/SELECT_LEFT_COLOR';\r\nconst SELECT_RIGHT_COLOR = 'palettes/SELECT_RIGHT_COLOR';\r\nconst SWAP_LEFT_RIGHT_COLOR = 'palettes/SWAP_LEFT_RIGHT_COLOR';\r\nconst REORDER_PALETTES = 'palettes/REDORDER_PALETTES';\r\nconst REORDER_PALETTE_CELL = 'palettes/REORDER_PALETTE_CELL';\r\nconst MOVE_PALETTE_TO_TRASH_CAN = 'palettes/MOVE_PALETTE_TO_TRASH_CAN';\r\nconst MOVE_CELL_TO_TRASH_CAN = 'palettes/MOVE_CELL_TO_TRASH_CAN';\r\nconst MOVE_CELL_FROM_TRASH_CAN = 'palettes/MOVE_CELL_FROM_TRASH_CAN';\r\nconst SELECT_COLOR_CELL = 'palettes/SELECT_COLOR_CELL';\r\nconst INSERT_NEW_PALETTE = 'palettes/INSERT_NEW_PALETTE';\r\nconst MOVE_UP_PALETTE_CELL = 'palettes/MOVE_UP_PALETTE_CELL';\r\nconst MOVE_DOWN_PALETTE_CELL = 'palettes/MOVE_DOWN_PALETTE_CELL';\r\nconst MOVE_LEFT_PALETTE_CELL = 'palettes/MOVE_LEFT_PALETTE_CELL';\r\nconst MOVE_RIGHT_PALETTE_CELL = 'palettes/MOVE_RIGHT_PALETTE_CELL';\r\n\r\nexport const loadPalettes = createAction(\r\n  LOAD_PALETTES,\r\n  (loadedData) => loadedData,\r\n);\r\nexport const selectLeftColor = createAction(\r\n  SELECT_LEFT_COLOR,\r\n  ({ color, paletteId, selectIdx }) => ({ color, paletteId, selectIdx }),\r\n);\r\nexport const selectRightColor = createAction(\r\n  SELECT_RIGHT_COLOR,\r\n  ({ color }) => ({ color }),\r\n);\r\nexport const swapLeftRightColor = createAction(SWAP_LEFT_RIGHT_COLOR);\r\nexport const reorderPalettes = createAction(\r\n  REORDER_PALETTES,\r\n  ({ startIdx, endIdx }) => ({\r\n    startIdx,\r\n    endIdx,\r\n  }),\r\n);\r\nexport const reorderPaletteCell = createAction(\r\n  REORDER_PALETTE_CELL,\r\n  ({ startPaletteId, endPaletteId, startIdx, endIdx }) => ({\r\n    startPaletteId,\r\n    endPaletteId,\r\n    startIdx,\r\n    endIdx,\r\n  }),\r\n);\r\nexport const movePaletteToTrashCan = createAction(\r\n  MOVE_PALETTE_TO_TRASH_CAN,\r\n  ({ dragIdx }) => ({ dragIdx }),\r\n);\r\nexport const moveCellToTrashCan = createAction(\r\n  MOVE_CELL_TO_TRASH_CAN,\r\n  ({ paletteId, dragIdx }) => ({ paletteId, dragIdx }),\r\n);\r\nexport const moveCellFromTrashCan = createAction(\r\n  MOVE_CELL_FROM_TRASH_CAN,\r\n  ({ endPaletteId, startIdx, endIdx }) => ({ endPaletteId, startIdx, endIdx }),\r\n);\r\nexport const selectColorCell = createAction(\r\n  SELECT_COLOR_CELL,\r\n  ({ paletteId, selectIdx }) => ({ paletteId, selectIdx }),\r\n);\r\nexport const insertNewPalette = createAction(INSERT_NEW_PALETTE);\r\nexport const moveUpPaletteCell = createAction(MOVE_UP_PALETTE_CELL);\r\nexport const moveDownPaletteCell = createAction(MOVE_DOWN_PALETTE_CELL);\r\nexport const moveLeftPaletteCell = createAction(MOVE_LEFT_PALETTE_CELL);\r\nexport const moveRightPaletteCell = createAction(MOVE_RIGHT_PALETTE_CELL);\r\n\r\nconst initialState = {\r\n  palettes: examplePalette,\r\n  selectColorId: {\r\n    paletteId: examplePalette[0]['id'],\r\n    colorId: 0,\r\n  },\r\n  leftColor: '#000000',\r\n  rightColor: '#ffffff',\r\n  trashCan: [],\r\n};\r\n\r\nconst checkTrashCanIsFull = (trashCan) => {\r\n  if (trashCan.length < 30) {\r\n    return trashCan;\r\n  } else {\r\n    return trashCan.splice(0, 30);\r\n  }\r\n};\r\n\r\nconst palettes = handleActions(\r\n  {\r\n    [LOAD_PALETTES]: (state, { payload: loadedData }) => ({\r\n      ...state,\r\n      palettes: [...loadedData],\r\n      selectColorId: {\r\n        paletteId: loadedData[0]['id'],\r\n        colorId: 0,\r\n      },\r\n    }),\r\n    [SELECT_LEFT_COLOR]: (\r\n      state,\r\n      { payload: { color, paletteId, selectIdx } },\r\n    ) => ({\r\n      ...state,\r\n      leftColor: color,\r\n      selectColorId: {\r\n        paletteId: paletteId,\r\n        colorId: selectIdx,\r\n      },\r\n      trashCan: state.trashCan.concat(color),\r\n    }),\r\n    [SELECT_RIGHT_COLOR]: (state, { payload: { color } }) => ({\r\n      ...state,\r\n      rightColor: color,\r\n      trashCan: state.trashCan.concat(color),\r\n    }),\r\n    [SWAP_LEFT_RIGHT_COLOR]: (state) => ({\r\n      ...state,\r\n      leftColor: state.rightColor,\r\n      rightColor: state.leftColor,\r\n    }),\r\n    [REORDER_PALETTES]: (state, { payload: { startIdx, endIdx } }) =>\r\n      produce(state, (draft) => {\r\n        const [removed] = draft.palettes.splice(startIdx, 1);\r\n        draft.palettes.splice(endIdx, 0, removed);\r\n      }),\r\n    [REORDER_PALETTE_CELL]: (\r\n      state,\r\n      { payload: { startPaletteId, endPaletteId, startIdx, endIdx } },\r\n    ) =>\r\n      produce(state, (draft) => {\r\n        // 같은 palette 내 이동\r\n        if (startPaletteId === endPaletteId) {\r\n          const paletteIdx = draft.palettes.reduce(\r\n            (acc, cur, idx) => (cur.id === endPaletteId ? idx : acc),\r\n            [],\r\n          );\r\n          const [removed] = draft.palettes[paletteIdx].colors.splice(\r\n            startIdx,\r\n            1,\r\n          );\r\n          draft.palettes[paletteIdx].colors.splice(endIdx, 0, removed);\r\n        } else {\r\n          // 다른 palette로 이동\r\n          const color = draft.palettes.reduce(\r\n            (acc, cur) =>\r\n              cur.id === startPaletteId ? cur.colors.splice(startIdx, 1) : acc,\r\n            [],\r\n          );\r\n          draft.palettes.map((palette) =>\r\n            palette.id === endPaletteId\r\n              ? palette.colors.splice(endIdx, 0, color)\r\n              : '',\r\n          );\r\n        }\r\n\r\n        // selectColorId 재설정\r\n        draft.selectColorId = {\r\n          paletteId: endPaletteId,\r\n          colorId: endIdx,\r\n        };\r\n      }),\r\n    [MOVE_PALETTE_TO_TRASH_CAN]: (state, { payload: { dragIdx } }) =>\r\n      produce(state, (draft) => {\r\n        const removed = draft.palettes.splice(dragIdx, 1);\r\n        removed[0].colors.map((color) => draft.trashCan.unshift(color));\r\n        draft.trashCan = checkTrashCanIsFull(draft.trashCan);\r\n\r\n        // selectColorId 재설정\r\n        if (removed[0].id === draft.selectColorId.paletteId) {\r\n          for (let i = 0; i < draft.palettes.length; i++) {\r\n            if (draft.palettes[i].colors.length > 0) {\r\n              draft.selectColorId = {\r\n                paletteId: draft.palettes[i].id,\r\n                colorId: 0,\r\n              };\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }),\r\n    [MOVE_CELL_TO_TRASH_CAN]: (state, { payload: { paletteId, dragIdx } }) =>\r\n      produce(state, (draft) => {\r\n        const selectPalette = draft.palettes.filter(\r\n          (palette) => palette.id === paletteId,\r\n        );\r\n        const color = selectPalette[0].colors.splice(dragIdx, 1);\r\n        draft.trashCan.unshift(color[0]);\r\n        draft.trashCan = checkTrashCanIsFull(draft.trashCan);\r\n\r\n        //  삭제한 셀의 palette에 선택한 셀이 있는지\r\n        if (draft.selectColorId.paletteId === paletteId) {\r\n          if (draft.selectColorId.colorId > dragIdx) {\r\n            // 선택한 셀이 삭제한 셀보다 높으면 하나 낮춰서 위치를 다시 맞춰줌\r\n            draft.selectColorId.colorId--;\r\n          } else {\r\n            // 아니면 length가 0이 됬는지 확인하고 0이면\r\n            // palette에 아무 색이 없으니 selectCell을 초기화해줌\r\n            if (selectPalette[0].colors.length <= 0) {\r\n              for (let i = 0; i < draft.palettes.length; i++) {\r\n                if (draft.palettes[i].colors.length > 0) {\r\n                  draft.selectColorId = {\r\n                    paletteId: draft.palettes[i].id,\r\n                    colorId: 0,\r\n                  };\r\n                  break;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }),\r\n    [MOVE_CELL_FROM_TRASH_CAN]: (\r\n      state,\r\n      { payload: { endPaletteId, startIdx, endIdx } },\r\n    ) =>\r\n      produce(state, (draft) => {\r\n        const color = draft.trashCan.splice(startIdx, 1);\r\n        draft.palettes.map((palette) =>\r\n          palette.id === endPaletteId\r\n            ? palette.colors.splice(endIdx, 0, color[0])\r\n            : '',\r\n        );\r\n        // selectColorId를 살린 셀에 맞춰준다\r\n        draft.selectColorId = {\r\n          paletteId: endPaletteId,\r\n          colorId: endIdx,\r\n        };\r\n      }),\r\n    [SELECT_COLOR_CELL]: (state, { payload: { paletteId, selectIdx } }) => ({\r\n      ...state,\r\n      selectColorId: { paletteId: paletteId, colorId: selectIdx },\r\n    }),\r\n    [MOVE_UP_PALETTE_CELL]: (state) =>\r\n      produce(state, (draft) => {\r\n        const paletteId = draft.selectColorId.paletteId;\r\n        const paletteIdx = draft.palettes.findIndex(\r\n          (palette) => palette.id === paletteId,\r\n        );\r\n\r\n        // paletteId가 0보다 크고, 위에 있는 palette의 colors가 최소 1개는 있어야 위로 이동 가능\r\n        if (\r\n          paletteIdx > 0 &&\r\n          draft.palettes[paletteIdx - 1].colors.length > 0\r\n        ) {\r\n          // 위 쪽 palette의 colors수가 colorId보다 낮으면 마지막 조절해준다\r\n          if (\r\n            draft.palettes[paletteIdx - 1].colors.length - 1 >=\r\n            draft.selectColorId.colorId\r\n          ) {\r\n            draft.selectColorId = {\r\n              paletteId: draft.palettes[paletteIdx - 1].id,\r\n              colorId: draft.selectColorId.colorId,\r\n            };\r\n          } else {\r\n            draft.selectColorId = {\r\n              paletteId: draft.palettes[paletteIdx - 1].id,\r\n              colorId: draft.palettes[paletteIdx - 1].colors.length - 1,\r\n            };\r\n          }\r\n        }\r\n        // Left Color setting\r\n        draft.leftColor = draft.palettes.filter(\r\n          (palette) => palette.id === draft.selectColorId.paletteId,\r\n        )[0].colors[draft.selectColorId.colorId];\r\n      }),\r\n    [MOVE_DOWN_PALETTE_CELL]: (state) =>\r\n      produce(state, (draft) => {\r\n        const paletteId = draft.selectColorId.paletteId;\r\n        const paletteIdx = draft.palettes.findIndex(\r\n          (palette) => palette.id === paletteId,\r\n        );\r\n\r\n        if (\r\n          paletteIdx < draft.palettes.length - 1 &&\r\n          draft.palettes[paletteIdx + 1].colors.length > 0\r\n        ) {\r\n          if (\r\n            draft.palettes[paletteIdx + 1].colors.length - 1 >=\r\n            draft.selectColorId.colorId\r\n          ) {\r\n            draft.selectColorId = {\r\n              paletteId: draft.palettes[paletteIdx + 1].id,\r\n              colorId: draft.selectColorId.colorId,\r\n            };\r\n          } else {\r\n            draft.selectColorId = {\r\n              paletteId: draft.palettes[paletteIdx + 1].id,\r\n              colorId: draft.palettes[paletteIdx + 1].colors.length - 1,\r\n            };\r\n          }\r\n        }\r\n        // Left Color setting\r\n        draft.leftColor = draft.palettes.filter(\r\n          (palette) => palette.id === draft.selectColorId.paletteId,\r\n        )[0].colors[draft.selectColorId.colorId];\r\n      }),\r\n    [MOVE_LEFT_PALETTE_CELL]: (state) =>\r\n      produce(state, (draft) => {\r\n        draft.selectColorId = {\r\n          paletteId: draft.selectColorId.paletteId,\r\n          colorId:\r\n            draft.selectColorId.colorId <= 0\r\n              ? draft.selectColorId.colorId\r\n              : draft.selectColorId.colorId - 1,\r\n        };\r\n\r\n        // Left Color setting\r\n        draft.leftColor = draft.palettes.filter(\r\n          (palette) => palette.id === draft.selectColorId.paletteId,\r\n        )[0].colors[draft.selectColorId.colorId];\r\n      }),\r\n    [MOVE_RIGHT_PALETTE_CELL]: (state) =>\r\n      produce(state, (draft) => {\r\n        const paletteId = draft.selectColorId.paletteId;\r\n        const selectPalette = draft.palettes.filter(\r\n          (palette) => palette.id === paletteId,\r\n        )[0];\r\n        if (selectPalette.colors.length - 1 > draft.selectColorId.colorId) {\r\n          draft.selectColorId.colorId++;\r\n        }\r\n        // Left Color setting\r\n        draft.leftColor = draft.palettes.filter(\r\n          (palette) => palette.id === draft.selectColorId.paletteId,\r\n        )[0].colors[draft.selectColorId.colorId];\r\n      }),\r\n  },\r\n  initialState,\r\n);\r\n\r\nexport default palettes;\r\n","import { createAction, handleActions } from 'redux-actions';\r\nimport { initShortcut } from '../util/shortcutData';\r\n\r\nconst CHANGE_KEY_BIND = 'keybind/CHANGE_KEY_BIND';\r\n\r\nexport const changeKeyBind = createAction(\r\n  CHANGE_KEY_BIND,\r\n  ({ action, key }) => ({\r\n    action,\r\n    key,\r\n  }),\r\n);\r\n\r\nconst initialState = { ...initShortcut };\r\n\r\nconst keybind = handleActions(\r\n  {\r\n    [CHANGE_KEY_BIND]: (state) => ({ ...state }),\r\n  },\r\n  initialState,\r\n);\r\n\r\nexport default keybind;\r\n","export const initShortcut = {\r\n  paintTools: {\r\n    DOT: { key: 'Q', code: 'KeyQ', helpText: 'Pen tool' },\r\n    BUCKET: { key: 'B', code: 'KeyB', helpText: 'Bucket tool' },\r\n    PICKER: { key: 'P', code: 'KeyP', helpText: 'Color picker tool' },\r\n    ERASER: { key: 'E', code: 'KeyE', helpText: 'Eraser tool' },\r\n    MOVE: { key: 'M', code: 'KeyM', helpText: 'Move tool' },\r\n    SAMECOLOR: {\r\n      key: 'A',\r\n      code: 'KeyA',\r\n      helpText: 'Bucket all same colors pixel',\r\n    },\r\n    category: ['DOT', 'BUCKET', 'PICKER', 'ERASER', 'MOVE', 'SAMECOLOR'],\r\n  },\r\n  color: {\r\n    SWAP: {\r\n      key: 'X',\r\n      code: 'KeyX',\r\n      helpText: 'Swap first/second Color',\r\n    },\r\n    PALETTE_UP: {\r\n      key: '↑',\r\n      code: 'ArrowUp',\r\n      helpText: 'Select palette move up',\r\n    },\r\n    PALETTE_DOWN: {\r\n      key: '↓',\r\n      code: 'ArrowDown',\r\n      helpText: 'Select palette move down',\r\n    },\r\n    PALETTE_LEFT: {\r\n      key: '←',\r\n      code: 'ArrowLeft',\r\n      helpText: 'Select palette move left',\r\n    },\r\n    PALETTE_RIGHT: {\r\n      key: '→',\r\n      code: 'ArrowRight',\r\n      helpText: 'Select palette move right',\r\n    },\r\n    category: [\r\n      'SWAP',\r\n      'PALETTE_UP',\r\n      'PALETTE_DOWN',\r\n      'PALETTE_LEFT',\r\n      'PALETTE_RIGHT',\r\n    ],\r\n  },\r\n  storage: {\r\n    SAVE_DOTART: {\r\n      key: 'ctrl + S',\r\n      code: '$mod+KeyS',\r\n      helpText: 'Save to localStorage',\r\n    },\r\n    LOAD_DOTART: {\r\n      key: 'alt + L',\r\n      code: 'Alt+KeyL',\r\n      helpText: 'Open load dialog',\r\n    },\r\n    category: ['SAVE_DOTART', 'LOAD_DOTART'],\r\n  },\r\n  misc: {\r\n    INCREASE_DOTSIZE: {\r\n      key: '-',\r\n      code: 'Equal',\r\n      helpText: 'Increase dot size',\r\n    },\r\n    DECREASE_DOTSIZE: {\r\n      key: '+',\r\n      code: 'Minus',\r\n      helpText: 'Decrease dot size',\r\n    },\r\n    INCREASE_COLUMN: {\r\n      key: 'ctrl + →',\r\n      code: '$mod+ArrowRight',\r\n      helpText: 'Column + 1',\r\n    },\r\n    DECREASE_COLUMN: {\r\n      key: 'ctrl + ←',\r\n      code: '$mod+ArrowLeft',\r\n      helpText: 'Column - 1',\r\n    },\r\n    INCREASE_ROW: {\r\n      key: 'ctrl + ↓',\r\n      code: '$mod+ArrowDown',\r\n      helpText: 'Row + 1',\r\n    },\r\n    DECREASE_ROW: {\r\n      key: 'ctrl + ↑',\r\n      code: '$mod+ArrowUp',\r\n      helpText: 'Row - 1',\r\n    },\r\n    UNDO: { key: 'ctrl + Z', code: '$mod+KeyZ', helpText: 'Undo' },\r\n    REDO: {\r\n      key: 'ctrl + shift + Z',\r\n      code: '$mod+Shift+KeyZ',\r\n      helpText: 'Redo',\r\n    },\r\n    MOVE_VIEWPORT_UP: {\r\n      key: 'shift + ↑',\r\n      code: 'Shift+ArrowUp',\r\n      helpText: 'Move viewport up',\r\n    },\r\n    MOVE_VIEWPORT_RIGHT: {\r\n      key: 'shift + →',\r\n      code: 'Shift+ArrowRight',\r\n      helpText: 'Move viewport right',\r\n    },\r\n    MOVE_VIEWPORT_DOWN: {\r\n      key: 'shift + ↓',\r\n      code: 'Shift+ArrowDown',\r\n      helpText: 'Move viewport down',\r\n    },\r\n    MOVE_VIEWPORT_LEFT: {\r\n      key: 'shift + ←',\r\n      code: 'Shift+ArrowLeft',\r\n      helpText: 'Move viewport left',\r\n    },\r\n    category: [\r\n      'INCREASE_DOTSIZE',\r\n      'DECREASE_DOTSIZE',\r\n      'INCREASE_COLUMN',\r\n      'DECREASE_COLUMN',\r\n      'INCREASE_ROW',\r\n      'DECREASE_ROW',\r\n      'UNDO',\r\n      'REDO',\r\n      'MOVE_VIEWPORT_UP',\r\n      'MOVE_VIEWPORT_RIGHT',\r\n      'MOVE_VIEWPORT_DOWN',\r\n      'MOVE_VIEWPORT_LEFT',\r\n    ],\r\n  },\r\n};\r\n","import { combineReducers } from 'redux';\r\nimport { all } from 'redux-saga/effects';\r\nimport { defaultDotMaker } from '../util/dotArrayUtil';\r\nimport { createAction, handleActions } from 'redux-actions';\r\nimport dot, {\r\n  CLEAR_DOT,\r\n  NEW_DOT_ART_PROJECT,\r\n  LOAD_DOT_ART,\r\n  INCREASE_COLUMN,\r\n  DECREASE_COLUMN,\r\n  INCREASE_ROW,\r\n  DECREASE_ROW,\r\n  CHANGE_DOT_AREA,\r\n  CHANGE_ACTIVE_IDX,\r\n  REMOVE_ACTIVE_DOT_ART,\r\n  COPY_ACTIVE_DOT_ART,\r\n  ADD_NEW_DOT_ART,\r\n  CHANGE_ANIMATION_INTERVAL,\r\n  REORDER_DOT_LIST,\r\n  UPDATE_DOT_ART,\r\n  ADD_NEW_LAYER,\r\n  REMOVE_LAYER,\r\n  MERGE_LAYER,\r\n  MOVE_UP_LAYER,\r\n  MOVE_DOWN_LAYER,\r\n  SELECT_LAYER_IDX,\r\n  RENAME_LAYER,\r\n} from './dot';\r\nimport paintTool, {\r\n  DOT,\r\n  BUCKET,\r\n  PICKER,\r\n  ERASER,\r\n  CHANGE_PAINT_TOOL,\r\n  MOVE,\r\n  SAMECOLOR,\r\n} from './paintTool';\r\nimport loading from './loading';\r\nimport auth, { authSaga } from './auth';\r\nimport user, { userSaga } from './user';\r\nimport palettes from './palettes';\r\nimport dialog from './dialog';\r\nimport observer from './observer';\r\nimport keybind from './keybind';\r\nimport undoable, { includeAction } from 'redux-undo';\r\n\r\nconst DOT_ACTIONS = 'index/DOT_ACTIONS';\r\nconst CLEAR_FAKE_DOT_ART = 'index/CLEAR_FAKE_DOT_ART';\r\n\r\nexport const dotActions = createAction(\r\n  DOT_ACTIONS,\r\n  ({ rowIdx, columnIdx }) => ({\r\n    rowIdx,\r\n    columnIdx,\r\n  }),\r\n);\r\nexport const clearFakeDotArt = createAction(CLEAR_FAKE_DOT_ART);\r\n\r\n// undo redo 기능을 활용할 부분만 따로 combine\r\nconst combineDotArt = combineReducers({\r\n  dot,\r\n});\r\n\r\nconst combineReducer = combineReducers({\r\n  dotArt: undoable(combineDotArt, {\r\n    limit: 100,\r\n    // debug: true,\r\n    ignoreInitialState: true,\r\n    filter: includeAction([\r\n      CLEAR_DOT,\r\n      NEW_DOT_ART_PROJECT,\r\n      LOAD_DOT_ART,\r\n      INCREASE_COLUMN,\r\n      DECREASE_COLUMN,\r\n      INCREASE_ROW,\r\n      DECREASE_ROW,\r\n      CHANGE_DOT_AREA,\r\n      CHANGE_ACTIVE_IDX,\r\n      REMOVE_ACTIVE_DOT_ART,\r\n      COPY_ACTIVE_DOT_ART,\r\n      ADD_NEW_DOT_ART,\r\n      CHANGE_ANIMATION_INTERVAL,\r\n      REORDER_DOT_LIST,\r\n      UPDATE_DOT_ART,\r\n      ADD_NEW_LAYER,\r\n      REMOVE_LAYER,\r\n      MERGE_LAYER,\r\n      MOVE_UP_LAYER,\r\n      MOVE_DOWN_LAYER,\r\n      SELECT_LAYER_IDX,\r\n      RENAME_LAYER,\r\n    ]),\r\n    // filter: excludeAction(DOT_ACTIONS),\r\n  }),\r\n  palettes,\r\n  paintTool,\r\n  auth,\r\n  dialog,\r\n  user,\r\n  loading,\r\n  observer,\r\n  keybind,\r\n});\r\n\r\nconst floodFill = (dotArt, dotId, color, rowCount, columnCount) => {\r\n  const cellCollection = [];\r\n  let auxId;\r\n\r\n  // right\r\n  if ((dotId + 1) % columnCount !== 0) {\r\n    auxId = dotId + 1;\r\n    if (dotArt[auxId] === color) cellCollection.push(auxId);\r\n  }\r\n  // left\r\n  if (dotId % columnCount !== 0) {\r\n    auxId = dotId - 1;\r\n    if (dotArt[auxId] === color) cellCollection.push(auxId);\r\n  }\r\n  // top\r\n  if (dotId >= columnCount) {\r\n    auxId = dotId - columnCount;\r\n    if (dotArt[auxId] === color) cellCollection.push(auxId);\r\n  }\r\n  // bottom\r\n  if (dotId < columnCount * rowCount - columnCount) {\r\n    auxId = dotId + columnCount;\r\n    if (dotArt[auxId] === color) cellCollection.push(auxId);\r\n  }\r\n  return cellCollection;\r\n};\r\n\r\nconst bucketDotArt = (\r\n  dotArt,\r\n  dotIdx,\r\n  dotColor,\r\n  paletteColor,\r\n  rowCount,\r\n  columnCount,\r\n) => {\r\n  const queue = [dotIdx];\r\n  let newDotArt = dotArt.slice();\r\n  let currentId;\r\n  let adjacents;\r\n  let adjacentId;\r\n  let adjacentColor;\r\n\r\n  while (queue.length > 0) {\r\n    currentId = queue.pop();\r\n    newDotArt[currentId] = paletteColor;\r\n\r\n    adjacents = floodFill(\r\n      newDotArt,\r\n      currentId,\r\n      dotColor,\r\n      rowCount,\r\n      columnCount,\r\n    );\r\n\r\n    for (let i = 0; i < adjacents.length; i++) {\r\n      adjacentId = adjacents[i];\r\n      adjacentColor = dotArt[adjacentId];\r\n      if (queue.indexOf(adjacentId) === -1 && adjacentColor !== paletteColor) {\r\n        queue.push(adjacentId);\r\n      }\r\n    }\r\n  }\r\n\r\n  return newDotArt;\r\n};\r\n\r\nconst dotActionsHandler = (\r\n  state,\r\n  paintTool,\r\n  paintToolState,\r\n  direction,\r\n  rowIdx,\r\n  columnIdx,\r\n) => {\r\n  // selectedPaintTool -> PaintToolState -> rowIdx, columnIdx 체크 순\r\n  if (paintToolState === 'IDLE' || paintToolState !== 'DRAGGING')\r\n    return { ...state };\r\n  switch (paintTool) {\r\n    case DOT:\r\n      if (paintToolState === 'DRAGGING') {\r\n        const color =\r\n          direction === 'LEFT'\r\n            ? state.palettes.leftColor\r\n            : state.palettes.rightColor;\r\n\r\n        let fakeDotSet = state.dotArt.present.dot.fakeDotArt.map((arr) =>\r\n          arr.slice(),\r\n        );\r\n        fakeDotSet[rowIdx][columnIdx] = color;\r\n\r\n        return {\r\n          ...state,\r\n          dotArt: {\r\n            ...state.dotArt,\r\n            present: {\r\n              ...state.dotArt.present,\r\n              dot: {\r\n                ...state.dotArt.present.dot,\r\n                fakeDotArt: fakeDotSet,\r\n              },\r\n            },\r\n          },\r\n        };\r\n      } else return { ...state };\r\n    case BUCKET:\r\n      if (paintToolState === 'DRAGGING') {\r\n        const paletteColor =\r\n          direction === 'LEFT'\r\n            ? state.palettes.leftColor\r\n            : state.palettes.rightColor;\r\n\r\n        const dot = state.dotArt.present.dot;\r\n\r\n        const { rowCount, columnCount } = dot;\r\n        // 2차배열 1차배열로 풀어서 넣어줌\r\n        const dotArt = state.dotArt.present.dot.fakeDotArt.reduce((acc, cur) =>\r\n          acc.concat(cur),\r\n        );\r\n        const selectedDotId = rowIdx * columnCount + columnIdx;\r\n\r\n        const dotColor = dotArt[selectedDotId];\r\n        const newDotArt = bucketDotArt(\r\n          dotArt,\r\n          selectedDotId,\r\n          dotColor,\r\n          paletteColor,\r\n          rowCount,\r\n          columnCount,\r\n        );\r\n\r\n        let returnDotArt = [];\r\n        let idx = 0;\r\n        for (let i = 0; i < rowCount; i++) {\r\n          let row = [];\r\n          for (let j = 0; j < columnCount; j++) {\r\n            row.push(newDotArt[idx]);\r\n            idx++;\r\n          }\r\n          returnDotArt.push(row);\r\n          row = [];\r\n        }\r\n\r\n        return {\r\n          ...state,\r\n          dotArt: {\r\n            ...state.dotArt,\r\n            present: {\r\n              ...state.dotArt.present,\r\n              dot: {\r\n                ...state.dotArt.present.dot,\r\n                fakeDotArt: returnDotArt,\r\n              },\r\n            },\r\n          },\r\n        };\r\n      } else {\r\n        return { ...state };\r\n      }\r\n    case PICKER:\r\n      if (paintToolState === 'DRAGGING') {\r\n        const dotColor = state.dotArt.present.dot.fakeDotArt[rowIdx][columnIdx];\r\n\r\n        // 색이 없는 셀을 클릭했다면\r\n        if (!dotColor) return { ...state };\r\n\r\n        if (direction === 'LEFT') {\r\n          return {\r\n            ...state,\r\n            palettes: {\r\n              ...state.palettes,\r\n              leftColor: dotColor,\r\n            },\r\n          };\r\n        } else {\r\n          return {\r\n            ...state,\r\n            palettes: {\r\n              ...state.palettes,\r\n              rightColor: dotColor,\r\n            },\r\n          };\r\n        }\r\n      } else {\r\n        return { ...state };\r\n      }\r\n    case ERASER:\r\n      if (paintToolState === 'DRAGGING') {\r\n        let fakeDotSet = state.dotArt.present.dot.fakeDotArt.map((arr) =>\r\n          arr.slice(),\r\n        );\r\n        fakeDotSet[rowIdx][columnIdx] = '';\r\n\r\n        return {\r\n          ...state,\r\n          dotArt: {\r\n            ...state.dotArt,\r\n            present: {\r\n              ...state.dotArt.present,\r\n              dot: {\r\n                ...state.dotArt.present.dot,\r\n                fakeDotArt: fakeDotSet,\r\n              },\r\n            },\r\n          },\r\n        };\r\n      } else return { ...state };\r\n    case MOVE:\r\n      if (paintToolState === 'DRAGGING') {\r\n        const startX = state.observer.startPosition.x;\r\n        const startY = state.observer.startPosition.y;\r\n\r\n        const mouseX = state.observer.mousePosition.x;\r\n        const mouseY = state.observer.mousePosition.y;\r\n\r\n        const diffX = mouseX - startX;\r\n        const diffY = mouseY - startY;\r\n\r\n        const dot = state.dotArt.present.dot;\r\n        const { columnCount, layerSelectIdx } = dot;\r\n        const dotFrameIdx = dot.layerData[layerSelectIdx].dotFrameIdx;\r\n\r\n        let returnDotArt = dot.dotFrameList[dot.activeIdx].layerList[\r\n          dotFrameIdx\r\n        ].slice();\r\n        let removedDiffY;\r\n\r\n        // 그냥 이동\r\n        if (state.observer.altDown) {\r\n          if (diffY > 0) {\r\n            removedDiffY = returnDotArt.slice(returnDotArt.length - diffY);\r\n            returnDotArt = removedDiffY.concat(\r\n              returnDotArt.slice(0, returnDotArt.length - diffY),\r\n            );\r\n          } else if (diffY < 0) {\r\n            removedDiffY = returnDotArt.slice(0, -diffY);\r\n            returnDotArt = returnDotArt.slice(-diffY).concat(removedDiffY);\r\n          }\r\n\r\n          if (diffX > 0) {\r\n            returnDotArt = returnDotArt.map((row) =>\r\n              row.slice(-diffX).concat(row.slice(0, row.length - diffX)),\r\n            );\r\n          } else if (diffX < 0) {\r\n            returnDotArt = returnDotArt.map((row) =>\r\n              row.slice(-diffX).concat(row.slice(0, -diffX)),\r\n            );\r\n          }\r\n        } else {\r\n          // 테두리를 넘어간 부분을 반대편에서 나오게 해줌\r\n          // y축 범위를 먼저 좁혀주고 X축 계산 후 y축에 빈 배열을 추가해주는 방식\r\n          if (diffY > 0) {\r\n            returnDotArt = returnDotArt.slice(0, returnDotArt.length - diffY);\r\n          } else if (diffY < 0) {\r\n            returnDotArt = returnDotArt.slice(-diffY);\r\n          }\r\n\r\n          if (diffX > 0) {\r\n            returnDotArt = returnDotArt.map((row) =>\r\n              new Array(diffX)\r\n                .fill('')\r\n                .concat(row.slice(0, row.length - diffX)),\r\n            );\r\n          } else if (diffX < 0) {\r\n            returnDotArt = returnDotArt.map((row) =>\r\n              row.slice(-diffX).concat(new Array(-diffX).fill('')),\r\n            );\r\n          }\r\n\r\n          if (diffY > 0) {\r\n            returnDotArt = defaultDotMaker(diffY, columnCount).concat(\r\n              returnDotArt,\r\n            );\r\n          } else if (diffY < 0) {\r\n            returnDotArt = returnDotArt.concat(\r\n              defaultDotMaker(-diffY, columnCount),\r\n            );\r\n          }\r\n        }\r\n\r\n        return {\r\n          ...state,\r\n          dotArt: {\r\n            ...state.dotArt,\r\n            present: {\r\n              ...state.dotArt.present,\r\n              dot: {\r\n                ...state.dotArt.present.dot,\r\n                fakeDotArt: returnDotArt,\r\n              },\r\n            },\r\n          },\r\n        };\r\n      } else {\r\n        return { ...state };\r\n      }\r\n    case SAMECOLOR:\r\n      if (paintToolState === 'DRAGGING') {\r\n        const color =\r\n          direction === 'LEFT'\r\n            ? state.palettes.leftColor\r\n            : state.palettes.rightColor;\r\n\r\n        let fakeDotSet = state.dotArt.present.dot.fakeDotArt.map((arr) =>\r\n          arr.slice(),\r\n        );\r\n\r\n        const selectedDotColor = fakeDotSet[rowIdx][columnIdx];\r\n\r\n        fakeDotSet = fakeDotSet.map((dotLine) =>\r\n          dotLine.map((dot) => {\r\n            if (dot === selectedDotColor) {\r\n              return color;\r\n            }\r\n            return dot;\r\n          }),\r\n        );\r\n\r\n        return {\r\n          ...state,\r\n          dotArt: {\r\n            ...state.dotArt,\r\n            present: {\r\n              ...state.dotArt.present,\r\n              dot: {\r\n                ...state.dotArt.present.dot,\r\n                fakeDotArt: fakeDotSet,\r\n              },\r\n            },\r\n          },\r\n        };\r\n      } else return { ...state };\r\n    default:\r\n      return { ...state };\r\n  }\r\n};\r\n\r\nconst fakeDotArtSetHandle = (state) => {\r\n  switch (state.paintTool.selectedPaintTool) {\r\n    case DOT:\r\n      const defaultDot = defaultDotMaker(\r\n        state.dotArt.present.dot.rowCount,\r\n        state.dotArt.present.dot.columnCount,\r\n      );\r\n      return {\r\n        ...state,\r\n        dotArt: {\r\n          ...state.dotArt,\r\n          present: {\r\n            ...state.dotArt.present,\r\n            dot: {\r\n              ...state.dotArt.present.dot,\r\n              fakeDotArt: defaultDot,\r\n            },\r\n          },\r\n        },\r\n        observer: {\r\n          ...state.observer,\r\n          startPosition: { x: '', y: '' },\r\n        },\r\n      };\r\n    case BUCKET:\r\n    case ERASER:\r\n    case SAMECOLOR:\r\n    case PICKER:\r\n    case MOVE:\r\n      const { activeIdx, layerSelectIdx, layerData } = state.dotArt.present.dot;\r\n      const layerIdx = layerData[layerSelectIdx].dotFrameIdx;\r\n\r\n      return {\r\n        ...state,\r\n        dotArt: {\r\n          ...state.dotArt,\r\n          present: {\r\n            ...state.dotArt.present,\r\n            dot: {\r\n              ...state.dotArt.present.dot,\r\n              fakeDotArt:\r\n                state.dotArt.present.dot.dotFrameList[activeIdx].layerList[\r\n                  layerIdx\r\n                ],\r\n            },\r\n          },\r\n        },\r\n        observer: {\r\n          ...state.observer,\r\n          startPosition: { x: '', y: '' },\r\n        },\r\n      };\r\n    case PICKER:\r\n      return { ...state };\r\n    default:\r\n      return { ...state };\r\n  }\r\n};\r\n\r\nconst crossSilceReducer = handleActions(\r\n  {\r\n    // mousePosition startPosition 잡아주기\r\n    [DOT_ACTIONS]: (state, { payload: { rowIdx, columnIdx } }) => {\r\n      let newState = {\r\n        ...state,\r\n        observer: {\r\n          ...state.observer,\r\n          mousePosition: { x: columnIdx, y: rowIdx },\r\n          startPosition:\r\n            state.paintTool.paintState === 'DRAGGING' &&\r\n            state.observer.startPosition.x === '' &&\r\n            state.observer.startPosition.y === ''\r\n              ? { x: columnIdx, y: rowIdx }\r\n              : state.observer.startPosition,\r\n        },\r\n      };\r\n      return dotActionsHandler(\r\n        newState,\r\n        state.paintTool.selectedPaintTool,\r\n        state.paintTool.paintState,\r\n        state.paintTool.direction,\r\n        rowIdx,\r\n        columnIdx,\r\n      );\r\n    },\r\n    // dot의 특정 액션들 후에 fakeDotArt 재설정을 위해 필요함\r\n    [CLEAR_DOT]: (state) => {\r\n      return fakeDotArtSetHandle(state);\r\n    },\r\n    [LOAD_DOT_ART]: (state) => {\r\n      return fakeDotArtSetHandle(state);\r\n    },\r\n    [NEW_DOT_ART_PROJECT]: (state) => {\r\n      return fakeDotArtSetHandle(state);\r\n    },\r\n    [CHANGE_PAINT_TOOL]: (state) => {\r\n      return fakeDotArtSetHandle(state);\r\n    },\r\n    [CLEAR_FAKE_DOT_ART]: (state) => {\r\n      return fakeDotArtSetHandle(state);\r\n    },\r\n    [UPDATE_DOT_ART]: (state) => {\r\n      return fakeDotArtSetHandle(state);\r\n    },\r\n    [INCREASE_COLUMN]: (state) => {\r\n      return fakeDotArtSetHandle(state);\r\n    },\r\n    [DECREASE_COLUMN]: (state) => {\r\n      return fakeDotArtSetHandle(state);\r\n    },\r\n    [INCREASE_ROW]: (state) => {\r\n      return fakeDotArtSetHandle(state);\r\n    },\r\n    [DECREASE_ROW]: (state) => {\r\n      return fakeDotArtSetHandle(state);\r\n    },\r\n    [CHANGE_DOT_AREA]: (state) => {\r\n      return fakeDotArtSetHandle(state);\r\n    },\r\n    [CHANGE_ACTIVE_IDX]: (state) => {\r\n      return fakeDotArtSetHandle(state);\r\n    },\r\n    [ADD_NEW_DOT_ART]: (state) => {\r\n      return fakeDotArtSetHandle(state);\r\n    },\r\n    [REMOVE_LAYER]: (state) => {\r\n      return fakeDotArtSetHandle(state);\r\n    },\r\n    [MERGE_LAYER]: (state) => {\r\n      return fakeDotArtSetHandle(state);\r\n    },\r\n    [MOVE_UP_LAYER]: (state) => {\r\n      return fakeDotArtSetHandle(state);\r\n    },\r\n    [MOVE_DOWN_LAYER]: (state) => {\r\n      return fakeDotArtSetHandle(state);\r\n    },\r\n    [SELECT_LAYER_IDX]: (state) => {\r\n      return fakeDotArtSetHandle(state);\r\n    },\r\n    [RENAME_LAYER]: (state) => {\r\n      return fakeDotArtSetHandle(state);\r\n    },\r\n  },\r\n  {},\r\n);\r\n\r\nfunction rootReducer(state, action) {\r\n  const intermediateState = combineReducer(state, action);\r\n  const finalState = crossSilceReducer(intermediateState, action);\r\n  return finalState;\r\n}\r\n\r\nexport function* rootSaga() {\r\n  yield all([authSaga(), userSaga()]);\r\n}\r\n\r\nexport default rootReducer;\r\n","import React, { useCallback } from 'react';\r\nimport DotPaint from '../../components/dotPaint/DotPaint';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { changePaintState, setDirection } from '../../modules/paintTool';\r\nimport { increaseDotSize, decreaseDotSize } from '../../modules/observer';\r\nimport { mouseLeavesPaintArea } from '../../modules/observer';\r\nimport { dotActions } from '../../modules/index';\r\n\r\nconst DotpaintContainer = () => {\r\n  const dispatch = useDispatch();\r\n  const { rowCount, columnCount } = useSelector(({ dotArt }) => ({\r\n    rowCount: dotArt.present.dot.rowCount,\r\n    columnCount: dotArt.present.dot.columnCount,\r\n  }));\r\n  const { border, dotSize, backgroundImg } = useSelector(({ observer }) => ({\r\n    border: observer.dotBorder,\r\n    dotSize: observer.dotSize,\r\n    backgroundImg: observer.backgroundImg,\r\n  }));\r\n\r\n  const onWheelHandle = useCallback(\r\n    (e) => {\r\n      if (e.deltaY > 0) {\r\n        dispatch(decreaseDotSize());\r\n      } else {\r\n        dispatch(increaseDotSize());\r\n      }\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  const onChangePaintStateHandle = useCallback(\r\n    (paintState) => dispatch(changePaintState(paintState)),\r\n    [dispatch],\r\n  );\r\n\r\n  const onDotActionHandle = useCallback(\r\n    (rowIdx, columnIdx) => dispatch(dotActions({ rowIdx, columnIdx })),\r\n    [dispatch],\r\n  );\r\n\r\n  const onSetDirectionHandle = useCallback(\r\n    (direction) => dispatch(setDirection(direction)),\r\n    [dispatch],\r\n  );\r\n\r\n  const onLeavesPaintAreaHandle = useCallback(\r\n    () => dispatch(mouseLeavesPaintArea()),\r\n    [dispatch],\r\n  );\r\n\r\n  return (\r\n    <DotPaint\r\n      border={border}\r\n      dotSize={dotSize}\r\n      rowCount={rowCount}\r\n      columnCount={columnCount}\r\n      backgroundImg={backgroundImg}\r\n      onWheelHandle={onWheelHandle}\r\n      onChangePaintStateHandle={onChangePaintStateHandle}\r\n      onDotActionHandle={onDotActionHandle}\r\n      onSetDirectionHandle={onSetDirectionHandle}\r\n      onLeavesPaintAreaHandle={onLeavesPaintAreaHandle}\r\n    />\r\n  );\r\n};\r\n\r\nexport default DotpaintContainer;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport {\r\n  DOT,\r\n  BUCKET,\r\n  PICKER,\r\n  ERASER,\r\n  MOVE,\r\n  SAMECOLOR,\r\n} from '../../modules/paintTool';\r\nimport CustomButton from '../common/CustomButton';\r\nimport { TiPencil, TiPipette } from 'react-icons/ti';\r\nimport { BsFillBucketFill } from 'react-icons/bs';\r\nimport { FaEraser, FaHandPaper, FaBorderAll } from 'react-icons/fa';\r\nimport ToolTip from '../common/ToolTip';\r\n\r\nconst PaintToolBlock = styled.div`\r\n  /* display: flex; */\r\n  /* height: 64px; */\r\n`;\r\n\r\nconst PaintButtonBlock = styled.div`\r\n  display: flex;\r\n  height: 32px;\r\n`;\r\n\r\nconst PaintTool = ({\r\n  paintToolsShortcuts,\r\n  onChangePaintTool,\r\n  selectedPaintTool,\r\n}) => {\r\n  return (\r\n    <PaintToolBlock>\r\n      <PaintButtonBlock>\r\n        <ToolTip\r\n          placement=\"top\"\r\n          tooltip={\r\n            <div>\r\n              Pan Tool\r\n              <span className=\"tooltip-shortcut\">{`(${paintToolsShortcuts[DOT].key})`}</span>\r\n            </div>\r\n          }\r\n        >\r\n          <CustomButton\r\n            selected={selectedPaintTool === DOT}\r\n            onClick={() => onChangePaintTool(DOT)}\r\n          >\r\n            <TiPencil />\r\n          </CustomButton>\r\n        </ToolTip>\r\n\r\n        <ToolTip\r\n          placement=\"top\"\r\n          tooltip={\r\n            <div>\r\n              Bucket Tool\r\n              <span className=\"tooltip-shortcut\">{`(${paintToolsShortcuts[BUCKET].key})`}</span>\r\n            </div>\r\n          }\r\n        >\r\n          <CustomButton\r\n            selected={selectedPaintTool === BUCKET}\r\n            onClick={() => onChangePaintTool(BUCKET)}\r\n          >\r\n            <BsFillBucketFill />\r\n          </CustomButton>\r\n        </ToolTip>\r\n        <ToolTip\r\n          placement=\"top\"\r\n          tooltip={\r\n            <div>\r\n              Colorpicker Tool\r\n              <span className=\"tooltip-shortcut\">{`(${paintToolsShortcuts[PICKER].key})`}</span>\r\n            </div>\r\n          }\r\n        >\r\n          <CustomButton\r\n            selected={selectedPaintTool === PICKER}\r\n            onClick={() => onChangePaintTool(PICKER)}\r\n          >\r\n            <TiPipette />\r\n          </CustomButton>\r\n        </ToolTip>\r\n      </PaintButtonBlock>\r\n      <PaintButtonBlock>\r\n        <ToolTip\r\n          placement=\"top\"\r\n          tooltip={\r\n            <div>\r\n              Eraser Tool\r\n              <span className=\"tooltip-shortcut\">{`(${paintToolsShortcuts[ERASER].key})`}</span>\r\n            </div>\r\n          }\r\n        >\r\n          <CustomButton\r\n            selected={selectedPaintTool === ERASER}\r\n            onClick={() => onChangePaintTool(ERASER)}\r\n          >\r\n            <FaEraser />\r\n          </CustomButton>\r\n        </ToolTip>\r\n        <ToolTip\r\n          placement=\"top\"\r\n          tooltip={\r\n            <div>\r\n              Move Tool\r\n              <span className=\"tooltip-shortcut\">{`(${paintToolsShortcuts[MOVE].key})`}</span>\r\n              <div className=\"tooltip-name\">\r\n                <span className=\"tooltip-key\">ALT</span>Wrap mod\r\n              </div>\r\n            </div>\r\n          }\r\n        >\r\n          <CustomButton\r\n            selected={selectedPaintTool === MOVE}\r\n            onClick={() => onChangePaintTool(MOVE)}\r\n          >\r\n            <FaHandPaper />\r\n          </CustomButton>\r\n        </ToolTip>\r\n        <ToolTip\r\n          placement=\"top\"\r\n          tooltip={\r\n            <div>\r\n              Bucket all same color pixel\r\n              <span className=\"tooltip-shortcut\">{`(${paintToolsShortcuts[SAMECOLOR].key})`}</span>\r\n            </div>\r\n          }\r\n        >\r\n          <CustomButton\r\n            selected={selectedPaintTool === SAMECOLOR}\r\n            onClick={() => onChangePaintTool(SAMECOLOR)}\r\n          >\r\n            <FaBorderAll />\r\n          </CustomButton>\r\n        </ToolTip>\r\n      </PaintButtonBlock>\r\n    </PaintToolBlock>\r\n  );\r\n};\r\n\r\nexport default React.memo(PaintTool);\r\n","import React, { useCallback } from 'react';\r\nimport { changePaintTool } from '../../modules/paintTool';\r\nimport PaintTool from '../../components/dotArtTools/PaintTool';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nconst PaintToolContainer = () => {\r\n  const dispatch = useDispatch();\r\n  const { selectedPaintTool } = useSelector(({ paintTool }) => ({\r\n    selectedPaintTool: paintTool.selectedPaintTool,\r\n  }));\r\n  const { paintToolsShortcuts } = useSelector(({ keybind }) => ({\r\n    paintToolsShortcuts: keybind.paintTools,\r\n  }));\r\n  const onChangePaintTool = useCallback(\r\n    (paintTool) => dispatch(changePaintTool(paintTool)),\r\n    [dispatch],\r\n  );\r\n  return (\r\n    <PaintTool\r\n      paintToolsShortcuts={paintToolsShortcuts}\r\n      onChangePaintTool={onChangePaintTool}\r\n      selectedPaintTool={selectedPaintTool}\r\n    />\r\n  );\r\n};\r\n\r\nexport default PaintToolContainer;\r\n","import React, { useCallback } from 'react';\r\nimport styled from 'styled-components';\r\nimport GetAppIcon from '@material-ui/icons/GetApp';\r\nimport PublishIcon from '@material-ui/icons/Publish';\r\nimport CustomButton from '../common/CustomButton';\r\nimport FiberNewIcon from '@material-ui/icons/FiberNew';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport ToolTip from '../common/ToolTip';\r\nimport { DiCss3 } from 'react-icons/di';\r\n\r\nconst ButtonBlock = styled.div`\r\n  display: flex;\r\n  height: 40px;\r\n`;\r\n\r\nconst SaveLoad = ({\r\n  storageShortcuts,\r\n  newProjectHandle,\r\n  dotClearHandle,\r\n  saveHandle,\r\n  dialogOpenHandle,\r\n}) => {\r\n  const onClickNewProject = useCallback(() => {\r\n    newProjectHandle();\r\n  }, [newProjectHandle]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ButtonBlock>\r\n        <ToolTip placement=\"top\" tooltip={<>Open new project</>}>\r\n          <CustomButton onClick={onClickNewProject}>\r\n            <FiberNewIcon />\r\n          </CustomButton>\r\n        </ToolTip>\r\n        <ToolTip placement=\"top\" tooltip={<>Clear selected frame</>}>\r\n          <CustomButton onClick={dotClearHandle}>Clear</CustomButton>\r\n        </ToolTip>\r\n      </ButtonBlock>\r\n      <ButtonBlock>\r\n        <ToolTip\r\n          placement=\"top\"\r\n          tooltip={\r\n            <div>\r\n              Save to localStorage\r\n              <span className=\"tooltip-shortcut\">{`(${storageShortcuts['SAVE_DOTART'].key})`}</span>\r\n            </div>\r\n          }\r\n        >\r\n          <CustomButton onClick={saveHandle}>\r\n            <PublishIcon />\r\n          </CustomButton>\r\n        </ToolTip>\r\n        <ToolTip\r\n          placement=\"top\"\r\n          tooltip={\r\n            <div>\r\n              Load from localStorage\r\n              <span className=\"tooltip-shortcut\">{`(${storageShortcuts['LOAD_DOTART'].key})`}</span>\r\n            </div>\r\n          }\r\n        >\r\n          <CustomButton onClick={() => dialogOpenHandle('Load')}>\r\n            <GetAppIcon />\r\n          </CustomButton>\r\n        </ToolTip>\r\n      </ButtonBlock>\r\n      <ButtonBlock>\r\n        <ToolTip\r\n          placement=\"top\"\r\n          tooltip={\r\n            <>\r\n              Open Download dialog\r\n              <span className=\"tooltip-name\">\r\n                download dotArt in diffrent formats\r\n              </span>\r\n            </>\r\n          }\r\n        >\r\n          <CustomButton onClick={() => dialogOpenHandle('DownLoad')}>\r\n            <SaveIcon />\r\n          </CustomButton>\r\n        </ToolTip>\r\n        <ToolTip\r\n          placement=\"top\"\r\n          tooltip={\r\n            <>\r\n              Open CSS dialog\r\n              <span className=\"tooltip-name\">show your CSS code</span>\r\n            </>\r\n          }\r\n        >\r\n          <CustomButton onClick={() => dialogOpenHandle('Css')}>\r\n            <DiCss3 />\r\n          </CustomButton>\r\n        </ToolTip>\r\n      </ButtonBlock>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default React.memo(SaveLoad);\r\n","import React, { useCallback, useEffect, useState } from 'react';\r\nimport SaveLoad from '../../components/dotArtTools/SaveLoad';\r\nimport {\r\n  saveDotArtToStorage,\r\n  savePrivateSettingToStorage,\r\n  getPrivateSettingFromStorage,\r\n} from '../../util/localStorage';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { changeTypeAndOpen } from '../../modules/dialog';\r\nimport {\r\n  getDotArtDataFromStorage,\r\n  initialStorage,\r\n} from '../../util/localStorage';\r\nimport { newDotArtProject, loadDotArt, clearDot } from '../../modules/dot';\r\nimport { loadData, saveStart } from '../../modules/observer';\r\nimport shortid from 'shortid';\r\nimport { useSnackbar } from 'notistack';\r\n\r\nconst SaveLoadContainer = () => {\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const dispatch = useDispatch();\r\n  const {\r\n    dotFrameList,\r\n    columnCount,\r\n    rowCount,\r\n    animationDuration,\r\n    layerData,\r\n  } = useSelector(({ dotArt: { present: { dot } } }) => ({\r\n    dotFrameList: dot.dotFrameList,\r\n    columnCount: dot.columnCount,\r\n    rowCount: dot.rowCount,\r\n    animationDuration: dot.animationDuration,\r\n    layerData: dot.layerData,\r\n  }));\r\n  const { dotBorder, backgroundImg, saveState } = useSelector(\r\n    ({ observer }) => ({\r\n      dotBorder: observer.dotBorder,\r\n      backgroundImg: observer.backgroundImg,\r\n      saveState: observer.saveState,\r\n    }),\r\n  );\r\n  const { storageShortcuts } = useSelector(({ keybind }) => ({\r\n    storageShortcuts: keybind.storage,\r\n  }));\r\n\r\n  // first load\r\n  useEffect(() => {\r\n    let loadedData = getDotArtDataFromStorage(localStorage);\r\n    let loadedPrivateData = getPrivateSettingFromStorage(localStorage);\r\n    if (loadedData) {\r\n      dispatch(loadDotArt(loadedData.dotArt[loadedData.current].dot));\r\n    } else {\r\n      initialStorage(localStorage);\r\n      loadedData = getDotArtDataFromStorage(localStorage);\r\n      dispatch(loadDotArt(loadedData.dotArt[loadedData.current].dot));\r\n    }\r\n    // observer는 상관없음\r\n    dispatch(loadData(loadedPrivateData));\r\n  }, []);\r\n\r\n  const newProjectHandle = useCallback(() => {\r\n    dispatch(newDotArtProject());\r\n  }, [dispatch]);\r\n\r\n  const dotClearHandle = useCallback(() => {\r\n    dispatch(clearDot());\r\n  }, [dispatch]);\r\n\r\n  const dialogOpenHandle = useCallback(\r\n    (type) => {\r\n      dispatch(changeTypeAndOpen(type));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (saveState) {\r\n      const saveDotArtData = {\r\n        dot: {\r\n          id: shortid.generate(),\r\n          dotFrameList: dotFrameList,\r\n          columnCount: columnCount,\r\n          rowCount: rowCount,\r\n          animationDuration: animationDuration,\r\n          layerData: layerData,\r\n        },\r\n      };\r\n\r\n      const result = saveDotArtToStorage(localStorage, saveDotArtData);\r\n      if (result) {\r\n        enqueueSnackbar('Save DotArt To LocalStorage', { variant: 'success' });\r\n      } else {\r\n        enqueueSnackbar('Save Fail!', { variant: 'error' });\r\n      }\r\n      dispatch(saveStart(false));\r\n    }\r\n  }, [saveState, dispatch]);\r\n\r\n  // border나 background 관련 정보 수정 시 자동저장\r\n  useEffect(() => {\r\n    const savePrivateData = {\r\n      dotBorder: dotBorder,\r\n      backgroundImg: backgroundImg,\r\n    };\r\n\r\n    const autoSave = () => {\r\n      savePrivateSettingToStorage(localStorage, savePrivateData);\r\n    };\r\n\r\n    window.addEventListener('beforeunload', autoSave, false);\r\n\r\n    return () => {\r\n      window.removeEventListener('beforeunload', autoSave, false);\r\n    };\r\n  }, [dotBorder, backgroundImg]);\r\n\r\n  const saveHandle = useCallback(() => {\r\n    dispatch(saveStart(true));\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <SaveLoad\r\n      storageShortcuts={storageShortcuts}\r\n      newProjectHandle={newProjectHandle}\r\n      dotClearHandle={dotClearHandle}\r\n      saveHandle={saveHandle}\r\n      dialogOpenHandle={dialogOpenHandle}\r\n    />\r\n  );\r\n};\r\n\r\nexport default SaveLoadContainer;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst selectBorder = '#000000';\r\nconst defaultBorder = '#ffffff';\r\n\r\nconst Cell = styled.div`\r\n  cursor: pointer;\r\n  box-sizing: border-box;\r\n  position: relative;\r\n  width: 30px;\r\n  height: 17.32px;\r\n  margin-left: 0px;\r\n  background-color: ${(props) => props.color || ''};\r\n  border-left: solid 3px\r\n    ${(props) => (props.selected ? selectBorder : defaultBorder)};\r\n  border-right: solid 3px\r\n    ${(props) => (props.selected ? selectBorder : defaultBorder)};\r\n  outline: none;\r\n\r\n  :before,\r\n  :after {\r\n    content: '';\r\n    box-sizing: border-box;\r\n    position: absolute;\r\n    z-index: 1;\r\n    width: 21.21px;\r\n    height: 21.21px;\r\n    -webkit-transform: scaleY(0.5774) rotate(-45deg);\r\n    -ms-transform: scaleY(0.5774) rotate(-45deg);\r\n    transform: scaleY(0.5774) rotate(-45deg);\r\n    background-color: ${(props) => props.color || ''};\r\n    left: 1.3934px;\r\n  }\r\n\r\n  :before {\r\n    top: -10.6066px;\r\n    border-top: solid 4.2426px\r\n      ${(props) => (props.selected ? selectBorder : defaultBorder)};\r\n    border-right: solid 4.2426px\r\n      ${(props) => (props.selected ? selectBorder : defaultBorder)};\r\n  }\r\n\r\n  :after {\r\n    bottom: -10.6066px;\r\n    border-bottom: solid 4.2426px\r\n      ${(props) => (props.selected ? selectBorder : defaultBorder)};\r\n    border-left: solid 4.2426px\r\n      ${(props) => (props.selected ? selectBorder : defaultBorder)};\r\n  }\r\n\r\n  &:hover {\r\n    color: white;\r\n  }\r\n`;\r\n\r\nconst ColorCell = ({ children, innerRef, ...rest }) => {\r\n  return (\r\n    <Cell ref={innerRef} {...rest}>\r\n      {children}\r\n    </Cell>\r\n  );\r\n};\r\n\r\nexport default ColorCell;\r\n","import React from 'react';\r\nimport { Draggable } from 'react-beautiful-dnd';\r\nimport ColorCell from '../common/ColorCell';\r\n\r\nconst PaletteCell = ({\r\n  color,\r\n  paletteId,\r\n  cellIdx,\r\n  selected,\r\n  handleSelectColorCell,\r\n  handleSelectLeftColor,\r\n  handleSelectRightColor,\r\n}) => {\r\n  return (\r\n    <Draggable\r\n      key={cellIdx}\r\n      draggableId={`cell-${paletteId}-${cellIdx}`}\r\n      index={cellIdx}\r\n    >\r\n      {(provided) => (\r\n        <ColorCell\r\n          color={color}\r\n          selected={selected}\r\n          innerRef={provided.innerRef}\r\n          {...provided.draggableProps}\r\n          {...provided.dragHandleProps}\r\n          // onClick={() => handleSelectColorCell(paletteId, cellIdx)}\r\n          onClick={() => handleSelectLeftColor(paletteId, cellIdx, color)}\r\n          onContextMenu={(e) => handleSelectRightColor(e, color)}\r\n        />\r\n      )}\r\n    </Draggable>\r\n  );\r\n};\r\n\r\nexport default PaletteCell;\r\n","import React from 'react';\r\nimport { Droppable, Draggable } from 'react-beautiful-dnd';\r\nimport PaletteCell from './PaletteCell';\r\nimport styled from 'styled-components';\r\nimport { GrDrag } from 'react-icons/gr';\r\n\r\nconst PaletteBlock = styled.div`\r\n  display: flex;\r\n  margin-top: 8px;\r\n  &:nth-child(odd) {\r\n    margin-left: 16px;\r\n  }\r\n`;\r\n\r\nconst PaletteDragHandle = styled.div`\r\n  width: 16px;\r\n  height: 16px;\r\n`;\r\n\r\nconst DraggBlock = styled.div`\r\n  display: flex;\r\n  /* width: 300px; */\r\n`;\r\n\r\nfunction customStyle(style, snapshot, odd, smallThenDragIdx) {\r\n  if (snapshot.isDragging) {\r\n    return style;\r\n  }\r\n\r\n  const { transform } = style;\r\n  if (transform === null) {\r\n    return { ...style };\r\n  }\r\n\r\n  return {\r\n    ...style,\r\n    marginLeft: `0px`,\r\n    transform: `${style.transform.slice(0, 9)}(${\r\n      smallThenDragIdx ? (odd ? 16 : 0) : odd ? 0 : 16\r\n    }${style.transform.slice(11)}`,\r\n  };\r\n}\r\n\r\nconst blockCustomStyle = (isDraggingOver) => ({\r\n  background: isDraggingOver ? `gray` : ``,\r\n});\r\n\r\nconst Palette = ({\r\n  palette,\r\n  idx,\r\n  dragIdx,\r\n  selectColorId,\r\n  handleSelectColorCell,\r\n  handleSelectLeftColor,\r\n  handleSelectRightColor,\r\n}) => {\r\n  return (\r\n    <Draggable key={palette.id} draggableId={`pale-${palette.id}`} index={idx}>\r\n      {(provided, snapshot) => (\r\n        <PaletteBlock\r\n          {...provided.draggableProps}\r\n          ref={provided.innerRef}\r\n          style={customStyle(\r\n            provided.draggableProps.style,\r\n            snapshot,\r\n            idx % 2 !== 0,\r\n            dragIdx > idx,\r\n          )}\r\n        >\r\n          <PaletteDragHandle {...provided.dragHandleProps}>\r\n            <GrDrag />\r\n          </PaletteDragHandle>\r\n          <Droppable\r\n            droppableId={`${palette.id}`}\r\n            type=\"cell\"\r\n            direction=\"horizontal\"\r\n            isDropDisabled={!(palette.colors.length < 7)}\r\n          >\r\n            {(provided, snapshot) => (\r\n              <DraggBlock\r\n                ref={provided.innerRef}\r\n                {...provided.droppableProps}\r\n                style={blockCustomStyle(snapshot.isDraggingOver)}\r\n              >\r\n                {palette.colors.map((color, cellIdx) => (\r\n                  <PaletteCell\r\n                    color={color}\r\n                    paletteId={palette.id}\r\n                    cellIdx={cellIdx}\r\n                    key={`${palette.id}${cellIdx}`}\r\n                    selected={\r\n                      selectColorId.paletteId === palette.id &&\r\n                      selectColorId.colorId === cellIdx\r\n                    }\r\n                    handleSelectColorCell={handleSelectColorCell}\r\n                    handleSelectLeftColor={handleSelectLeftColor}\r\n                    handleSelectRightColor={handleSelectRightColor}\r\n                  />\r\n                ))}\r\n                {provided.placeholder}\r\n              </DraggBlock>\r\n            )}\r\n          </Droppable>\r\n        </PaletteBlock>\r\n      )}\r\n    </Draggable>\r\n  );\r\n};\r\n\r\nexport default Palette;\r\n","import React from 'react';\r\nimport { Droppable } from 'react-beautiful-dnd';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport styled from 'styled-components';\r\n\r\nconst TrashCanWrapper = styled.div`\r\n  ${(props) => (props.displayBool ? `` : `display: none`)}\r\n`;\r\n\r\nconst TrashCanBlock = styled.div`\r\n  width: 35px;\r\n  height: 35px;\r\n  background: skyblue;\r\n`;\r\n\r\nconst TrashCan = ({ dragType }) => {\r\n  return (\r\n    <React.Fragment>\r\n      <TrashCanWrapper displayBool={dragType === 'pale'}>\r\n        <Droppable type=\"palettes\" droppableId=\"PaletteTrashCan\">\r\n          {(provided) => (\r\n            <TrashCanBlock ref={provided.innerRef} {...provided.droppableProps}>\r\n              <DeleteIcon fontSize=\"large\" />\r\n              {provided.placeholder}\r\n            </TrashCanBlock>\r\n          )}\r\n        </Droppable>\r\n      </TrashCanWrapper>\r\n      <TrashCanWrapper displayBool={dragType === 'cell'}>\r\n        <Droppable type=\"cell\" droppableId=\"CellTrashCan\">\r\n          {(provided) => (\r\n            <TrashCanBlock ref={provided.innerRef} {...provided.droppableProps}>\r\n              <DeleteIcon fontSize=\"large\" />\r\n              {provided.placeholder}\r\n            </TrashCanBlock>\r\n          )}\r\n        </Droppable>\r\n      </TrashCanWrapper>\r\n      <TrashCanWrapper displayBool={dragType === 'temp'}>\r\n        <TrashCanBlock>\r\n          <DeleteIcon fontSize=\"large\" />\r\n        </TrashCanBlock>\r\n      </TrashCanWrapper>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default TrashCan;\r\n","import React from 'react';\r\nimport { Draggable } from 'react-beautiful-dnd';\r\nimport ColorCell from '../common/ColorCell';\r\n\r\nconst TempBlockCell = ({ color, cellIdx }) => {\r\n  return (\r\n    <Draggable key={cellIdx} draggableId={`temp-${cellIdx}`} index={cellIdx}>\r\n      {(provided) => (\r\n        <ColorCell\r\n          color={color}\r\n          innerRef={provided.innerRef}\r\n          {...provided.draggableProps}\r\n          {...provided.dragHandleProps}\r\n        />\r\n      )}\r\n    </Draggable>\r\n  );\r\n};\r\n\r\nexport default TempBlockCell;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Droppable } from 'react-beautiful-dnd';\r\nimport TempBlockCell from './TempBlockCell';\r\n\r\nconst TempBlockDiv = styled.div`\r\n  background: rgba(0, 0, 0, 0.3);\r\n  /* width: calc(100% - 40px); */\r\n  width: 100%;\r\n  padding: 8px;\r\n  display: flex;\r\n  flex-wrap: nowrap;\r\n  overflow-x: auto;\r\n  overflow-y: hidden;\r\n  & > * {\r\n    min-width: 30px;\r\n    /* margin-top: 8px; */\r\n  }\r\n`;\r\nconst TempBlock = ({ trashCan }) => {\r\n  return (\r\n    <Droppable\r\n      droppableId=\"temp\"\r\n      type=\"cell\"\r\n      direction=\"horizontal\"\r\n      isDropDisabled={true}\r\n    >\r\n      {(provided) => (\r\n        <TempBlockDiv ref={provided.innerRef} {...provided.droppableProps}>\r\n          {trashCan.map((color, cellIdx) => (\r\n            <TempBlockCell\r\n              color={color}\r\n              cellIdx={cellIdx}\r\n              key={`temp-${cellIdx}`}\r\n            />\r\n          ))}\r\n          {provided.placeholder}\r\n        </TempBlockDiv>\r\n      )}\r\n    </Droppable>\r\n  );\r\n};\r\n\r\nexport default TempBlock;\r\n","import React, { useState } from 'react';\r\nimport { Droppable, DragDropContext } from 'react-beautiful-dnd';\r\nimport Palette from './Palette';\r\nimport TrashCan from './TrashCan';\r\nimport TempBlock from './TempBlock';\r\nimport styled from 'styled-components';\r\nimport ColorCell from '../common/ColorCell';\r\n\r\nconst PalettesWrapper = styled.div`\r\n  border: 2px solid #9e9e9e;\r\n`;\r\n\r\nconst DraggablePaletteBlock = styled.div`\r\n  padding: 8px 0px;\r\n  background: gray;\r\n`;\r\n\r\nconst CloneBlock = styled.div`\r\n  display: flex;\r\n  margin-left: 32px;\r\n`;\r\n\r\nconst TrashBlock = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst getListStyle = (isDraggingOver) => ({\r\n  background: isDraggingOver ? 'lightblue' : 'lightgrey',\r\n});\r\n\r\nconst Palettes = ({\r\n  palettes,\r\n  trashCan,\r\n  selectColorId,\r\n  handleSelectLeftColor,\r\n  handleSelectRightColor,\r\n  handleReorderPalettes,\r\n  handleReorderCell,\r\n  handleMovePaletteToTrashCan,\r\n  handleMoveCellToTrashCan,\r\n  handleMoveCellFromTrashCan,\r\n  handleSelectColorCell,\r\n  handleSavePalettes,\r\n}) => {\r\n  const [dragIdx, setDragIdx] = useState(0);\r\n  const [dragType, setDragType] = useState('pale');\r\n  const onDragEnd = (result) => {\r\n    if (!result.destination) {\r\n      return;\r\n    }\r\n\r\n    if (result.type === 'palettes') {\r\n      if (result.destination.droppableId === 'PaletteTrashCan') {\r\n        handleMovePaletteToTrashCan(result.source.index);\r\n      } else {\r\n        handleReorderPalettes(result.source.index, result.destination.index);\r\n      }\r\n    } else if (result.type === 'cell') {\r\n      if (result.destination.droppableId === 'CellTrashCan') {\r\n        handleMoveCellToTrashCan(\r\n          result.source.droppableId,\r\n          result.source.index,\r\n        );\r\n      } else if (result.source.droppableId === 'temp') {\r\n        handleMoveCellFromTrashCan(\r\n          result.destination.droppableId,\r\n          result.source.index,\r\n          result.destination.index,\r\n        );\r\n      } else {\r\n        handleReorderCell(\r\n          result.source.droppableId,\r\n          result.destination.droppableId,\r\n          result.source.index,\r\n          result.destination.index,\r\n        );\r\n      }\r\n    } else {\r\n      console.log(result);\r\n    }\r\n  };\r\n\r\n  const onBeforeDragStart = (result) => {\r\n    setDragIdx(result.source.index);\r\n  };\r\n\r\n  const onBeforeCapture = (result) => {\r\n    setDragType(result.draggableId.substring(0, 4));\r\n  };\r\n\r\n  return (\r\n    <PalettesWrapper>\r\n      <DragDropContext\r\n        onDragEnd={onDragEnd}\r\n        onBeforeDragStart={onBeforeDragStart}\r\n        onBeforeCapture={onBeforeCapture}\r\n      >\r\n        <TrashBlock>\r\n          <TrashCan dragType={dragType} />\r\n          <TempBlock trashCan={trashCan} />\r\n        </TrashBlock>\r\n        <Droppable\r\n          droppableId=\"palettes\"\r\n          type=\"palettes\"\r\n          renderClone={(provided) => (\r\n            <CloneBlock\r\n              {...provided.draggableProps}\r\n              {...provided.dragHandleProps}\r\n              ref={provided.innerRef}\r\n            >\r\n              <ColorCell />\r\n              <ColorCell />\r\n              <ColorCell />\r\n              <ColorCell />\r\n              <ColorCell />\r\n            </CloneBlock>\r\n          )}\r\n        >\r\n          {(provided, snapshot) => (\r\n            <DraggablePaletteBlock\r\n              ref={provided.innerRef}\r\n              {...provided.droppableProps}\r\n              style={getListStyle(snapshot.isDraggingOver)}\r\n            >\r\n              {palettes.map((palette, idx) => (\r\n                <Palette\r\n                  palette={palette}\r\n                  key={palette.id}\r\n                  idx={idx}\r\n                  dragIdx={dragIdx}\r\n                  selectColorId={selectColorId}\r\n                  handleSelectColorCell={handleSelectColorCell}\r\n                  handleSelectLeftColor={handleSelectLeftColor}\r\n                  handleSelectRightColor={handleSelectRightColor}\r\n                />\r\n              ))}\r\n              {provided.placeholder}\r\n            </DraggablePaletteBlock>\r\n          )}\r\n        </Droppable>\r\n        <button onClick={() => handleSavePalettes('test')}>save</button>\r\n      </DragDropContext>\r\n    </PalettesWrapper>\r\n  );\r\n};\r\n\r\nexport default React.memo(Palettes);\r\n","import React, { useCallback } from 'react';\r\nimport Palettes from '../../components/dotArtTools/Palettes';\r\nimport {\r\n  selectLeftColor,\r\n  selectRightColor,\r\n  reorderPalettes,\r\n  reorderPaletteCell,\r\n  movePaletteToTrashCan,\r\n  moveCellToTrashCan,\r\n  moveCellFromTrashCan,\r\n  selectColorCell,\r\n} from '../../modules/palettes';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { savePalettesToStorage } from '../../util/localStorage';\r\n\r\nconst PalettesConatiner = () => {\r\n  const dispatch = useDispatch();\r\n  const { palettes, trashCan, selectColorId } = useSelector(({ palettes }) => ({\r\n    palettes: palettes.palettes,\r\n    trashCan: palettes.trashCan,\r\n    selectColorId: palettes.selectColorId,\r\n  }));\r\n\r\n  const handleReorderPalettes = useCallback(\r\n    (startIdx, endIdx) => {\r\n      dispatch(reorderPalettes({ startIdx, endIdx }));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  const handleReorderCell = useCallback(\r\n    (startPaletteId, endPaletteId, startIdx, endIdx) => {\r\n      dispatch(\r\n        reorderPaletteCell({ startPaletteId, endPaletteId, startIdx, endIdx }),\r\n      );\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  const handleMovePaletteToTrashCan = useCallback(\r\n    (dragIdx) => {\r\n      dispatch(movePaletteToTrashCan({ dragIdx }));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  const handleMoveCellToTrashCan = useCallback(\r\n    (paletteId, dragIdx) => {\r\n      dispatch(moveCellToTrashCan({ paletteId, dragIdx }));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  const handleMoveCellFromTrashCan = useCallback(\r\n    (endPaletteId, startIdx, endIdx) => {\r\n      dispatch(moveCellFromTrashCan({ endPaletteId, startIdx, endIdx }));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  const handleSelectColorCell = useCallback(\r\n    (paletteId, selectIdx) =>\r\n      dispatch(selectColorCell({ paletteId, selectIdx })),\r\n    [dispatch],\r\n  );\r\n\r\n  const handleSelectLeftColor = useCallback(\r\n    (paletteId, selectIdx, color) =>\r\n      dispatch(selectLeftColor({ paletteId, selectIdx, color })),\r\n    [dispatch],\r\n  );\r\n\r\n  const handleSelectRightColor = useCallback(\r\n    (event, color) => {\r\n      event.preventDefault();\r\n      dispatch(selectRightColor({ color }));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  const handleSavePalettes = useCallback(\r\n    (palettesName) => {\r\n      const palettesData = {\r\n        palettesName: palettesName,\r\n        palettes: [...palettes],\r\n      };\r\n      savePalettesToStorage(localStorage, palettesData);\r\n    },\r\n    [palettes],\r\n  );\r\n\r\n  return (\r\n    <Palettes\r\n      palettes={palettes}\r\n      trashCan={trashCan}\r\n      selectColorId={selectColorId}\r\n      handleSelectLeftColor={handleSelectLeftColor}\r\n      handleSelectRightColor={handleSelectRightColor}\r\n      handleReorderPalettes={handleReorderPalettes}\r\n      handleReorderCell={handleReorderCell}\r\n      handleMovePaletteToTrashCan={handleMovePaletteToTrashCan}\r\n      handleMoveCellToTrashCan={handleMoveCellToTrashCan}\r\n      handleMoveCellFromTrashCan={handleMoveCellFromTrashCan}\r\n      handleSelectColorCell={handleSelectColorCell}\r\n      handleSavePalettes={handleSavePalettes}\r\n    />\r\n  );\r\n};\r\n\r\nexport default React.memo(PalettesConatiner);\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport White from '../../img/white.png';\r\nimport Black from '../../img/black.png';\r\nimport ToolTip from '../common/ToolTip';\r\nimport { GithubPicker } from 'react-color';\r\n\r\nconst BorderWrapper = styled.div`\r\n  border: 2px solid #59564f;\r\n  border-radius: 3px;\r\n  padding: 4px 6px;\r\n  background-color: #f2e8dc;\r\n`;\r\n\r\nconst BackgroundBlock = styled.div`\r\n  display: flex;\r\n  & > h4 {\r\n    padding: 0;\r\n    margin: 0;\r\n    margin-right: 8px;\r\n  }\r\n`;\r\n\r\nconst BackgroundCell = styled.div`\r\n  cursor: pointer;\r\n  width: 20px;\r\n  height: 20px;\r\n  margin-right: 3px;\r\n  background-image: ${(props) =>\r\n    props.backgroundImg === 1 ? `url(${White})` : `url(${Black})`};\r\n  border: 2px solid ${(props) => (props.selected ? `orange` : `#6f6f6f`)};\r\n`;\r\n\r\nconst BorderBlock = styled.div`\r\n  margin-top: 8px;\r\n  display: flex;\r\n  align-items: center;\r\n  & > h4 {\r\n    padding: 0;\r\n    margin: 0;\r\n    margin-right: 8px;\r\n  }\r\n`;\r\n\r\nconst BorderPickBox = styled.div`\r\n  cursor: pointer;\r\n  margin-right: 3px;\r\n  border: 2px solid ${(props) => (props.selected ? `orange` : `#afafaf`)};\r\n  width: 20px;\r\n  height: 20px;\r\n  padding: ${(props) => `${6 - props.pixel}px`};\r\n  :before {\r\n    content: '';\r\n    display: block;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: ${(props) => (props.selected ? `orange` : `#afafaf`)};\r\n  }\r\n`;\r\n\r\nconst ColorPicker = styled.div`\r\n  margin-top: 8px;\r\n  margin-left: -2px;\r\n`;\r\n\r\nconst BorderControl = ({\r\n  borderSize,\r\n  borderColor,\r\n  backgroundImg,\r\n  onChangeDotBorderSize,\r\n  onChangeDotBorderColor,\r\n  onChangeBackgroundImg,\r\n}) => {\r\n  return (\r\n    <BorderWrapper>\r\n      <BackgroundBlock>\r\n        <h4>Background</h4>\r\n        <ToolTip placement=\"top\" tooltip={<>dark</>}>\r\n          <BackgroundCell\r\n            backgroundImg={0}\r\n            selected={backgroundImg === 0}\r\n            onClick={() => onChangeBackgroundImg(0)}\r\n          />\r\n        </ToolTip>\r\n        <ToolTip placement=\"top\" tooltip={<>white</>}>\r\n          <BackgroundCell\r\n            backgroundImg={1}\r\n            selected={backgroundImg === 1}\r\n            onClick={() => onChangeBackgroundImg(1)}\r\n          />\r\n        </ToolTip>\r\n      </BackgroundBlock>\r\n      <BorderBlock>\r\n        <h4>Dot Border</h4>\r\n        <ToolTip placement=\"top\" tooltip={<>none</>}>\r\n          <BorderPickBox\r\n            onClick={() => onChangeDotBorderSize(0)}\r\n            pixel={-2}\r\n            selected={borderSize === 0}\r\n            borderColor={borderColor}\r\n          />\r\n        </ToolTip>\r\n        <ToolTip placement=\"top\" tooltip={<>1px</>}>\r\n          <BorderPickBox\r\n            onClick={() => onChangeDotBorderSize(1)}\r\n            pixel={1}\r\n            selected={borderSize === 1}\r\n            borderColor={borderColor}\r\n          />\r\n        </ToolTip>\r\n        <ToolTip placement=\"top\" tooltip={<>2px</>}>\r\n          <BorderPickBox\r\n            onClick={() => onChangeDotBorderSize(2)}\r\n            pixel={2}\r\n            selected={borderSize === 2}\r\n            borderColor={borderColor}\r\n          />\r\n        </ToolTip>\r\n        <ToolTip placement=\"top\" tooltip={<>3px</>}>\r\n          <BorderPickBox\r\n            onClick={() => onChangeDotBorderSize(3)}\r\n            pixel={3}\r\n            selected={borderSize === 3}\r\n            borderColor={borderColor}\r\n          />\r\n        </ToolTip>\r\n      </BorderBlock>\r\n      <ColorPicker>\r\n        <ToolTip placement=\"bottom\" tooltip={<>Set border color</>}>\r\n          <GithubPicker\r\n            onChange={onChangeDotBorderColor}\r\n            width={190}\r\n            colors={[\r\n              '#B80000',\r\n              '#DB3E00',\r\n              '#FCCB00',\r\n              '#008B02',\r\n              '#1273DE',\r\n              '#004DCF',\r\n              '#5300EB',\r\n              '#000000',\r\n              '#9b9b9b',\r\n              '#ffffff',\r\n              '#f78da7',\r\n              '#eb144c',\r\n              '#9379d2',\r\n              '#87ceeb',\r\n            ]}\r\n          />\r\n        </ToolTip>\r\n      </ColorPicker>\r\n    </BorderWrapper>\r\n  );\r\n};\r\n\r\nexport default React.memo(BorderControl);\r\n","import React, { useCallback } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  changeDotBorderSize,\r\n  changeDotBorderColor,\r\n  changeBackgroundImg,\r\n} from '../../modules/observer';\r\nimport BorderControl from '../../components/dotArtTools/BorderControl';\r\n\r\nconst DotBorderContainer = () => {\r\n  const dispatch = useDispatch();\r\n  const { borderSize, borderColor, backgroundImg } = useSelector(\r\n    ({ observer }) => ({\r\n      borderSize: observer.dotBorder.size,\r\n      borderColor: observer.dotBorder.color,\r\n      backgroundImg: observer.backgroundImg,\r\n    }),\r\n  );\r\n\r\n  const onChangeDotBorderSize = useCallback(\r\n    (dotSize) => {\r\n      dispatch(changeDotBorderSize(dotSize));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  const onChangeDotBorderColor = useCallback(\r\n    (pick) => {\r\n      dispatch(changeDotBorderColor(pick.hex));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  const onChangeBackgroundImg = useCallback(\r\n    (type) => {\r\n      dispatch(changeBackgroundImg(type));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  return (\r\n    <BorderControl\r\n      borderSize={borderSize}\r\n      borderColor={borderColor}\r\n      backgroundImg={backgroundImg}\r\n      onChangeDotBorderSize={onChangeDotBorderSize}\r\n      onChangeDotBorderColor={onChangeDotBorderColor}\r\n      onChangeBackgroundImg={onChangeBackgroundImg}\r\n    />\r\n  );\r\n};\r\n\r\nexport default DotBorderContainer;\r\n","import React, { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport CustomButton from '../common/CustomButton';\r\nimport ToolTip from '../common/ToolTip';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nconst DotAreaWrapper = styled.div`\r\n  border: 2px solid #59564f;\r\n  border-radius: 3px;\r\n  padding: 4px 6px;\r\n  background-color: #f2e8dc;\r\n`;\r\n\r\nconst DotAreaBlock = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  height: 40px;\r\n`;\r\n\r\nconst DotAreaControl = ({ onChangeArea, rowCount, columnCount }) => {\r\n  const [row, setRow] = useState(rowCount);\r\n  const [column, setColumn] = useState(columnCount);\r\n\r\n  useEffect(() => {\r\n    setRow(rowCount);\r\n    setColumn(columnCount);\r\n  }, [rowCount, columnCount]);\r\n\r\n  const onChangeRow = (e) => {\r\n    setRow(e.target.value);\r\n  };\r\n\r\n  const onChangeColumn = (e) => {\r\n    setColumn(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <DotAreaWrapper>\r\n      <DotAreaBlock>\r\n        <TextField\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n          type=\"number\"\r\n          label=\"Row\"\r\n          color=\"secondary\"\r\n          value={row}\r\n          onChange={(e) => onChangeRow(e)}\r\n        />\r\n        <TextField\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n          type=\"number\"\r\n          label=\"Column\"\r\n          color=\"secondary\"\r\n          value={column}\r\n          onChange={(e) => onChangeColumn(e)}\r\n        />\r\n      </DotAreaBlock>\r\n      <DotAreaBlock>\r\n        <ToolTip placement=\"top\" tooltip={<>Apply dot area size</>}>\r\n          <CustomButton onClick={() => onChangeArea(row, column)}>\r\n            Apply\r\n          </CustomButton>\r\n        </ToolTip>\r\n      </DotAreaBlock>\r\n    </DotAreaWrapper>\r\n  );\r\n};\r\n\r\nexport default React.memo(DotAreaControl);\r\n","import React, { useCallback } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { changeDotArea } from '../../modules/dot';\r\nimport DotAreaControl from '../../components/dotArtTools/DotAreaControl';\r\n\r\nconst DotAreaContainer = () => {\r\n  const dispatch = useDispatch();\r\n  const { rowCount, columnCount } = useSelector(({ dotArt }) => ({\r\n    rowCount: dotArt.present.dot.rowCount,\r\n    columnCount: dotArt.present.dot.columnCount,\r\n  }));\r\n\r\n  const onChangeArea = useCallback(\r\n    (row, column) => {\r\n      dispatch(\r\n        changeDotArea({ newRow: parseInt(row), newColumn: parseInt(column) }),\r\n      );\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <DotAreaControl\r\n        rowCount={rowCount}\r\n        columnCount={columnCount}\r\n        onChangeArea={onChangeArea}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DotAreaContainer;\r\n","import React, { useState, useRef, useEffect } from 'react';\r\nimport styled, { css } from 'styled-components';\r\nimport {\r\n  TiPlus,\r\n  TiArrowUpThick,\r\n  TiArrowDownThick,\r\n  TiDelete,\r\n  TiFlowMerge,\r\n  TiPen,\r\n  TiEye,\r\n} from 'react-icons/ti';\r\nimport ToolTip from '../common/ToolTip';\r\n\r\nconst LayerWrapper = styled.div`\r\n  border: 2px solid #59564f;\r\n  border-radius: 3px;\r\n`;\r\n\r\nconst LayerHead = styled.div`\r\n  display: flex;\r\n  font-size: 20px;\r\n  padding-left: 16px;\r\n  color: black;\r\n  background: #f2e8dc;\r\n  line-height: 24px;\r\n  border-bottom: 1px solid #0d0d0d;\r\n`;\r\n\r\nconst EyeButton = styled.div`\r\n  position: absolute;\r\n  cursor: pointer;\r\n  right: 0.5rem;\r\n  color: #0d0d0d;\r\n  font-size: 24px;\r\n  cursor: pointer;\r\n  transition: 0.2s linear;\r\n  ${(props) =>\r\n    props.showLayers &&\r\n    css`\r\n      color: #e83838;\r\n    `}\r\n`;\r\n\r\nconst ButtonBox = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst StyledButton = styled.button`\r\n  outline: none;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  width: 33.3px;\r\n  height: 24px;\r\n  border: 1px solid #333333;\r\n  transition: all 0.2s ease-in-out;\r\n  color: #0d0d0d;\r\n  background: #f2e8dc;\r\n  ${(props) =>\r\n    !props.disable &&\r\n    css`\r\n      &:hover {\r\n        color: #1261a6;\r\n      }\r\n    `}\r\n\r\n  &:disabled {\r\n    cursor: no-drop;\r\n    background: #a69e94;\r\n    color: #59564f;\r\n  }\r\n`;\r\n\r\nconst LayerBox = styled.div`\r\n  display: flex;\r\n  flex-direction: column-reverse;\r\n  max-height: 30vh;\r\n  overflow: auto;\r\n`;\r\n\r\nconst Layer = styled.div`\r\n  width: 100%;\r\n  height: 24px;\r\n  cursor: pointer;\r\n  display: flex;\r\n`;\r\n\r\nconst LayerNameSpan = styled.span`\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  width: 100%;\r\n  line-height: 24px;\r\n  color: #0d0d0d;\r\n  padding-left: 8px;\r\n  height: 24px;\r\n  background: #f2e8dc;\r\n  border: none;\r\n  outline: none;\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n  border-top: 2px solid #0d0d0d;\r\n  &:hover {\r\n    ${(props) =>\r\n      !props.selected &&\r\n      css`\r\n        background-color: #d2c9be;\r\n      `}\r\n  }\r\n  ${(props) =>\r\n    props.selected &&\r\n    css`\r\n      color: orange;\r\n      background: #59564f;\r\n    `}\r\n  ${(props) => (props.active ? `display: none` : '')}\r\n`;\r\n\r\nconst LayerNameInput = styled.input`\r\n  border: 1px solid orange;\r\n  width: 100%;\r\n  padding-left: 8px;\r\n  height: 24px;\r\n  outline: none;\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n  color: white;\r\n  background: rgba(50, 50, 50, 1);\r\n  ${(props) => (props.active ? `display: none` : '')}\r\n`;\r\n\r\nconst LayerControl = ({\r\n  layerSelectIdx,\r\n  layerData,\r\n  shiftDown,\r\n  showLayers,\r\n  addNewLayerHandle,\r\n  removeLayerHandle,\r\n  mergeLayerHandle,\r\n  moveUpHandle,\r\n  moveDownHandle,\r\n  selectLayerIdxHandle,\r\n  renameLayerHandle,\r\n  handleChangeTyping,\r\n  handleChangeShowLayers,\r\n}) => {\r\n  const [reName, setReName] = useState(false);\r\n  const [name, setName] = useState('');\r\n  const inputRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    setName(layerData[layerSelectIdx].layerName);\r\n  }, [layerSelectIdx, layerData]);\r\n\r\n  const onClickAddNewLayer = () => {\r\n    addNewLayerHandle(shiftDown);\r\n  };\r\n\r\n  const onClickMoveUp = () => {\r\n    moveUpHandle(shiftDown);\r\n  };\r\n\r\n  const onClickMoveDown = () => {\r\n    moveDownHandle(shiftDown);\r\n  };\r\n\r\n  const onClickReName = () => {\r\n    setReName(true);\r\n  };\r\n\r\n  const onClickHandle = () => {\r\n    setReName(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (reName) {\r\n      inputRef.current.focus();\r\n      handleChangeTyping(true);\r\n    } else {\r\n      handleChangeTyping(false);\r\n    }\r\n  }, [reName, handleChangeTyping]);\r\n\r\n  const onBlurHandle = () => {\r\n    setReName(false);\r\n    handleChangeTyping(false);\r\n    renameLayerHandle(name);\r\n  };\r\n\r\n  const onkeyPressHandle = (e) => {\r\n    if (e.kayCode === 13 || e.key === 'Enter') {\r\n      setReName(false);\r\n      handleChangeTyping(false);\r\n      renameLayerHandle(name);\r\n    }\r\n  };\r\n  return (\r\n    <LayerWrapper>\r\n      <LayerHead>\r\n        Layers\r\n        <EyeButton showLayers={showLayers} onClick={handleChangeShowLayers}>\r\n          <ToolTip placement=\"left\" tooltip={<>Show all layers</>}>\r\n            <TiEye />\r\n          </ToolTip>\r\n        </EyeButton>\r\n      </LayerHead>\r\n      <ButtonBox>\r\n        <ToolTip\r\n          placement=\"top\"\r\n          tooltip={\r\n            <>\r\n              Add new layer\r\n              <span className=\"tooltip-name\">\r\n                <span className=\"tooltip-key\">SHIFT</span>Copy select layer\r\n              </span>\r\n            </>\r\n          }\r\n        >\r\n          <StyledButton onClick={onClickAddNewLayer}>\r\n            <TiPlus />\r\n          </StyledButton>\r\n        </ToolTip>\r\n        <ToolTip\r\n          placement=\"top\"\r\n          tooltip={\r\n            <>\r\n              Move up selected layer\r\n              <span className=\"tooltip-name\">\r\n                <span className=\"tooltip-key\">SHIFT</span>Move to Top\r\n              </span>\r\n            </>\r\n          }\r\n          disable={layerSelectIdx === layerData.length - 1}\r\n        >\r\n          <StyledButton\r\n            onClick={onClickMoveUp}\r\n            disable={layerSelectIdx === layerData.length - 1}\r\n            disabled={layerSelectIdx === layerData.length - 1}\r\n          >\r\n            <TiArrowUpThick />\r\n          </StyledButton>\r\n        </ToolTip>\r\n        <ToolTip\r\n          placement=\"top\"\r\n          tooltip={\r\n            <>\r\n              Move down selected layer\r\n              <span className=\"tooltip-name\">\r\n                <span className=\"tooltip-key\">SHIFT</span>Move to down\r\n              </span>\r\n            </>\r\n          }\r\n          disable={layerSelectIdx === 0}\r\n        >\r\n          <StyledButton\r\n            onClick={onClickMoveDown}\r\n            disable={layerSelectIdx === 0}\r\n            disabled={layerSelectIdx === 0}\r\n          >\r\n            <TiArrowDownThick />\r\n          </StyledButton>\r\n        </ToolTip>\r\n        <ToolTip placement=\"top\" tooltip={<>Edit layer name</>}>\r\n          <StyledButton onClick={onClickReName}>\r\n            <TiPen />\r\n          </StyledButton>\r\n        </ToolTip>\r\n        <ToolTip\r\n          placement=\"top\"\r\n          tooltip={<>Merge with below layer</>}\r\n          disable={layerSelectIdx === 0}\r\n        >\r\n          <StyledButton\r\n            onClick={mergeLayerHandle}\r\n            disable={layerSelectIdx === 0}\r\n            disabled={layerSelectIdx === 0}\r\n          >\r\n            <TiFlowMerge />\r\n          </StyledButton>\r\n        </ToolTip>\r\n        <ToolTip\r\n          placement=\"top\"\r\n          tooltip={<>Delete selected layer</>}\r\n          disable={layerData.length === 1}\r\n        >\r\n          <StyledButton\r\n            onClick={removeLayerHandle}\r\n            disable={layerData.length === 1}\r\n            disabled={layerData.length === 1}\r\n          >\r\n            <TiDelete />\r\n          </StyledButton>\r\n        </ToolTip>\r\n      </ButtonBox>\r\n      <LayerBox>\r\n        {layerData.map((layer, idx) => {\r\n          if (idx === layerSelectIdx) {\r\n            return (\r\n              <Layer key={idx} selected={true}>\r\n                <LayerNameInput\r\n                  value={name}\r\n                  ref={inputRef}\r\n                  active={!reName}\r\n                  onBlur={() => onBlurHandle()}\r\n                  onChange={(e) => setName(e.target.value)}\r\n                  onKeyPress={(e) => onkeyPressHandle(e)}\r\n                />\r\n                <LayerNameSpan onClick={onClickHandle} active={reName} selected>\r\n                  {layer.layerName}\r\n                </LayerNameSpan>\r\n              </Layer>\r\n            );\r\n          } else {\r\n            return (\r\n              <Layer onClick={() => selectLayerIdxHandle(idx)} key={idx}>\r\n                <LayerNameSpan>{layer.layerName}</LayerNameSpan>\r\n              </Layer>\r\n            );\r\n          }\r\n        })}\r\n      </LayerBox>\r\n    </LayerWrapper>\r\n  );\r\n};\r\n\r\nexport default React.memo(LayerControl);\r\n","import React, { useCallback } from 'react';\r\nimport LayerControl from '../../components/dotArtTools/LayerControl';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { changeTypingState, changeShowLayers } from '../../modules/observer';\r\nimport {\r\n  addNewLayer,\r\n  removeLayer,\r\n  margeLayer,\r\n  moveUpLayer,\r\n  moveDownLayer,\r\n  selectLayerIdx,\r\n  renameLayer,\r\n} from '../../modules/dot';\r\n\r\nconst LayerControlContainer = () => {\r\n  const dispatch = useDispatch();\r\n  const { layerList, layerSelectIdx, layerData } = useSelector(\r\n    ({ dotArt }) => ({\r\n      layerList:\r\n        dotArt.present.dot.dotFrameList[dotArt.present.dot.activeIdx].layerList,\r\n      layerSelectIdx: dotArt.present.dot.layerSelectIdx,\r\n      layerData: dotArt.present.dot.layerData,\r\n    }),\r\n  );\r\n  const { shiftDown, showLayers } = useSelector(({ observer }) => ({\r\n    shiftDown: observer.shiftDown,\r\n    showLayers: observer.showLayers,\r\n  }));\r\n\r\n  const addNewLayerHandle = useCallback(\r\n    (shiftDown) => {\r\n      dispatch(addNewLayer(shiftDown));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  const removeLayerHandle = useCallback(() => {\r\n    dispatch(removeLayer());\r\n  }, [dispatch]);\r\n\r\n  const mergeLayerHandle = useCallback(() => {\r\n    dispatch(margeLayer());\r\n  }, [dispatch]);\r\n\r\n  const moveUpHandle = useCallback(\r\n    (shiftDown) => {\r\n      dispatch(moveUpLayer(shiftDown));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  const moveDownHandle = useCallback(\r\n    (shiftDown) => {\r\n      dispatch(moveDownLayer(shiftDown));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  const selectLayerIdxHandle = useCallback(\r\n    (idx) => {\r\n      dispatch(selectLayerIdx(idx));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  const renameLayerHandle = useCallback(\r\n    (name) => {\r\n      dispatch(renameLayer(name));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  const handleChangeTyping = useCallback(\r\n    (typing) => {\r\n      dispatch(changeTypingState(typing));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  const handleChangeShowLayers = useCallback(() => {\r\n    dispatch(changeShowLayers());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <LayerControl\r\n      layerList={layerList}\r\n      layerSelectIdx={layerSelectIdx}\r\n      layerData={layerData}\r\n      shiftDown={shiftDown}\r\n      showLayers={showLayers}\r\n      addNewLayerHandle={addNewLayerHandle}\r\n      removeLayerHandle={removeLayerHandle}\r\n      mergeLayerHandle={mergeLayerHandle}\r\n      moveUpHandle={moveUpHandle}\r\n      moveDownHandle={moveDownHandle}\r\n      selectLayerIdxHandle={selectLayerIdxHandle}\r\n      renameLayerHandle={renameLayerHandle}\r\n      handleChangeTyping={handleChangeTyping}\r\n      handleChangeShowLayers={handleChangeShowLayers}\r\n    />\r\n  );\r\n};\r\n\r\nexport default LayerControlContainer;\r\n","import React, { useEffect, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { ChromePicker } from 'react-color';\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst LeftClickBox = styled.div`\r\n  z-index: 10;\r\n`;\r\n\r\nconst RightClickBox = styled.div`\r\n  z-index: 9;\r\n  margin-top: 24px;\r\n  margin-left: -16px;\r\n`;\r\n\r\nconst ColorBox = styled.div`\r\n  background: ${(props) => (props.color ? props.color : '#ffffff')};\r\n  width: 40px;\r\n  height: 40px;\r\n  border: 3px solid #afafaf;\r\n`;\r\n\r\nconst ColorPickerBlock = styled.div`\r\n  position: absolute;\r\n  z-index: 2;\r\n`;\r\n\r\nconst Cover = styled.div`\r\n  position: fixed;\r\n  top: 0px;\r\n  right: 0px;\r\n  bottom: 0px;\r\n  left: 0px;\r\n`;\r\n\r\nconst PaintColor = ({\r\n  leftColor,\r\n  rightColor,\r\n  changeLeftColor,\r\n  changeRightColor,\r\n}) => {\r\n  const [displayLeftColorPicker, setDisplayLeftColorPicker] = useState(false);\r\n  const [displayRightColorPicker, setDisplayRightColorPicker] = useState(false);\r\n  const [leftSelectColor, setLeftSelectColor] = useState('');\r\n  const [rightSelectColor, setRightSelectColor] = useState('');\r\n\r\n  useEffect(() => {\r\n    setLeftSelectColor(leftColor);\r\n    setRightSelectColor(rightColor);\r\n  }, [leftColor, rightColor]);\r\n\r\n  const handleLeftColorChange = (pick) => {\r\n    setLeftSelectColor(pick.hex);\r\n  };\r\n\r\n  const handleRightColorChange = (pick) => {\r\n    setRightSelectColor(pick.hex);\r\n  };\r\n\r\n  const handleOpenColorPicker = (type) => {\r\n    if (type === 'LEFT') {\r\n      setDisplayLeftColorPicker(!displayLeftColorPicker);\r\n    } else {\r\n      setDisplayRightColorPicker(!displayRightColorPicker);\r\n    }\r\n  };\r\n\r\n  const handleClose = (type) => {\r\n    if (type === 'LEFT') {\r\n      setDisplayLeftColorPicker(false);\r\n      changeLeftColor(leftSelectColor);\r\n    } else {\r\n      setDisplayRightColorPicker(false);\r\n      changeRightColor(rightSelectColor);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <LeftClickBox>\r\n        <ColorBox\r\n          onClick={() => handleOpenColorPicker('LEFT')}\r\n          color={leftSelectColor}\r\n        />\r\n        {displayLeftColorPicker ? (\r\n          <ColorPickerBlock>\r\n            <Cover onClick={() => handleClose('LEFT')} />\r\n            <ChromePicker\r\n              disableAlpha\r\n              color={leftSelectColor}\r\n              onChange={handleLeftColorChange}\r\n            />\r\n          </ColorPickerBlock>\r\n        ) : null}\r\n      </LeftClickBox>\r\n      <RightClickBox>\r\n        <ColorBox\r\n          onClick={() => handleOpenColorPicker('RIGHT')}\r\n          color={rightSelectColor}\r\n        />\r\n        {displayRightColorPicker ? (\r\n          <ColorPickerBlock>\r\n            <Cover onClick={() => handleClose('RIGHT')} />\r\n            <ChromePicker\r\n              disableAlpha\r\n              color={rightSelectColor}\r\n              onChange={handleRightColorChange}\r\n            />\r\n          </ColorPickerBlock>\r\n        ) : null}\r\n      </RightClickBox>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default React.memo(PaintColor);\r\n","import React, { useCallback } from 'react';\r\nimport PaintColor from '../../components/dotArtTools/PaintColor';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { selectLeftColor, selectRightColor } from '../../modules/palettes';\r\n\r\nconst PaintColorContainer = () => {\r\n  const dispatch = useDispatch();\r\n  const { leftColor, rightColor } = useSelector(({ palettes }) => ({\r\n    leftColor: palettes.leftColor,\r\n    rightColor: palettes.rightColor,\r\n  }));\r\n\r\n  const changeLeftColor = useCallback(\r\n    (color) => {\r\n      dispatch(selectLeftColor({ color }));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  const changeRightColor = useCallback(\r\n    (color) => {\r\n      dispatch(selectRightColor({ color }));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  return (\r\n    <PaintColor\r\n      leftColor={leftColor}\r\n      rightColor={rightColor}\r\n      changeLeftColor={changeLeftColor}\r\n      changeRightColor={changeRightColor}\r\n    />\r\n  );\r\n};\r\n\r\nexport default PaintColorContainer;\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { clearFakeDotArt } from '../../modules/index';\r\nimport {\r\n  changePaintTool,\r\n  DOT,\r\n  BUCKET,\r\n  PICKER,\r\n  ERASER,\r\n  MOVE,\r\n  SAMECOLOR,\r\n} from '../../modules/paintTool';\r\nimport { ActionCreators } from 'redux-undo';\r\nimport {\r\n  increaseColumn,\r\n  decreaseColumn,\r\n  increaseRow,\r\n  decreaseRow,\r\n} from '../../modules/dot';\r\nimport {\r\n  increaseDotSize,\r\n  decreaseDotSize,\r\n  saveStart,\r\n} from '../../modules/observer';\r\nimport {\r\n  swapLeftRightColor,\r\n  moveUpPaletteCell,\r\n  moveDownPaletteCell,\r\n  moveLeftPaletteCell,\r\n  moveRightPaletteCell,\r\n} from '../../modules/palettes';\r\nimport { changeTypeAndOpen } from '../../modules/dialog';\r\nimport { TiKeyboard } from 'react-icons/ti';\r\nimport styled from 'styled-components';\r\nimport tinykeys from 'tinykeys';\r\nimport ToolTip from '../common/ToolTip';\r\n\r\nconst KeyBindWrapper = styled.div`\r\n  position: fixed;\r\n  bottom: 8px;\r\n`;\r\n\r\nconst Button = styled.div`\r\n  color: #59564f;\r\n  border-radius: 5px;\r\n  text-align: center;\r\n\r\n  &:hover {\r\n    color: #0d0d0d;\r\n  }\r\n`;\r\n\r\nconst KeyBindings = ({\r\n  isTyping,\r\n  dotSize,\r\n  openKeyBindDialog,\r\n  paintTools,\r\n  color,\r\n  storage,\r\n  misc,\r\n}) => {\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    let keyCombinations = {};\r\n\r\n    function keyCombinationMaker(keySet) {\r\n      for (let keyData in keySet) {\r\n        keyCombinations[keySet[keyData].code] = (event) => {\r\n          event.preventDefault();\r\n          keybindActionMaker(keyData);\r\n        };\r\n      }\r\n    }\r\n\r\n    keyCombinationMaker(paintTools);\r\n    keyCombinationMaker(color);\r\n    keyCombinationMaker(storage);\r\n    keyCombinationMaker(misc);\r\n\r\n    const paintBox = document.getElementById('paintBox');\r\n\r\n    const keybindActionMaker = (action) => {\r\n      switch (action) {\r\n        case 'UNDO':\r\n          dispatch(ActionCreators.undo());\r\n          dispatch(clearFakeDotArt());\r\n          return;\r\n        case 'REDO':\r\n          dispatch(ActionCreators.redo());\r\n          dispatch(clearFakeDotArt());\r\n          return;\r\n        case 'SWAP':\r\n          dispatch(swapLeftRightColor());\r\n          return;\r\n        case 'PALETTE_UP':\r\n          dispatch(moveUpPaletteCell());\r\n          return;\r\n        case 'PALETTE_DOWN':\r\n          dispatch(moveDownPaletteCell());\r\n          return;\r\n        case 'PALETTE_LEFT':\r\n          dispatch(moveLeftPaletteCell());\r\n          return;\r\n        case 'PALETTE_RIGHT':\r\n          dispatch(moveRightPaletteCell());\r\n          return;\r\n        case DOT:\r\n          dispatch(changePaintTool(DOT));\r\n          return;\r\n        case BUCKET:\r\n          dispatch(changePaintTool(BUCKET));\r\n          return;\r\n        case PICKER:\r\n          dispatch(changePaintTool(PICKER));\r\n          return;\r\n        case ERASER:\r\n          dispatch(changePaintTool(ERASER));\r\n          return;\r\n        case MOVE:\r\n          dispatch(changePaintTool(MOVE));\r\n          return;\r\n        case SAMECOLOR:\r\n          dispatch(changePaintTool(SAMECOLOR));\r\n          return;\r\n        case 'INCREASE_COLUMN':\r\n          dispatch(increaseColumn());\r\n          return;\r\n        case 'DECREASE_COLUMN':\r\n          dispatch(decreaseColumn());\r\n          return;\r\n        case 'INCREASE_ROW':\r\n          dispatch(increaseRow());\r\n          return;\r\n        case 'DECREASE_ROW':\r\n          dispatch(decreaseRow());\r\n          return;\r\n        case 'INCREASE_DOTSIZE':\r\n          dispatch(increaseDotSize());\r\n          return;\r\n        case 'DECREASE_DOTSIZE':\r\n          dispatch(decreaseDotSize());\r\n          return;\r\n        case 'MOVE_VIEWPORT_UP':\r\n          paintBox.scrollBy(0, -dotSize);\r\n          return;\r\n        case 'MOVE_VIEWPORT_RIGHT':\r\n          paintBox.scrollBy(dotSize, 0);\r\n          return;\r\n        case 'MOVE_VIEWPORT_DOWN':\r\n          paintBox.scrollBy(0, dotSize);\r\n          return;\r\n        case 'MOVE_VIEWPORT_LEFT':\r\n          paintBox.scrollBy(-dotSize, 0);\r\n          return;\r\n        case 'SAVE_DOTART':\r\n          dispatch(saveStart(true));\r\n          return;\r\n        case 'LOAD_DOTART':\r\n          console.log('?');\r\n          dispatch(changeTypeAndOpen('Load'));\r\n          return;\r\n        default:\r\n          return console.log('bind error');\r\n      }\r\n    };\r\n\r\n    const unsubscribe = tinykeys(window, keyCombinations);\r\n\r\n    if (isTyping) {\r\n      unsubscribe();\r\n    }\r\n\r\n    return () => {\r\n      unsubscribe();\r\n    };\r\n  }, [isTyping, dotSize, paintTools, color, storage, misc, dispatch]);\r\n  return (\r\n    <KeyBindWrapper>\r\n      <ToolTip tooltip={<>Key bind help</>}>\r\n        <Button>\r\n          <TiKeyboard size=\"2.5rem\" onClick={openKeyBindDialog} />\r\n        </Button>\r\n      </ToolTip>\r\n    </KeyBindWrapper>\r\n  );\r\n};\r\n\r\nexport default React.memo(KeyBindings);\r\n","import React, { useCallback } from 'react';\r\nimport KeyBingings from '../../components/dotArtTools/KeyBindings';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { changeTypeAndOpen } from '../../modules/dialog';\r\n\r\nconst KeyBindingsContainer = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const { isTyping, dotSize } = useSelector(({ observer }) => ({\r\n    isTyping: observer.isTyping,\r\n    dotSize: observer.dotSize,\r\n  }));\r\n\r\n  const { paintTools, color, storage, misc } = useSelector(({ keybind }) => ({\r\n    paintTools: keybind.paintTools,\r\n    color: keybind.color,\r\n    storage: keybind.storage,\r\n    misc: keybind.misc,\r\n  }));\r\n\r\n  const openKeyBindDialog = useCallback(() => {\r\n    dispatch(changeTypeAndOpen('KeyBind'));\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <KeyBingings\r\n      isTyping={isTyping}\r\n      dotSize={dotSize}\r\n      paintTools={paintTools}\r\n      color={color}\r\n      storage={storage}\r\n      misc={misc}\r\n      openKeyBindDialog={openKeyBindDialog}\r\n    />\r\n  );\r\n};\r\n\r\nexport default KeyBindingsContainer;\r\n","import React, { useEffect } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst ObserverWrapper = styled.div`\r\n  position: absolute;\r\n  bottom: 16px;\r\n`;\r\n\r\nconst Observer = ({\r\n  mousePosition,\r\n  dotSize,\r\n  paintState,\r\n  selectedPaintTool,\r\n  rowCount,\r\n  columnCount,\r\n  onChangePaintStateHandle,\r\n  onUpdateDotArtHandle,\r\n  onAltDownHandle,\r\n  onShiftDownHandle,\r\n}) => {\r\n  useEffect(() => {\r\n    const mouseUpHandle = (e) => {\r\n      onUpdateDotArtHandle(selectedPaintTool);\r\n      onChangePaintStateHandle('IDLE');\r\n    };\r\n\r\n    if (paintState === 'DRAGGING')\r\n      window.addEventListener('mouseup', mouseUpHandle, false);\r\n\r\n    return () => {\r\n      window.removeEventListener('mouseup', mouseUpHandle, false);\r\n    };\r\n  }, [\r\n    paintState,\r\n    selectedPaintTool,\r\n    onChangePaintStateHandle,\r\n    onUpdateDotArtHandle,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    let mouseX, mouseY;\r\n\r\n    const mouseMove = (e) => {\r\n      mouseX = e.clientX;\r\n      mouseY = e.clientY;\r\n    };\r\n\r\n    const paintBox = document.getElementById('paintBox');\r\n    const parentNode = paintBox.parentNode;\r\n    const childNode = paintBox.childNodes[0];\r\n    const wheelEvent = (e) => {\r\n      e.preventDefault();\r\n\r\n      const pixelSize = parseInt(paintBox.scrollHeight / rowCount);\r\n\r\n      // 더 작아지거나 더 커지지 못한다\r\n      if (pixelSize > 99 || pixelSize < 5) return;\r\n\r\n      let moveVerticalScroll = paintBox.scrollTop;\r\n      let moveHorizontalScroll = paintBox.scrollLeft;\r\n\r\n      const parent = parentNode.getBoundingClientRect();\r\n\r\n      const overTop = paintBox.offsetTop === parentNode.offsetTop;\r\n      const overLeft = paintBox.offsetLeft === childNode.offsetLeft;\r\n\r\n      const addPixel = e.deltaY > 0 ? -2 : 2;\r\n\r\n      if (overTop) {\r\n        const y = 100 / (parent.height / (mouseY - parent.y));\r\n        const scrollY = (paintBox.scrollTop / paintBox.scrollHeight) * 100;\r\n\r\n        moveVerticalScroll =\r\n          (((pixelSize + addPixel) * rowCount) / 100) *\r\n          (scrollY + (y - scrollY) / 10);\r\n      }\r\n\r\n      if (overLeft) {\r\n        const x = 100 / (parent.width / (mouseX - parent.x));\r\n        const scrollX = (paintBox.scrollLeft / paintBox.scrollWidth) * 100;\r\n\r\n        moveHorizontalScroll =\r\n          (((pixelSize + addPixel) * columnCount) / 100) *\r\n          (scrollX + (x - scrollX) / 10);\r\n      }\r\n\r\n      paintBox.scrollTo(moveHorizontalScroll, moveVerticalScroll);\r\n    };\r\n\r\n    parentNode.addEventListener('wheel', wheelEvent);\r\n    parentNode.addEventListener('mousemove', mouseMove);\r\n\r\n    return () => {\r\n      parentNode.removeEventListener('wheel', wheelEvent);\r\n      parentNode.removeEventListener('mousemove', mouseMove);\r\n    };\r\n  }, [rowCount, columnCount]);\r\n\r\n  useEffect(() => {\r\n    const keyUpHandle = (e) => {\r\n      if (e.code === 'AltLeft') {\r\n        onAltDownHandle(false);\r\n      }\r\n      if (e.code === 'ShiftLeft') {\r\n        onShiftDownHandle(false);\r\n      }\r\n    };\r\n    const keyDownHandle = (e) => {\r\n      if (e.code === 'AltLeft') {\r\n        onAltDownHandle(true);\r\n      }\r\n      if (e.code === 'ShiftLeft') {\r\n        onShiftDownHandle(true);\r\n      }\r\n    };\r\n\r\n    window.addEventListener('keyup', keyUpHandle, false);\r\n    window.addEventListener('keydown', keyDownHandle, false);\r\n\r\n    return () => {\r\n      window.removeEventListener('keyup', keyUpHandle, false);\r\n      window.removeEventListener('keydown', keyDownHandle, false);\r\n    };\r\n  }, [onAltDownHandle, onShiftDownHandle]);\r\n\r\n  return (\r\n    <ObserverWrapper>\r\n      <h5>{dotSize}px</h5>\r\n      <h5>\r\n        [{columnCount} x {rowCount}]\r\n        {mousePosition.x !== '' && `${mousePosition.x}, ${mousePosition.y}`}\r\n      </h5>\r\n    </ObserverWrapper>\r\n  );\r\n};\r\n\r\nexport default Observer;\r\n","import React, { useCallback } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Observer from '../../components/dotArtTools/Observer';\r\nimport { updateDotArt } from '../../modules/dot';\r\nimport { changePaintState } from '../../modules/paintTool';\r\nimport { altDown, shiftDown } from '../../modules/observer';\r\n\r\nconst ObserverContainer = () => {\r\n  const dispatch = useDispatch();\r\n  const { mousePosition, dotSize } = useSelector(({ observer }) => ({\r\n    mousePosition: observer.mousePosition,\r\n    dotSize: observer.dotSize,\r\n  }));\r\n  const { paintState, selectedPaintTool } = useSelector(({ paintTool }) => ({\r\n    paintState: paintTool.paintState,\r\n    selectedPaintTool: paintTool.selectedPaintTool,\r\n  }));\r\n  const { rowCount, columnCount } = useSelector(({ dotArt }) => ({\r\n    rowCount: dotArt.present.dot.rowCount,\r\n    columnCount: dotArt.present.dot.columnCount,\r\n  }));\r\n\r\n  const onChangePaintStateHandle = useCallback(\r\n    (paintState) => {\r\n      dispatch(changePaintState(paintState));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  const onUpdateDotArtHandle = useCallback(\r\n    (selectedPaintTool) => {\r\n      dispatch(updateDotArt(selectedPaintTool));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  const onAltDownHandle = useCallback(\r\n    (bool) => {\r\n      dispatch(altDown(bool));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  const onShiftDownHandle = useCallback(\r\n    (bool) => {\r\n      dispatch(shiftDown(bool));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  return (\r\n    <Observer\r\n      mousePosition={mousePosition}\r\n      dotSize={dotSize}\r\n      paintState={paintState}\r\n      selectedPaintTool={selectedPaintTool}\r\n      rowCount={rowCount}\r\n      columnCount={columnCount}\r\n      onChangePaintStateHandle={onChangePaintStateHandle}\r\n      onUpdateDotArtHandle={onUpdateDotArtHandle}\r\n      onAltDownHandle={onAltDownHandle}\r\n      onShiftDownHandle={onShiftDownHandle}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ObserverContainer;\r\n","import React, { useEffect } from 'react';\r\nimport DialogContainer from '../containers/dialog/DialogContainer';\r\nimport DotListContainer from '../containers/dotArtTools/DotListContainer';\r\nimport PreViewContainer from '../containers/dotArtTools/PreViewContainer';\r\nimport DotPaintContainer from '../containers/dotPaint/DotPaintContainer';\r\nimport PaintToolContainer from '../containers/dotArtTools/PaintToolContainer';\r\nimport SaveLoadContainer from '../containers/dotArtTools/SaveLoadContainer';\r\nimport PalettesContainer from '../containers/dotArtTools/PalettesContainer';\r\nimport DotBorderContainer from '../containers/dotArtTools/DotBorderContainer';\r\nimport DotAreaContainer from '../containers/dotArtTools/DotAreaContainer';\r\nimport LayerControlContainer from '../containers/dotArtTools/LayerControlContainer';\r\nimport PaintColorContainer from '../containers/dotArtTools/PaintColorContainer';\r\nimport KeyBingingsContainer from '../containers/dotArtTools/KeyBindingsContainer';\r\nimport ObserberContainer from '../containers/dotArtTools/ObserverContainer';\r\nimport styled from 'styled-components';\r\n\r\nconst MainWrapper = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst LeftToolBox = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  left: 0px;\r\n  width: 200px;\r\n  margin-right: 4px;\r\n  /* & > * {\r\n    margin: 8px 0px;\r\n    max-width: 240px;\r\n    width: 200px;\r\n  } */\r\n`;\r\n\r\nconst RightToolBox = styled.div`\r\n  position: sticky;\r\n  max-height: 90vh;\r\n  width: 204px;\r\n  & > *:not(:first-child) {\r\n    margin: 4px 0px;\r\n  }\r\n`;\r\n\r\nconst DotArtPage = () => {\r\n  // toolTip의 위치 조절을 위해 넣어둠\r\n  useEffect(() => {\r\n    const toolTipLeftRight = document.getElementsByClassName('toolTip');\r\n    for (let toolTip of toolTipLeftRight) {\r\n      toolTip.style.marginTop = `-${toolTip.clientHeight / 2}px`;\r\n    }\r\n  }, []);\r\n  return (\r\n    <React.Fragment>\r\n      <DialogContainer />\r\n      <MainWrapper>\r\n        <LeftToolBox>\r\n          <SaveLoadContainer />\r\n          <PaintToolContainer />\r\n          <DotAreaContainer />\r\n          <PalettesContainer />\r\n          <PaintColorContainer />\r\n        </LeftToolBox>\r\n        <DotListContainer />\r\n        <DotPaintContainer />\r\n        <RightToolBox>\r\n          <PreViewContainer />\r\n          <DotBorderContainer />\r\n          <LayerControlContainer />\r\n          <ObserberContainer />\r\n        </RightToolBox>\r\n      </MainWrapper>\r\n      <KeyBingingsContainer />\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default DotArtPage;\r\n","import React from 'react';\r\nimport { BrowserRouter, Route, Switch, withRouter } from 'react-router-dom';\r\nimport HeaderContainer from '../containers/header/HeaderContainer';\r\nimport DotArtPage from '../pages/DotArtPage';\r\n\r\nconst MainPage = ({ match }) => {\r\n  return (\r\n    <BrowserRouter>\r\n      <HeaderContainer path={match.path}>\r\n        <Switch>\r\n          <Route\r\n            path={[match.path, `${match.path}/dot`]}\r\n            component={DotArtPage}\r\n          />\r\n          {/* <Route path={`${match.path}/community`} component={} exact /> */}\r\n        </Switch>\r\n      </HeaderContainer>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default withRouter(MainPage);\r\n","import React from 'react';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\nimport MainPage from './pages/MainPage';\r\n// import LoginPage from './pages/LoginPage';\r\n// import SignUpPage from './pages/SignUpPage';\r\n// import IndexPage from './pages/IndexPage';\r\nimport { createMuiTheme } from '@material-ui/core/styles';\r\nimport { ThemeProvider } from '@material-ui/styles';\r\nimport { SnackbarProvider } from 'notistack';\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#F2E8DC',\r\n      light: '#F2F2F2',\r\n      dark: '#59564F',\r\n      contrastText: '#0D0D0D',\r\n    },\r\n    secondary: {\r\n      main: '#59564F',\r\n    },\r\n  },\r\n});\r\n\r\nconst App = () => {\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <SnackbarProvider\r\n        maxSnack={3}\r\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\r\n      >\r\n        <BrowserRouter>\r\n          <Switch>\r\n            <Route component={MainPage} />\r\n            {/* <Route path=\"/\" component={IndexPage} exact />\r\n            <Route component={LoginPage} path=\"/login\" exact />\r\n            <Route component={SignUpPage} path=\"/signup\" exact />\r\n            <Route component={MainPage} path=\"/main\" />\r\n            <Route\r\n              render={({ location }) => (\r\n                <div>\r\n                  <h1>4 0 4</h1>\r\n                  <p>{location.pathname}는 없는 주소입니다</p>\r\n                </div>\r\n              )}\r\n            /> */}\r\n          </Switch>\r\n        </BrowserRouter>\r\n      </SnackbarProvider>\r\n    </ThemeProvider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport rootReducer, { rootSaga } from './modules';\r\nimport { check, tempSetUser } from './modules/user';\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeWithDevTools(applyMiddleware(sagaMiddleware)),\r\n  // applyMiddleware(sagaMiddleware),\r\n);\r\n\r\nfunction loadUser() {\r\n  try {\r\n    const user = localStorage.getItem('dotArt_user');\r\n    if (!user) return;\r\n\r\n    store.dispatch(tempSetUser(user));\r\n    store.dispatch(check());\r\n  } catch (e) {\r\n    console.log('localStorage is not working!');\r\n  }\r\n}\r\n\r\nsagaMiddleware.run(rootSaga);\r\nloadUser();\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </Provider>,\r\n  document.getElementById('root'),\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAVElEQVRYR+3UoQ0AQAhD0UOyG5b9x0DebVDEiZqPJSTNS2hU1T1iMlOtz8zI/XYfBEAAAbtAd8se+P3z7T4IgAACdgF7EREAAQTsAvYiIgACCLgFHo3ZzjG+nqs2AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAUklEQVRYR+3UsQkAQAhDUd3J/RfQnbwNYnFFmm8rQnhgsrs3xFSVWsfMyP11nwRAAAG7wO7KHvj98+s+CYAAAnYBexERAAEE7AL2IiIAAgi4BR59ogXwC7msxgAAAABJRU5ErkJggg==\""],"sourceRoot":""}