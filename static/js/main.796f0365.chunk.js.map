{"version":3,"sources":["components/header/Header.js","lib/client.js","lib/auth.js","modules/loading.js","lib/createRequestSaga.js","modules/user.js","containers/header/HeaderContainer.js","util/cssParser.js","components/common/Animation.js","components/common/Preview.js","components/common/CustomButton.js","components/dialog/PreviewDialog.js","modules/dot.js","containers/dialog/PreviewDialogContainer.js","components/dialog/LoadDialog.js","util/json-example.js","util/localStorage.js","modules/palettes.js","modules/dialog.js","containers/dialog/LoadDialogContainer.js","components/dialog/DownLoadDialog.js","util/saveFileDotArt.js","containers/dialog/DownLoadDialogContainer.js","components/dialog/Dialogs.js","containers/dialog/DialogContainer.js","components/dotArtTools/DotListBlock.js","components/dotArtTools/DotList.js","containers/dotArtTools/DotListContainer.js","components/dotArtTools/PreViewTools.js","containers/dotArtTools/PreViewContainer.js","components/common/DivBlock.js","components/dotPaint/DotPaintLine.js","components/dotPaint/DotPaint.js","modules/paintTool.js","modules/palette.js","modules/auth.js","modules/index.js","containers/DotPaintContainer.js","components/dotPaint/dotHeader/PaintTool.js","containers/DotHeader/PaintToolContainer.js","components/dotPaint/dotHeader/NickBlock.js","components/common/PaletteCell.js","components/dotPaint/dotHeader/Palette.js","containers/DotHeader/PaletteContainer.js","components/common/ColorPicker.js","components/dotPaint/dotHeader/BorderControl.js","containers/DotHeader/DotBorderContainer.js","components/dotPaint/dotHeader/DotSizeChanger.js","containers/DotHeader/DotSizeContainer.js","components/dotPaint/dotHeader/DotAreaControl.js","containers/DotHeader/DotAreaContainer.js","components/common/ColorCell.js","components/dotArtTools/PaletteCell.js","components/dotArtTools/Palette.js","components/dotArtTools/TrashCan.js","components/dotArtTools/TempBlockCell.js","components/dotArtTools/TempBlock.js","components/dotArtTools/Palettes.js","containers/dotArtTools/PalettesContainer.js","components/dotArtTools/BottomTools.js","containers/dotArtTools/BottomToolsContainer.js","components/dotArtTools/UndoRedo.js","containers/dotArtTools/UndoRedoContainer.js","components/dotArtTools/SaveLoad.js","containers/dotArtTools/SaveLoadContainer.js","components/dotArtTools/KeyBindings.js","containers/dotArtTools/KeyBindingsContainer.js","pages/DotArtPage.js","pages/MainPage.js","components/common/AuthTemplate.js","containers/auth/LoginContainer.js","pages/LoginPage.js","containers/auth/SignUpContainer.js","pages/SignUpPage.js","pages/IndexPage.js","App.js","serviceWorker.js","index.js"],"names":["useStyles","makeStyles","theme","root","display","menuButton","marginRight","spacing","title","flexGrow","drawer","width","flexShrink","whiteSpace","drawerOpen","transition","transitions","create","easing","sharp","duration","enteringScreen","drawerClose","leavingScreen","overflowX","appBar","zIndex","appBarShift","marginLeft","hide","toolbar","alignItems","justifyContent","padding","mixins","drawerPaper","content","React","memo","withRouter","window","children","path","history","user","onLogout","classes","useTheme","useState","mobileOpen","setMobileOpen","open","setOpen","handleDrawerToggle","Divider","List","ListItem","button","key","onClick","push","ListItemIcon","ListItemText","primary","container","undefined","document","body","className","CssBaseline","AppBar","position","clsx","Toolbar","Hidden","smUp","implementation","IconButton","color","aria-label","edge","xsDown","Typography","variant","noWrap","username","Button","Drawer","anchor","onClose","paper","ModalProps","keepMounted","direction","client","axios","interceptors","request","use","config","localStorage","getItem","headers","common","err","console","log","response","error","Promise","reject","logout","post","startLoading","createAction","requestType","finishLoading","loading","handleActions","state","action","payload","createRequestActionTypes","type","createRequestSaga","SUCCESS","FAILURE","put","call","data","logoutSaga","userSaga","CHECK","CHECK_SUCCESS","CHECK_FAILURE","check","checkSaga","get","checkFailureSaga","removeItem","e","authAPI","takeLatest","checkError","dispatch","useDispatch","useSelector","useCallback","getImageData","grid","opt","flat","xCoord","i","c","pSize","yCoord","parseInt","blurRadius","concat","spreadRadius","format","reduce","bsArray","x","y","bsString","slice","getAnimationKeyframes","frames","intervalData","generateAnimationIntervals","acc","frame","index","intervalAcc","dot","currentBoxShadow","minValue","maxValue","boxShadow","interval","parseFloat","Animation","props","name","shortid","generate","keyframeName","keyframeRules","keyframes","rules","style","animation","animationName","animString","PreViewWrapper","styled","div","attrs","cellSize","cssString","height","MozBoxShadow","WebkitBoxShadow","dotSet","dotList","column","size","top","left","animationData","columns","generateAnimationCSSData","Fragment","generatePixelDrawCss","generatePreview","CustomButtonStyled","baseColor","css","selected","selectColor","CustomButton","rest","Wrapper","ButtonWrapper","PreviewScrollWrapper","PreviewBlock","pixelSize","columnCount","rowCount","PreviewDialog","handleChangeAnimationDuration","handleChangePixelSize","activeIdx","animationDuration","setAnimation","TextField","label","value","onChange","target","onChangeAnimationDuration","onChangePixelSize","clearDot","newDotArtProject","loadDotArt","loadedData","changeDotBorderSize","changeDotBorderColor","changeDotSize","dotSize","changeDotArea","newRow","newColumn","changeActiveIdx","idx","removeActiveDotArt","copyActiveDotArt","addNewDotArt","changeAnimationInterval","changeAnimationDuration","changePixelSize","reorderDotList","startIdx","endIdx","defaultDotMaker","row","Array","fill","map","initialState","id","border","intervalSetter","quotient","length","Math","round","produce","draft","originRow","originColumn","pop","tempDotList","copyDotArt","intervals","cur","splice","removed","PreviewDialogContainer","PreviewWrapper","CardDiv","StyleButton","LoadDialog","removeDotArtHandle","loadDotArtHandle","clearStorageHandler","dotArt","dotArtIdx","stopPropagation","onClickRemove","exampleCat","examplePalette","colors","getDataFromStorage","storage","JSON","parse","removeDotArtFromStorage","storageData","newCurrent","current","setItem","stringify","saveDataToStorage","loadPalettes","reorderPalettes","reorderPaletteCell","startPaletteId","endPaletteId","movePaletteToTrashCan","dragIdx","moveCellToTrashCan","paletteId","moveCellFromTrashCan","selectColorCell","selectIdx","palettes","selectColorId","colorId","trashCan","checkTrashCanIsFull","paletteIdx","palette","unshift","selectPalette","filter","changeTypeAndOpen","dialogType","closeDialog","dialog","LoadDialogContainer","enqueueSnackbar","useSnackbar","setLoadedData","DownLoadDialog","saveFileHandler","setType","fillCanvasWithDotArt","canvas","dotArtInfo","cols","dotArtHeight","ctx","forEach","fillStyle","pixelIdx","col","floor","fillRect","renderImageToCanvas","canvasInfo","currentDotArtInfo","canvasHeight","canvasWidth","dotArtWidth","getContext","currentDotArt","saveCanvasToDisk","blob","fileExtension","saveAs","random","toString","replace","substr","saveFileDotArt","dotArtData","durationInMillisecond","createElement","gif","GIFEncoder","pipe","blobStream","on","this","toBlob","setRepeat","setDispose","writeHeader","previousInterval","dotAryArray","currentInterval","delay","setDelay","addFrame","finish","DownLoadDialogContainer","closeButton","Dialog","withStyles","paperScrollPaper","MuiDialog","DialogContent","overflow","MuiDialogContent","Dialogs","handleCloseDialog","present","handleClose","fullWidth","maxWidth","DialogTitle","dividers","join","CustomDiv","active","disabled","IntervalInput","input","handleChangeIdx","handleCopyDotArt","handleRemoveDotArt","handleChangeInterval","lastIndex","aniInterval","setAniInterval","useEffect","onChangeInput","onBlurHandle","draggableId","provided","ref","innerRef","draggableProps","dragHandleProps","fontSize","onBlur","step","DotListDiv","ScrollCustom","handleAddDotArt","handleReorderDotList","onDragEnd","result","destination","source","droppableId","droppableProps","placeholder","ButtonBox","zoomIn","InputStyle","handleOpenDialog","handelChangePixelSize","play","setPlay","setZoomIn","DotStyled","dotColor","rowIdx","columnIdx","onMouseDownHandler","onMouseUpHandler","onMouseOverHandler","onContextMenu","preventDefault","onMouseDown","onMouseOver","onMouseUp","dotLine","dotLineIdx","DotPaintWrapper","DotPaintBlock","DotPaint","onChangePaintState","onDotActionHandle","onTouchStartHandler","onTouchMoveHandler","dotIdx","onMouseLeave","onTouchStart","onTouchEnd","DOT","changePaintTool","paintTool","changePaintState","paintState","selectedPaintTool","DEFAULT_PALETTE","nick","selectData","insertColor","deleteColor","changeNick","newNick","insertPalette","deletePalette","paletteSet","randomColor","arrayLength","resultArr","find","authSaga","SIGNUP","SIGNUP_SUCCESS","SIGNUP_FAILURE","LOGIN","LOGIN_SUCCESS","LOGIN_FAILURE","changeField","form","initializeForm","resetError","signup","password","login","signupSaga","loginSaga","passwordConfirm","auth","authError","rootSaga","dotActions","combineDotArt","combineReducers","combineReducer","undoable","limit","ignoreInitialState","floodFill","dotId","auxId","cellCollection","dotActionsHandler","paintToolState","paletteColor","selectedDotId","newDotArt","currentId","adjacents","adjacentId","adjacentColor","queue","shift","indexOf","bucketDotArt","returnDotArt","j","existedColor","colorIdx","crossSilceReducer","all","rootReducer","intermediateState","DotpaintContainer","PaintToolBlock","onChangePaintTool","PaintToolContainer","NickBox","NickInput","NickButton","NickBlock","paletteNick","onChangeNick","onDeletePalette","setNick","Cell","odd","AddIcon","RiAddLine","onSelectColor","onDeleteColor","onInsertColor","onDoubleClick","PaletteWrapper","PaletteBody","PaletteBlock","PaletteSet","AddPaletteButton","onInsertPalette","count","Palettes","PaletteContainer","ColorBlock","Color","backgroundColor","ColorPickerBlock","Cover","onChangeColor","setColor","localColor","setLocalColor","displayColorPicker","setDisplayColorPicker","disableAlpha","pick","hex","BorderBox","BorderRangeBar","BorderControl","borderSize","onSizeChange","min","max","DotBorderContainer","borderColor","DotSizeBlock","DotSizeRangeBar","DotSizeChanger","DotSizeContainer","handleOnChange","DotAreaBlock","AreaInput","onChangeArea","dotClear","setRowCount","setColumnCount","DotAreaContainer","handleDotClear","ColorCell","PaletteCell","cellIdx","handleSelectColorCell","PaletteDragHandle","DraggBlock","customStyle","snapshot","smallThenDragIdx","isDragging","transform","Palette","isDropDisabled","isDraggingOver","background","TrashCanWrapper","displayBool","TrashCanBlock","TrashCan","dragType","TempBlockCell","TempBlockDiv","TempBlock","DraggablePaletteBlock","CloneBlock","TrashBlock","handleReorderPalettes","handleReorderCell","handleMovePaletteToTrashCan","handleMoveCellToTrashCan","handleMoveCellFromTrashCan","setDragIdx","setDragType","onBeforeDragStart","onBeforeCapture","substring","renderClone","TabPanel","other","role","hidden","aria-labelledby","Box","p","a11yProps","bottom","BottomTools","setValue","Tabs","event","newValue","indicatorColor","textColor","Tab","axis","onChangeIndex","dir","BottomToolsContainer","RedoUndoBlock","UndoRedo","undoHandle","redoHandle","UndoRedoContainer","ActionCreators","undo","redo","SaveLoadBlock","SaveLoad","newProjectHandler","saveHandler","loadHandler","downLoadHandler","saveDotArtData","saveDotArtToStorage","KeyBindings","keyCombinations","unsubscribe","tinykeys","KeyBindingsContainer","MainWrapper","LeftToolBox","RightToolBox","DotArtPage","PalettesContainer","DotPaintContainer","match","component","exact","marginTop","paddingTop","paddingBottom","flexDirection","main","margin","submit","titleMap","Transition","forwardRef","Slide","onSubmit","validError","userAuthError","onResetAuthError","TransitionComponent","aria-describedby","DialogContentText","DialogActions","Container","Paper","noValidate","required","helperText","autoFocus","InputProps","endAdornment","InputAdornment","startIcon","Grid","item","xs","Link","setValidError","setUserAuthError","status","newError","LoginPage","SignUpPage","createMuiTheme","light","dark","contrastText","secondary","App","ThemeProvider","maxSnack","anchorOrigin","vertical","horizontal","IndexPage","MainPage","render","location","pathname","Boolean","hostname","sagaMiddleware","createSagaMiddleware","store","createStore","applyMiddleware","run","ReactDOM","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.796f0365.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\nimport clsx from 'clsx';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport { withRouter } from 'react-router-dom';\r\nimport GridOnIcon from '@material-ui/icons/GridOn';\r\nimport ShareIcon from '@material-ui/icons/Share';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n    whiteSpace: 'nowrap',\r\n  },\r\n  drawerOpen: {\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerClose: {\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    overflowX: 'hidden',\r\n    width: theme.spacing(7),\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  hide: {\r\n    display: 'none',\r\n  },\r\n  toolbar: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    padding: theme.spacing(0, 1),\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n  },\r\n  content: {\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    flexGrow: 1,\r\n    padding: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nconst Header = ({ window, children, path, history, user, onLogout }) => {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [mobileOpen, setMobileOpen] = useState(false);\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleDrawerToggle = () => {\r\n    setMobileOpen(!mobileOpen);\r\n  };\r\n\r\n  const drawer = (\r\n    <div>\r\n      <Divider />\r\n      <Divider />\r\n      <List>\r\n        <ListItem\r\n          button\r\n          key={'dot'}\r\n          onClick={() => history.push(`${path}/dot`)}\r\n        >\r\n          <ListItemIcon>\r\n            <GridOnIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary={'DotArt'} />\r\n        </ListItem>\r\n        <ListItem\r\n          button\r\n          key={'community'}\r\n          onClick={() => history.push(`${path}/community`)}\r\n        >\r\n          <ListItemIcon>\r\n            <ShareIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary={'Community'} />\r\n        </ListItem>\r\n      </List>\r\n      <Divider />\r\n    </div>\r\n  );\r\n\r\n  const container =\r\n    window !== undefined ? () => window().document.body : undefined;\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar\r\n        position=\"fixed\"\r\n        className={clsx(classes.appBar, {\r\n          [classes.appBarShift]: open,\r\n        })}\r\n      >\r\n        <Toolbar>\r\n          <Hidden smUp implementation=\"css\">\r\n            <IconButton\r\n              color=\"inherit\"\r\n              aria-label=\"open drawer\"\r\n              edge=\"start\"\r\n              onClick={handleDrawerToggle}\r\n              className={classes.menuButton}\r\n            >\r\n              <MenuIcon />\r\n            </IconButton>\r\n          </Hidden>\r\n          <Hidden xsDown implementation=\"css\">\r\n            <IconButton\r\n              color=\"inherit\"\r\n              aria-label=\"open drawer\"\r\n              onClick={handleDrawerOpen}\r\n              edge=\"start\"\r\n              className={clsx(classes.menuButton, {\r\n                [classes.hide]: open,\r\n              })}\r\n            >\r\n              <MenuIcon />\r\n            </IconButton>\r\n          </Hidden>\r\n          <Typography variant=\"h6\" className={classes.title} noWrap>\r\n            Dot Art\r\n          </Typography>\r\n          {user ? (\r\n            <>\r\n              <Typography variant=\"h6\">{user.username}</Typography>\r\n              <Button color=\"inherit\" onClick={onLogout}>\r\n                Logout\r\n              </Button>\r\n            </>\r\n          ) : (\r\n            <Button color=\"inherit\" onClick={() => history.push('/login')}>\r\n              Login\r\n            </Button>\r\n          )}\r\n        </Toolbar>\r\n      </AppBar>\r\n\r\n      <Hidden smUp implementation=\"css\">\r\n        <Drawer\r\n          container={container}\r\n          variant=\"temporary\"\r\n          anchor=\"left\"\r\n          open={mobileOpen}\r\n          onClose={handleDrawerToggle}\r\n          classes={{\r\n            paper: classes.drawerPaper,\r\n          }}\r\n          ModalProps={{\r\n            keepMounted: true,\r\n          }}\r\n        >\r\n          {drawer}\r\n        </Drawer>\r\n      </Hidden>\r\n\r\n      <Hidden xsDown implementation=\"css\">\r\n        <Drawer\r\n          variant=\"permanent\"\r\n          className={clsx(classes.drawer, {\r\n            [classes.drawerOpen]: open,\r\n            [classes.drawerClose]: !open,\r\n          })}\r\n          classes={{\r\n            paper: clsx({\r\n              [classes.drawerOpen]: open,\r\n              [classes.drawerClose]: !open,\r\n            }),\r\n          }}\r\n        >\r\n          <div className={classes.toolbar}>\r\n            <IconButton onClick={handleDrawerClose}>\r\n              {theme.direction === 'rtl' ? (\r\n                <ChevronRightIcon />\r\n              ) : (\r\n                <ChevronLeftIcon />\r\n              )}\r\n            </IconButton>\r\n          </div>\r\n          {drawer}\r\n        </Drawer>\r\n      </Hidden>\r\n      <main className={classes.content}>\r\n        <div className={classes.toolbar} />\r\n        {children}\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(withRouter(Header));\r\n","import axios from 'axios';\r\n\r\nconst client = axios.create();\r\n\r\n// client.defaults.baseURL = 'http://localhost:4000/';\r\n\r\n// 요청 전 헤더에 토큰을 실어주기 위한 인터셉터\r\nclient.interceptors.request.use(function (config) {\r\n  try {\r\n    const user = localStorage.getItem('access_token');\r\n    if (user) config.headers.common['Authorization'] = `Bearer ${user}`;\r\n  } catch (err) {\r\n    console.log('localStorage is not working');\r\n  }\r\n  return config;\r\n});\r\n\r\n// 응답 인터셉터\r\nclient.interceptors.response.use(\r\n  (response) => {\r\n    // 요청 성공\r\n    // console.log(response);\r\n    return response;\r\n  },\r\n  (error) => {\r\n    // 요청 실패\r\n    // console.log(error);\r\n    return Promise.reject(error);\r\n  },\r\n);\r\n\r\nexport default client;\r\n","import client from './client';\r\n\r\n// 로그인\r\nexport const login = ({ username, password }) =>\r\n  client.post('/api/auth/login', { username, password });\r\n\r\n// 로그아웃\r\nexport const logout = () => client.post('/api/auth/logout');\r\n\r\n// 회원가입\r\nexport const signup = ({ username, password }) =>\r\n  client.post('/api/auth/signup', { username, password });\r\n\r\n// 상태 확인\r\nexport const check = () => client.get('/api/auth/check');\r\n","import { createAction, handleActions } from 'redux-actions';\r\n\r\nconst START_LOADING = 'loading/START_LOADING';\r\nconst FINISH_LOADING = 'loading/FINISH_LOADING';\r\n\r\nexport const startLoading = createAction(\r\n  START_LOADING,\r\n  (requestType) => requestType,\r\n);\r\n\r\nexport const finishLoading = createAction(\r\n  FINISH_LOADING,\r\n  (requestType) => requestType,\r\n);\r\n\r\nconst initialState = {};\r\n\r\nconst loading = handleActions(\r\n  {\r\n    [START_LOADING]: (state, action) => ({\r\n      ...state,\r\n      [action.payload]: true,\r\n    }),\r\n    [FINISH_LOADING]: (state, action) => ({\r\n      ...state,\r\n      [action.payload]: false,\r\n    }),\r\n  },\r\n  initialState,\r\n);\r\n\r\nexport default loading;\r\n","import { call, put } from 'redux-saga/effects';\r\nimport { startLoading, finishLoading } from '../modules/loading';\r\n\r\nexport const createRequestActionTypes = (type) => {\r\n  const SUCCESS = `${type}_SUCCESS`;\r\n  const FAILURE = `${type}_FAILURE`;\r\n  return [type, SUCCESS, FAILURE];\r\n};\r\n\r\nexport default function createRequestSaga(type, request) {\r\n  const SUCCESS = `${type}_SUCCESS`;\r\n  const FAILURE = `${type}_FAILURE`;\r\n\r\n  return function* (action) {\r\n    yield put(startLoading(type)); // 로딩 시작\r\n    try {\r\n      const response = yield call(request, action.payload);\r\n      yield put({\r\n        type: SUCCESS,\r\n        payload: response.data,\r\n      });\r\n    } catch (e) {\r\n      yield put({\r\n        type: FAILURE,\r\n        payload: e,\r\n        error: true,\r\n      });\r\n    }\r\n    yield put(finishLoading(type)); // 로딩 끝\r\n  };\r\n}\r\n","import { createAction, handleActions } from 'redux-actions';\r\nimport { takeLatest, call } from 'redux-saga/effects';\r\nimport * as authAPI from '../lib/auth';\r\nimport createRequestSaga, {\r\n  createRequestActionTypes,\r\n} from '../lib/createRequestSaga';\r\n\r\nconst TEMP_SET_USER = 'user/TEMP_SET_USER';\r\nconst [CHECK, CHECK_SUCCESS, CHECK_FAILURE] = createRequestActionTypes(\r\n  'user/CHECK',\r\n);\r\nconst LOGOUT = 'user/LOGOUT';\r\n\r\nexport const tempSetUser = createAction(TEMP_SET_USER, (user) => user);\r\nexport const check = createAction(CHECK);\r\nexport const logout = createAction(LOGOUT);\r\n\r\nconst checkSaga = createRequestSaga(CHECK, authAPI.check);\r\n\r\nfunction checkFailureSaga() {\r\n  try {\r\n    localStorage.removeItem('dotArt_user');\r\n  } catch (e) {\r\n    console.log('localStorage is not working!');\r\n  }\r\n}\r\n\r\nfunction* logoutSaga() {\r\n  try {\r\n    yield call(authAPI.logout);\r\n    localStorage.removeItem('dotArt_user');\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n}\r\n\r\nexport function* userSaga() {\r\n  yield takeLatest(CHECK, checkSaga);\r\n  yield takeLatest(CHECK_FAILURE, checkFailureSaga);\r\n  yield takeLatest(LOGOUT, logoutSaga);\r\n}\r\n\r\nconst initialState = {\r\n  user: null,\r\n  checkError: null,\r\n};\r\n\r\nexport default handleActions(\r\n  {\r\n    [TEMP_SET_USER]: (state, { payload: user }) => ({\r\n      ...state,\r\n      user,\r\n    }),\r\n    [CHECK_SUCCESS]: (state, { payload: user }) => ({\r\n      ...state,\r\n      user,\r\n      checkError: null,\r\n    }),\r\n    [CHECK_FAILURE]: (state, { payload: error }) => ({\r\n      ...state,\r\n      user: null,\r\n      checkError: error,\r\n    }),\r\n    [LOGOUT]: (state) => ({\r\n      ...state,\r\n      user: null,\r\n    }),\r\n  },\r\n  initialState,\r\n);\r\n","import React, { useCallback } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Header from '../../components/header/Header';\r\nimport { logout } from '../../modules/user';\r\n\r\nconst HeaderContainer = ({ children, path }) => {\r\n  const dispatch = useDispatch();\r\n  // const { user } = useSelector(({ present }) => ({ user: present.user.user }));\r\n  const { user } = useSelector(({ user }) => ({ user: user.user }));\r\n  const onLogout = useCallback(() => {\r\n    dispatch(logout());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <Header\r\n      window={document.window}\r\n      path={path}\r\n      user={user}\r\n      onLogout={onLogout}\r\n    >\r\n      {children}\r\n    </Header>\r\n  );\r\n};\r\n\r\nexport default React.memo(HeaderContainer);\r\n","// import { getImageData, getAnimationKeyframes } from 'box-shadow-pixels';\r\n\r\nexport const generatePixelDrawCss = (grid, columns, cellSize, type) => {\r\n  return getImageData(grid, {\r\n    format: type,\r\n    pSize: cellSize,\r\n    c: columns,\r\n  });\r\n};\r\n\r\nexport function generateAnimationCSSData(frames, columns, cellSize) {\r\n  return getAnimationKeyframes(frames, {\r\n    pSize: cellSize,\r\n    c: columns,\r\n  });\r\n}\r\n\r\nexport var getImageData = function getImageData(grid, opt) {\r\n  grid = grid.flat();\r\n  var xCoord = function xCoord(i) {\r\n    return (i % opt.c) * opt.pSize + opt.pSize;\r\n  };\r\n  var yCoord = function yCoord(i) {\r\n    return parseInt(i / opt.c, 10) * opt.pSize + opt.pSize;\r\n  };\r\n  var blurRadius = opt.blurRadius ? ''.concat(opt.blurRadius, 'px') : 0;\r\n  var spreadRadius = opt.spreadRadius ? ''.concat(opt.spreadRadius, 'px') : 0;\r\n  switch (opt.format) {\r\n    case 'array': {\r\n      return grid.reduce(function (bsArray, color, i) {\r\n        if (color !== '') {\r\n          bsArray.push({\r\n            x: xCoord(i),\r\n            y: yCoord(i),\r\n            color: color,\r\n            blurRadius: blurRadius,\r\n            spreadRadius: spreadRadius,\r\n          });\r\n        }\r\n        return bsArray;\r\n      }, []);\r\n    }\r\n    default: {\r\n      return grid\r\n        .reduce(function (bsString, color, i) {\r\n          if (color !== '') {\r\n            return ''\r\n              .concat(bsString, ' ')\r\n              .concat(xCoord(i), 'px ')\r\n              .concat(yCoord(i), 'px ')\r\n              .concat(blurRadius, ' ')\r\n              .concat(spreadRadius, ' ')\r\n              .concat(color, ',');\r\n          }\r\n          return bsString;\r\n        }, '')\r\n        .slice(1, -1);\r\n    }\r\n  }\r\n};\r\nexport var getAnimationKeyframes = function getAnimationKeyframes(frames, opt) {\r\n  var intervalData = generateAnimationIntervals(frames);\r\n  var result = frames.reduce(function (acc, frame, index) {\r\n    var intervalAcc = acc;\r\n    try {\r\n      var grid = frame.dot || frame.get('dot') || 0;\r\n      if (grid) {\r\n        var currentBoxShadow = getImageData(grid, {\r\n          pSize: opt.pSize,\r\n          c: opt.c,\r\n        });\r\n        var minValue = index === 0 ? 0 : intervalData[index] + 0.01;\r\n        var maxValue = intervalData[index + 1];\r\n        intervalAcc[''.concat(minValue, '%, ').concat(maxValue, '%')] = {\r\n          boxShadow: ''\r\n            .concat(currentBoxShadow, ';height: ')\r\n            .concat(opt.pSize, 'px; width: ')\r\n            .concat(opt.pSize, 'px;'),\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.error(\r\n        'Input data error: Each frame object must contain a grid value',\r\n      );\r\n    }\r\n    return intervalAcc;\r\n  }, {});\r\n  return result;\r\n};\r\nexport var generateAnimationIntervals = function generateAnimationIntervals(\r\n  frames,\r\n) {\r\n  return frames.reduce(\r\n    function (acc, frame) {\r\n      try {\r\n        var interval = frame.interval || frame.get('interval') || 0;\r\n        acc.push(parseFloat(interval));\r\n      } catch (e) {\r\n        console.error(\r\n          'Input data error: Each frame object must contain an interval value',\r\n        );\r\n      }\r\n      return acc;\r\n    },\r\n    [0],\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { keyframes } from 'styled-components';\r\nimport shortid from 'shortid';\r\n\r\nconst Animation = (props) => {\r\n  const { boxShadow, duration } = props;\r\n  const name = `anim-${shortid.generate()}`;\r\n  const keyframeName = `${name}`;\r\n  const keyframeRules = keyframes`${boxShadow}`.rules;\r\n  const style = {\r\n    position: 'absolute',\r\n    animation: `x ${duration}s infinite`,\r\n    animationName: keyframeName,\r\n  };\r\n  const animString = `@keyframes ${keyframeName} {${keyframeRules}}`;\r\n  return (\r\n    <div>\r\n      <div className=\"animation-container\" style={style} />\r\n      <style>{animString}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Animation;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport {\r\n  generateAnimationCSSData,\r\n  generatePixelDrawCss,\r\n} from '../../util/cssParser';\r\nimport Animation from './Animation';\r\n\r\nconst PreViewWrapper = styled.div.attrs(({ cellSize, cssString }) => ({\r\n  style: {\r\n    height: cellSize + 'px',\r\n    width: cellSize + 'px',\r\n    boxShadow: cssString,\r\n    MozBoxShadow: cssString,\r\n    WebkitBoxShadow: cssString,\r\n    // top: `-${cellSize}px`,\r\n    // left: `-${cellSize}px`,\r\n  },\r\n}))`\r\n  position: absolute;\r\n`;\r\n\r\nconst Preview = ({ dotSet, dotList, column, size, animation, duration }) => {\r\n  const cellSize = typeof size === 'string' ? parseFloat(size) : size;\r\n\r\n  const generatePreview = () => {\r\n    const columns = column;\r\n    // const cellSize = typeof size === 'string' ? parseFloat(size) : size;\r\n    let cssString;\r\n    let animationData;\r\n\r\n    if (animation) {\r\n      animationData = generateAnimationCSSData(dotList, columns, cellSize);\r\n      return (\r\n        <React.Fragment>\r\n          <Animation boxShadow={animationData} duration={duration} />\r\n        </React.Fragment>\r\n      );\r\n    } else {\r\n      cssString = generatePixelDrawCss(dotSet, columns, cellSize, 'string');\r\n\r\n      return <PreViewWrapper cssString={cssString} cellSize={cellSize} />;\r\n    }\r\n  };\r\n\r\n  const style = {\r\n    position: 'relative',\r\n    top: `-${cellSize}px`,\r\n    left: `-${cellSize}px`,\r\n  };\r\n\r\n  return (\r\n    <div className=\"preview\" style={style}>\r\n      {generatePreview()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(Preview);\r\n","import React from 'react';\r\nimport styled, { css } from 'styled-components';\r\n\r\nconst CustomButtonStyled = styled.button`\r\n  font-size: 20px;\r\n  color: #6e6e6e;\r\n  ${(props) =>\r\n    props.baseColor &&\r\n    css`\r\n      background: ${props.baseColor};\r\n      color: #fff;\r\n    `}\r\n  width: ${(props) => (props.width ? `${props.width}px` : `100%`)};\r\n  height: ${(props) => (props.height ? `${props.height}px` : `auto`)};\r\n  border: 1px solid #225ea7;\r\n  outline: none;\r\n  border-radius: 0.5rem;\r\n  text-align: center;\r\n  box-shadow: 0 0.3rem #999;\r\n  transition: all 0.05s ease-in-out;\r\n  &:hover {\r\n    color: #fff;\r\n    background: ${(props) => (props.color ? `${props.color}` : `skyblue`)};\r\n  }\r\n  &:active {\r\n    color: #fff;\r\n    background: ${(props) => (props.color ? `${props.color}` : `skyblue`)};\r\n    box-shadow: 0 0.1rem #666;\r\n    transform: translateY(4px);\r\n  }\r\n\r\n  ${(props) =>\r\n    props.selected === true &&\r\n    css`\r\n      color: #fff;\r\n      background: ${(props) =>\r\n        props.selectColor ? `${props.selectColor}` : `skyblue`};\r\n      box-shadow: 0 0.1rem #666;\r\n      transform: translateY(4px);\r\n    `}\r\n  & + & {\r\n    margin-left: 5px;\r\n  }\r\n`;\r\n\r\nconst CustomButton = ({ children, ...rest }) => {\r\n  return <CustomButtonStyled {...rest}>{children}</CustomButtonStyled>;\r\n};\r\n\r\nexport default CustomButton;\r\n","import React, { useState } from 'react';\r\nimport Preview from '../common/Preview';\r\nimport CustomButton from '../common/CustomButton';\r\nimport styled from 'styled-components';\r\nimport { MdPlayArrow, MdPause } from 'react-icons/md';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  height: 100%;\r\n`;\r\n\r\nconst ButtonWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  margin-bottom: 8px;\r\n  & > * {\r\n    margin: 8px;\r\n    max-width: 160px;\r\n  }\r\n`;\r\n\r\nconst PreviewScrollWrapper = styled.div`\r\n  overflow: auto;\r\n  max-width: 100%;\r\n  max-height: 100%;\r\n`;\r\n\r\nconst PreviewBlock = styled.div.attrs(\r\n  ({ pixelSize, columnCount, rowCount }) => ({\r\n    style: {\r\n      width: `${columnCount * pixelSize}px`,\r\n      height: `${rowCount * pixelSize}px`,\r\n    },\r\n  }),\r\n)`\r\n  margin-top: 8px;\r\n`;\r\n\r\nconst PreviewDialog = ({\r\n  dot,\r\n  handleChangeAnimationDuration,\r\n  handleChangePixelSize,\r\n}) => {\r\n  const {\r\n    dotList,\r\n    activeIdx,\r\n    rowCount,\r\n    columnCount,\r\n    animationDuration,\r\n    pixelSize,\r\n  } = dot;\r\n  const [animation, setAnimation] = useState(false);\r\n  const toggleAnimation = () => {\r\n    setAnimation(!animation);\r\n  };\r\n\r\n  const onChangePixelSize = (e) => {\r\n    handleChangePixelSize(e.target.value);\r\n  };\r\n\r\n  const onChangeAnimationDuration = (e) => {\r\n    setAnimation(false);\r\n    if (e.target.value <= 0 || e.target.value === '') {\r\n      handleChangeAnimationDuration(0);\r\n    } else {\r\n      handleChangeAnimationDuration(e.target.value);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <ButtonWrapper>\r\n        <TextField\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n          type=\"number\"\r\n          label=\"Duration\"\r\n          value={animationDuration}\r\n          onChange={(e) => onChangeAnimationDuration(e)}\r\n        />\r\n        <TextField\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n          type=\"number\"\r\n          label=\"PixelSize\"\r\n          value={pixelSize}\r\n          onChange={(e) => onChangePixelSize(e)}\r\n        />\r\n        <CustomButton\r\n          onClick={toggleAnimation}\r\n          selected={animation}\r\n          selectColor=\"#f05556\"\r\n          color={animation ? '#b71b2d' : '#008000'}\r\n          width=\"40\"\r\n          height=\"40\"\r\n          baseColor=\"#3db12a\"\r\n        >\r\n          {animation ? <MdPause /> : <MdPlayArrow />}\r\n        </CustomButton>\r\n      </ButtonWrapper>\r\n      <PreviewScrollWrapper>\r\n        <PreviewBlock\r\n          pixelSize={pixelSize}\r\n          columnCount={columnCount}\r\n          rowCount={rowCount}\r\n        >\r\n          <Preview\r\n            dotSet={dotList[activeIdx].dot}\r\n            dotList={dotList}\r\n            column={columnCount}\r\n            size={pixelSize}\r\n            animation={animation}\r\n            duration={animationDuration}\r\n          />\r\n        </PreviewBlock>\r\n      </PreviewScrollWrapper>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default PreviewDialog;\r\n","import { createAction, handleActions } from 'redux-actions';\r\nimport produce from 'immer';\r\nimport shortid from 'shortid';\r\n\r\nconst CLEAR_DOT = 'dot/CLEAR_DOT';\r\nconst NEW_DOT_ART_PROJECT = 'dot/NEW_DOT_ART_PROJECT';\r\nconst LOAD_DOT_ART = 'dot/LOAD_DOT_ART';\r\nconst CHANGE_DOT_BORDER_SIZE = 'dot/CHANGE_DOT_BORDER_SIZE';\r\nconst CHANGE_DOT_BORDER_COLOR = 'dot/CHANGE_DOT_BORDER_COLOR';\r\nconst CHANGE_DOT_SIZE = 'dot/CHANGE_DOT_SIZE';\r\nconst CHANGE_DOT_AREA = 'dot/CHANGE_DOT_AREA';\r\nconst CHANGE_ACTIVE_IDX = 'dot/CHANGE_ACTIVE_IDX';\r\nconst REMOVE_ACTIVE_DOT_ART = 'dot/REMOVE_ACTIVE_DOT_ART';\r\nconst COPY_ACTIVE_DOT_ART = 'dot/COPY_ACTIVE_DOT_ART';\r\nconst ADD_NEW_DOT_ART = 'dot/ADD_NEW_DOT_ART';\r\nconst CHANGE_ANIMATION_INTERVAL = 'dot/CHANGE_ANIMATION_INTERVAL';\r\nconst CHANGE_ANIMATION_DURATION = 'dot/CHANGE_ANIMATION_DURATION';\r\nconst CHANGE_PIXEL_SIZE = 'dot/CHANGE_PIXEL_SIZE';\r\nconst REORDER_DOT_LIST = 'dot/REORDER_DOT_LIST';\r\n\r\n// initialState\r\nexport const INITIAL_ROW = 8;\r\nexport const INITIAL_COLUMN = 8;\r\nexport const INITIAL_DOT_DOTSIZE = 1;\r\nexport const INITIAL_DOT_COLOR = '#f0f0f0';\r\nexport const INITIAL_DOT_BORDER = { size: 0.5, color: '#d0d0fc' };\r\n\r\nexport const clearDot = createAction(CLEAR_DOT);\r\nexport const newDotArtProject = createAction(NEW_DOT_ART_PROJECT);\r\nexport const loadDotArt = createAction(\r\n  LOAD_DOT_ART,\r\n  (loadedData) => loadedData,\r\n);\r\nexport const changeDotBorderSize = createAction(\r\n  CHANGE_DOT_BORDER_SIZE,\r\n  (size) => size,\r\n);\r\nexport const changeDotBorderColor = createAction(\r\n  CHANGE_DOT_BORDER_COLOR,\r\n  (color) => color,\r\n);\r\nexport const changeDotSize = createAction(\r\n  CHANGE_DOT_SIZE,\r\n  (dotSize) => dotSize,\r\n);\r\nexport const changeDotArea = createAction(\r\n  CHANGE_DOT_AREA,\r\n  ({ newRow, newColumn }) => ({ newRow, newColumn }),\r\n);\r\nexport const changeActiveIdx = createAction(CHANGE_ACTIVE_IDX, (idx) => idx);\r\nexport const removeActiveDotArt = createAction(\r\n  REMOVE_ACTIVE_DOT_ART,\r\n  (idx) => idx,\r\n);\r\nexport const copyActiveDotArt = createAction(COPY_ACTIVE_DOT_ART, (idx) => idx);\r\nexport const addNewDotArt = createAction(ADD_NEW_DOT_ART);\r\nexport const changeAnimationInterval = createAction(\r\n  CHANGE_ANIMATION_INTERVAL,\r\n  (interval, activeIdx) => ({ interval, activeIdx }),\r\n);\r\nexport const changeAnimationDuration = createAction(\r\n  CHANGE_ANIMATION_DURATION,\r\n  (duration) => duration,\r\n);\r\nexport const changePixelSize = createAction(\r\n  CHANGE_PIXEL_SIZE,\r\n  (pixelSize) => pixelSize,\r\n);\r\nexport const reorderDotList = createAction(\r\n  REORDER_DOT_LIST,\r\n  ({ startIdx, endIdx }) => ({ startIdx, endIdx }),\r\n);\r\n\r\n// const defaultDotMaker = (row, column) => {\r\n//   return new Array(row * column).fill('');\r\n// };\r\n\r\nconst defaultDotMaker = (row, column) => {\r\n  return new Array(column).fill().map(() => new Array(row).fill('#ffffff'));\r\n};\r\n\r\nconst initialState = {\r\n  // ...exampleCat,\r\n  dotList: [\r\n    {\r\n      id: shortid.generate(),\r\n      dot: defaultDotMaker(INITIAL_ROW, INITIAL_COLUMN),\r\n      interval: 100,\r\n    },\r\n  ],\r\n  border: INITIAL_DOT_BORDER,\r\n  dotSize: INITIAL_DOT_DOTSIZE,\r\n  columnCount: INITIAL_COLUMN,\r\n  rowCount: INITIAL_ROW,\r\n  animationDuration: 2,\r\n  activeIdx: 0,\r\n  pixelSize: 10,\r\n};\r\n\r\nconst intervalSetter = (dotList) => {\r\n  const quotient = 100 / dotList.length;\r\n  const returnDotList = dotList.map((dotSet, idx) => {\r\n    return {\r\n      ...dotSet,\r\n      interval:\r\n        idx === dotList.length\r\n          ? 100\r\n          : Math.round((idx + 1) * quotient * 100) / 100,\r\n    };\r\n  });\r\n  return returnDotList;\r\n};\r\n\r\nconst dot = handleActions(\r\n  {\r\n    [CLEAR_DOT]: (state) =>\r\n      produce(state, (draft) => {\r\n        draft.dotList[draft.activeIdx].dot = defaultDotMaker(\r\n          draft.rowCount,\r\n          draft.columnCount,\r\n        );\r\n      }),\r\n    [NEW_DOT_ART_PROJECT]: () => ({\r\n      ...initialState,\r\n    }),\r\n    [LOAD_DOT_ART]: (state, { payload: loadedData }) => ({\r\n      ...state,\r\n      activeIdx: 0,\r\n      ...loadedData,\r\n    }),\r\n    [CHANGE_DOT_BORDER_SIZE]: (state, { payload: size }) =>\r\n      produce(state, (draft) => {\r\n        draft.border.size = size;\r\n      }),\r\n    [CHANGE_DOT_BORDER_COLOR]: (state, { payload: color }) =>\r\n      produce(state, (draft) => {\r\n        draft.border.color = color;\r\n      }),\r\n    [CHANGE_DOT_SIZE]: (state, { payload: dotSize }) => ({\r\n      ...state,\r\n      dotSize: dotSize,\r\n    }),\r\n    [CHANGE_DOT_AREA]: (state, { payload: { newRow, newColumn } }) =>\r\n      produce(state, (draft) => {\r\n        const originRow = draft.rowCount;\r\n        const originColumn = draft.columnCount;\r\n\r\n        draft.dotList.map((dotSet) => {\r\n          if (newColumn > originColumn) {\r\n            for (let i = originColumn; i < newColumn; i++) {\r\n              dotSet.dot.map((column) => column.push(''));\r\n            }\r\n          }\r\n\r\n          if (newColumn < originColumn) {\r\n            for (let i = newColumn; i < originColumn; i++) {\r\n              dotSet.dot.map((column) => column.pop());\r\n            }\r\n          }\r\n\r\n          if (newRow > originRow) {\r\n            for (let i = originRow; i < newRow; i++) {\r\n              dotSet.dot.push(new Array(newColumn).fill(''));\r\n            }\r\n          }\r\n\r\n          if (newRow < originRow) {\r\n            for (let i = newRow; i < originRow; i++) {\r\n              dotSet.dot.pop();\r\n            }\r\n          }\r\n        });\r\n        draft.rowCount = newRow;\r\n        draft.columnCount = newColumn;\r\n      }),\r\n    [CHANGE_ACTIVE_IDX]: (state, { payload: idx }) => ({\r\n      ...state,\r\n      activeIdx: idx,\r\n    }),\r\n    [REMOVE_ACTIVE_DOT_ART]: (state, { payload: idx }) =>\r\n      produce(state, (draft) => {\r\n        if (draft.dotList.length === 1) {\r\n          draft.dotList = [\r\n            {\r\n              id: shortid.generate(),\r\n              dot: defaultDotMaker(draft.rowCount, draft.columnCount),\r\n              interval: 100,\r\n            },\r\n          ];\r\n        } else {\r\n          let dotList = draft.dotList;\r\n          let tempDotList = dotList.slice(idx + 1, dotList.length);\r\n\r\n          dotList = dotList.slice(0, idx);\r\n          dotList = dotList.concat(tempDotList);\r\n          draft.dotList = intervalSetter(dotList);\r\n          draft.activeIdx = idx > dotList.length - 1 ? idx - 1 : idx;\r\n        }\r\n      }),\r\n    [COPY_ACTIVE_DOT_ART]: (state, { payload: idx }) =>\r\n      produce(state, (draft) => {\r\n        let dotList = draft.dotList;\r\n        let copyDotArt = {\r\n          ...dotList[idx],\r\n          id: shortid.generate(),\r\n        };\r\n\r\n        let tempDotList = dotList.slice(idx + 1, dotList.length);\r\n        dotList = dotList.slice(0, idx + 1);\r\n        dotList = dotList.concat(copyDotArt);\r\n        dotList = dotList.concat(tempDotList);\r\n        draft.dotList = intervalSetter(dotList);\r\n        draft.activeIdx = idx + 1;\r\n      }),\r\n    [ADD_NEW_DOT_ART]: (state) =>\r\n      produce(state, (draft) => {\r\n        draft.dotList.push({\r\n          id: shortid.generate(),\r\n          dot: defaultDotMaker(draft.rowCount, draft.columnCount),\r\n          interval: 25,\r\n        });\r\n        draft.dotList = intervalSetter(draft.dotList);\r\n        draft.activeIdx = draft.dotList.length - 1;\r\n      }),\r\n    [CHANGE_ANIMATION_INTERVAL]: (\r\n      state,\r\n      { payload: { interval, activeIdx } },\r\n    ) =>\r\n      produce(state, (draft) => {\r\n        const dotList = draft.dotList;\r\n        if (dotList[activeIdx + 1].interval < interval) {\r\n          // 현재 interval이 다음 animation보다 늦어선 안되므로 최대치로 조정해준다\r\n          dotList[activeIdx].interval = dotList[activeIdx + 1].interval;\r\n          return;\r\n        } else {\r\n          if (activeIdx === 0) {\r\n            dotList[activeIdx].interval = interval <= 0 ? 0.1 : interval;\r\n          } else {\r\n            dotList[activeIdx].interval =\r\n              dotList[activeIdx - 1].interval > interval\r\n                ? dotList[activeIdx - 1].interval\r\n                : interval;\r\n          }\r\n        }\r\n      }),\r\n    [CHANGE_ANIMATION_DURATION]: (state, { payload: duration }) => ({\r\n      ...state,\r\n      animationDuration: duration,\r\n    }),\r\n    [CHANGE_PIXEL_SIZE]: (state, { payload: pixelSize }) => ({\r\n      ...state,\r\n      pixelSize: pixelSize,\r\n    }),\r\n    [REORDER_DOT_LIST]: (state, { payload: { startIdx, endIdx } }) =>\r\n      produce(state, (draft) => {\r\n        const intervals = draft.dotList.reduce(\r\n          (acc, cur) => (acc = acc.concat(cur.interval)),\r\n          [],\r\n        );\r\n\r\n        const [removed] = draft.dotList.splice(startIdx, 1);\r\n        draft.dotList.splice(endIdx, 0, removed);\r\n\r\n        // interval 다시 세팅\r\n        intervals.map(\r\n          (interval, idx) => (draft.dotList[idx].interval = interval),\r\n        );\r\n\r\n        const activeIdx = draft.activeIdx;\r\n        // activeIdx 다시 잡아주기\r\n        if (activeIdx === startIdx) {\r\n          draft.activeIdx = endIdx;\r\n        } else if (activeIdx > startIdx) {\r\n          if (activeIdx <= endIdx) {\r\n            draft.activeIdx -= 1;\r\n          }\r\n        } else {\r\n          if (activeIdx >= endIdx) {\r\n            draft.activeIdx += 1;\r\n          }\r\n        }\r\n      }),\r\n  },\r\n  initialState,\r\n);\r\n\r\nexport default dot;\r\n","import React, { useCallback } from 'react';\r\nimport PreviewDialog from '../../components/dialog/PreviewDialog';\r\nimport { changeAnimationDuration, changePixelSize } from '../../modules/dot';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nconst PreviewDialogContainer = ({ dot }) => {\r\n  const dispatch = useDispatch();\r\n  const handleChangeAnimationDuration = useCallback(\r\n    (duration) => {\r\n      dispatch(changeAnimationDuration(duration));\r\n    },\r\n    [dispatch],\r\n  );\r\n  const handleChangePixelSize = useCallback(\r\n    (pixelSize) => {\r\n      dispatch(changePixelSize(pixelSize));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  return (\r\n    <PreviewDialog\r\n      dot={dot}\r\n      handleChangeAnimationDuration={handleChangeAnimationDuration}\r\n      handleChangePixelSize={handleChangePixelSize}\r\n    />\r\n  );\r\n};\r\n\r\nexport default PreviewDialogContainer;\r\n","import React from 'react';\r\nimport CustomButton from '../common/CustomButton';\r\nimport Preview from '../common/Preview';\r\nimport styled from 'styled-components';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  height: 100%;\r\n`;\r\n\r\nconst ButtonWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  margin-bottom: 8px;\r\n  & > * {\r\n    margin: 8px;\r\n    max-width: 160px;\r\n  }\r\n`;\r\n\r\nconst PreviewWrapper = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  & > * {\r\n    margin: 8px;\r\n  }\r\n`;\r\n\r\nconst PreviewBlock = styled.div.attrs(({ size, columnCount, rowCount }) => ({\r\n  style: {\r\n    width: `${columnCount * size}px`,\r\n    height: `${rowCount * size}px`,\r\n  },\r\n}))``;\r\n\r\nconst CardDiv = styled.div`\r\n  background: rgb(255, 255, 255);\r\n  opacity: 1;\r\n  border: solid 1px black;\r\n  box-sizing: border-box;\r\n  display: flex;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst StyleButton = styled.div`\r\n  background: #9e9e9e;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 1.5rem;\r\n  height: 1.5rem;\r\n  font-size: 1rem;\r\n  color: #f0f0f0;\r\n  &:hover {\r\n    background: #6e6e6e;\r\n    color: #fff;\r\n  }\r\n`;\r\n\r\nconst LoadDialog = ({\r\n  loadedData,\r\n  removeDotArtHandle,\r\n  loadDotArtHandle,\r\n  clearStorageHandler,\r\n}) => {\r\n  const onClickRemove = (dotArtIdx, e) => {\r\n    e.stopPropagation();\r\n    removeDotArtHandle(dotArtIdx);\r\n  };\r\n  return (\r\n    <Wrapper>\r\n      <ButtonWrapper>\r\n        <CustomButton onClick={clearStorageHandler}>Clear!</CustomButton>\r\n      </ButtonWrapper>\r\n      <PreviewWrapper>\r\n        {loadedData && loadedData.dotArt.length !== 0 ? (\r\n          loadedData.dotArt.map((dotArt, dotArtIdx) => {\r\n            return (\r\n              <CardDiv\r\n                key={dotArt.dot.id}\r\n                onClick={() => loadDotArtHandle(dotArt)}\r\n              >\r\n                <PreviewBlock\r\n                  size=\"4\"\r\n                  columnCount={dotArt.dot.columnCount}\r\n                  rowCount={dotArt.dot.rowCount}\r\n                  key={dotArt.dot.id}\r\n                >\r\n                  <Preview\r\n                    dotList={dotArt.dot.dotList}\r\n                    column={dotArt.dot.columnCount}\r\n                    size=\"4\"\r\n                    duration={dotArt.dot.animationDuration}\r\n                    key={dotArt.dot.id}\r\n                    animation={true}\r\n                  />\r\n                </PreviewBlock>\r\n                <StyleButton onClick={(e) => onClickRemove(dotArtIdx, e)}>\r\n                  <DeleteIcon />\r\n                </StyleButton>\r\n              </CardDiv>\r\n            );\r\n          })\r\n        ) : (\r\n          <h1>No Save Data</h1>\r\n        )}\r\n      </PreviewWrapper>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default LoadDialog;\r\n","import shortid from 'shortid';\r\n\r\nexport const exampleCat = {\r\n  id: 'example',\r\n  dotList: [\r\n    {\r\n      id: shortid.generate(),\r\n      dot: [[\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffcdd2\", \"#ffffff\", \"#ffffff\", \"#ffcdd2\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\"], [\"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#ffffff\", \"#ffffff\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#ffffff\", \"#ffffff\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\"]], // prettier-ignore\r\n      interval: 25,\r\n    },\r\n    {\r\n      id: shortid.generate(),\r\n      dot: [[\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffcdd2\", \"#ffffff\", \"#ffffff\", \"#ffcdd2\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\"], [\"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#ffffff\", \"#ffffff\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#ffffff\", \"#ffffff\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\"]], // prettier-ignore\r\n      interval: 50,\r\n    },\r\n    {\r\n      id: shortid.generate(),\r\n      dot: [[\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffcdd2\", \"#ffffff\", \"#ffffff\", \"#ffcdd2\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\"], [\"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#ffffff\", \"#ffffff\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#ffffff\", \"#ffffff\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\"]], // prettier-ignore\r\n      interval: 75,\r\n    },\r\n    {\r\n      id: shortid.generate(),\r\n      dot: [[\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffcdd2\", \"#ffffff\", \"#ffffff\", \"#ffcdd2\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffcdd2\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#000000\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#303f46\"], [\"#303f46\", \"#303f46\", \"#303f46\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#ffffff\", \"#303f46\", \"#303f46\"], [\"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#ffffff\", \"#ffffff\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#ffffff\", \"#ffffff\", \"#607d8b\", \"#607d8b\", \"#607d8b\", \"#607d8b\"]], // prettier-ignore\r\n      interval: 100,\r\n    },\r\n  ],\r\n  border: { size: 0.5, color: '#d0d0fc' },\r\n  dotSize: 1,\r\n  columnCount: 16,\r\n  rowCount: 16,\r\n  animationDuration: 2,\r\n};\r\n\r\nexport const examplePalette = [\r\n  {\r\n    id: shortid.generate(),\r\n    colors: ['#393b2d', '#75651a', '#775b1c', '#788260', '#bab887', '#dfd6c5'],\r\n  },\r\n  {\r\n    id: shortid.generate(),\r\n    colors: ['#4b73a4', '#667883', '#937e6a', '#b89d80', '#dadbd6', '#faf9fb'],\r\n  },\r\n  {\r\n    id: shortid.generate(),\r\n    colors: ['#03070a', '#374552', '#3c8999', '#959ea7', '#9ccce3', '#b8cde0'],\r\n  },\r\n  {\r\n    id: shortid.generate(),\r\n    colors: ['#171516', '#303030', '#553634', '#92898c', '#a70d01', '#c4c2c3'],\r\n  },\r\n  {\r\n    id: shortid.generate(),\r\n    colors: ['#1d0e0b', '#393e54', '#5e260d'],\r\n  },\r\n];\r\n","import { exampleCat, examplePalette } from './json-example';\r\n\r\nconst STORAGE_KEY = 'dotArt_storage';\r\n\r\nfunction saveDataToStorage(storage, data) {\r\n  try {\r\n    storage.setItem(STORAGE_KEY, JSON.stringify(data));\r\n    return true;\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport function initialStorage(storage) {\r\n  storage.setItem(\r\n    STORAGE_KEY,\r\n    JSON.stringify({\r\n      dotArt: [\r\n        {\r\n          dot: exampleCat,\r\n          palettes: examplePalette,\r\n        },\r\n      ],\r\n      current: 0,\r\n    }),\r\n  );\r\n}\r\n\r\nexport function clearSavedDotArtFromStorage(storage) {\r\n  storage.removeItem(STORAGE_KEY);\r\n}\r\n\r\nexport function getDataFromStorage(storage) {\r\n  try {\r\n    const data = storage.getItem(STORAGE_KEY);\r\n    return data ? JSON.parse(data) : false;\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport function saveDotArtToStorage(storage, dotArtData) {\r\n  try {\r\n    let storageData = getDataFromStorage(storage);\r\n    if (storageData && storageData.dotArt) {\r\n      storageData.dotArt.push(dotArtData);\r\n      storageData.current = storageData.dotArt.length - 1;\r\n    } else {\r\n      storageData = {\r\n        ...storageData,\r\n        dotArt: [dotArtData],\r\n        current: 0,\r\n      };\r\n    }\r\n    storage.setItem(STORAGE_KEY, JSON.stringify(storageData));\r\n    return true;\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport function removeDotArtFromStorage(storage, dotArtIdx) {\r\n  const storageData = getDataFromStorage(storage);\r\n  if (storageData) {\r\n    let newCurrent = 0;\r\n    storageData.dotArt.splice(dotArtIdx, 1);\r\n    if (storageData.dotArt.length === 0) {\r\n      newCurrent = -1;\r\n    } else if (storageData.current > dotArtIdx) {\r\n      newCurrent = storageData.current - 1;\r\n    }\r\n    storageData.current = newCurrent;\r\n    return saveDataToStorage(storage, storageData);\r\n  }\r\n  return false;\r\n}\r\n","import { createAction, handleActions } from 'redux-actions';\r\nimport { produce } from 'immer';\r\nimport { examplePalette } from '../util/json-example';\r\n\r\nconst LOAD_PALETTES = 'palettes/LOAD_PALETTES';\r\nconst REORDER_PALETTES = 'palettes/REDORDER_PALETTES';\r\nconst REORDER_PALETTE_CELL = 'palettes/REORDER_PALETTE_CELL';\r\nconst MOVE_PALETTE_TO_TRASH_CAN = 'palettes/MOVE_PALETTE_TO_TRASH_CAN';\r\nconst MOVE_CELL_TO_TRASH_CAN = 'palettes/MOVE_CELL_TO_TRASH_CAN';\r\nconst MOVE_CELL_FROM_TRASH_CAN = 'palettes/MOVE_CELL_FROM_TRASH_CAN';\r\nconst SELECT_COLOR_CELL = 'palettes/SELECT_COLOR_CELL';\r\nconst INSERT_NEW_PALETTE = 'palettes/INSERT_NEW_PALETTE';\r\n\r\nexport const loadPalettes = createAction(\r\n  LOAD_PALETTES,\r\n  (loadedData) => loadedData,\r\n);\r\nexport const reorderPalettes = createAction(\r\n  REORDER_PALETTES,\r\n  ({ startIdx, endIdx }) => ({\r\n    startIdx,\r\n    endIdx,\r\n  }),\r\n);\r\nexport const reorderPaletteCell = createAction(\r\n  REORDER_PALETTE_CELL,\r\n  ({ startPaletteId, endPaletteId, startIdx, endIdx }) => ({\r\n    startPaletteId,\r\n    endPaletteId,\r\n    startIdx,\r\n    endIdx,\r\n  }),\r\n);\r\nexport const movePaletteToTrashCan = createAction(\r\n  MOVE_PALETTE_TO_TRASH_CAN,\r\n  ({ dragIdx }) => ({ dragIdx }),\r\n);\r\nexport const moveCellToTrashCan = createAction(\r\n  MOVE_CELL_TO_TRASH_CAN,\r\n  ({ paletteId, dragIdx }) => ({ paletteId, dragIdx }),\r\n);\r\nexport const moveCellFromTrashCan = createAction(\r\n  MOVE_CELL_FROM_TRASH_CAN,\r\n  ({ endPaletteId, startIdx, endIdx }) => ({ endPaletteId, startIdx, endIdx }),\r\n);\r\nexport const selectColorCell = createAction(\r\n  SELECT_COLOR_CELL,\r\n  ({ paletteId, selectIdx }) => ({ paletteId, selectIdx }),\r\n);\r\nexport const insertNewPalette = createAction(INSERT_NEW_PALETTE);\r\n\r\nconst initialState = {\r\n  palettes: examplePalette,\r\n  selectColorId: {\r\n    paletteId: examplePalette[0]['id'],\r\n    colorId: 0,\r\n  },\r\n  trashCan: [],\r\n};\r\n\r\nconst checkTrashCanIsFull = (trashCan) => {\r\n  if (trashCan.length < 30) {\r\n    return trashCan;\r\n  } else {\r\n    return trashCan.splice(0, 30);\r\n  }\r\n};\r\n\r\nconst palettes = handleActions(\r\n  {\r\n    [LOAD_PALETTES]: (state, { payload: loadedData }) => ({\r\n      ...state,\r\n      ...loadedData,\r\n    }),\r\n    [REORDER_PALETTES]: (state, { payload: { startIdx, endIdx } }) =>\r\n      produce(state, (draft) => {\r\n        const [removed] = draft.palettes.splice(startIdx, 1);\r\n        draft.palettes.splice(endIdx, 0, removed);\r\n      }),\r\n    [REORDER_PALETTE_CELL]: (\r\n      state,\r\n      { payload: { startPaletteId, endPaletteId, startIdx, endIdx } },\r\n    ) =>\r\n      produce(state, (draft) => {\r\n        // 같은 palette 내 이동\r\n        if (startPaletteId === endPaletteId) {\r\n          const paletteIdx = draft.palettes.reduce(\r\n            (acc, cur, idx) => (cur.id === endPaletteId ? idx : acc),\r\n            [],\r\n          );\r\n          const [removed] = draft.palettes[paletteIdx].colors.splice(\r\n            startIdx,\r\n            1,\r\n          );\r\n          draft.palettes[paletteIdx].colors.splice(endIdx, 0, removed);\r\n        } else {\r\n          // 다른 palette로 이동\r\n          const color = draft.palettes.reduce(\r\n            (acc, cur) =>\r\n              cur.id === startPaletteId ? cur.colors.splice(startIdx, 1) : acc,\r\n            [],\r\n          );\r\n          draft.palettes.map((palette) =>\r\n            palette.id === endPaletteId\r\n              ? palette.colors.splice(endIdx, 0, color)\r\n              : '',\r\n          );\r\n        }\r\n\r\n        // selectColorId 재설정\r\n        draft.selectColorId = {\r\n          paletteId: endPaletteId,\r\n          colorId: endIdx,\r\n        };\r\n      }),\r\n    [MOVE_PALETTE_TO_TRASH_CAN]: (state, { payload: { dragIdx } }) =>\r\n      produce(state, (draft) => {\r\n        const removed = draft.palettes.splice(dragIdx, 1);\r\n        removed[0].colors.map((color) => draft.trashCan.unshift(color));\r\n        draft.trashCan = checkTrashCanIsFull(draft.trashCan);\r\n\r\n        // selectColorId 재설정\r\n        if (removed[0].id === draft.selectColorId.paletteId) {\r\n          for (let i = 0; i < draft.palettes.length; i++) {\r\n            if (draft.palettes[i].colors.length > 0) {\r\n              draft.selectColorId = {\r\n                paletteId: draft.palettes[i].id,\r\n                colorId: 0,\r\n              };\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }),\r\n    [MOVE_CELL_TO_TRASH_CAN]: (state, { payload: { paletteId, dragIdx } }) =>\r\n      produce(state, (draft) => {\r\n        const selectPalette = draft.palettes.filter(\r\n          (palette) => palette.id === paletteId,\r\n        );\r\n        const color = selectPalette[0].colors.splice(dragIdx, 1);\r\n        draft.trashCan.unshift(color[0]);\r\n        draft.trashCan = checkTrashCanIsFull(draft.trashCan);\r\n\r\n        //  삭제한 셀의 palette에 선택한 셀이 있는지\r\n        if (draft.selectColorId.paletteId === paletteId) {\r\n          if (draft.selectColorId.colorId > dragIdx) {\r\n            // 선택한 셀이 삭제한 셀보다 높으면 하나 낮춰서 위치를 다시 맞춰줌\r\n            draft.selectColorId.colorId--;\r\n          } else {\r\n            // 아니면 length가 0이 됬는지 확인하고 0이면\r\n            // palette에 아무 색이 없으니 selectCell을 초기화해줌\r\n            if (selectPalette[0].colors.length <= 0) {\r\n              for (let i = 0; i < draft.palettes.length; i++) {\r\n                if (draft.palettes[i].colors.length > 0) {\r\n                  draft.selectColorId = {\r\n                    paletteId: draft.palettes[i].id,\r\n                    colorId: 0,\r\n                  };\r\n                  break;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }),\r\n    [MOVE_CELL_FROM_TRASH_CAN]: (\r\n      state,\r\n      { payload: { endPaletteId, startIdx, endIdx } },\r\n    ) =>\r\n      produce(state, (draft) => {\r\n        const color = draft.trashCan.splice(startIdx, 1);\r\n        draft.palettes.map((palette) =>\r\n          palette.id === endPaletteId\r\n            ? palette.colors.splice(endIdx, 0, color[0])\r\n            : '',\r\n        );\r\n        // selectColorId를 살린 셀에 맞춰준다\r\n        draft.selectColorId = {\r\n          paletteId: endPaletteId,\r\n          colorId: endIdx,\r\n        };\r\n      }),\r\n    [SELECT_COLOR_CELL]: (state, { payload: { paletteId, selectIdx } }) => ({\r\n      ...state,\r\n      selectColorId: { paletteId: paletteId, colorId: selectIdx },\r\n    }),\r\n  },\r\n  initialState,\r\n);\r\n\r\nexport default palettes;\r\n","import { createAction, handleActions } from 'redux-actions';\r\n\r\nconst CHANGE_TYPE_AND_OPEN = 'dialog/CHANGE_TYPE_AND_OPEN';\r\nconst CLOSE_DIALOG = 'dialog/CLOSE_DIALOG';\r\n\r\nexport const changeTypeAndOpen = createAction(\r\n  CHANGE_TYPE_AND_OPEN,\r\n  (dialogType) => dialogType,\r\n);\r\nexport const closeDialog = createAction(CLOSE_DIALOG);\r\n\r\nconst initialState = {\r\n  dialogType: '',\r\n  open: false,\r\n};\r\n\r\nconst dialog = handleActions(\r\n  {\r\n    [CHANGE_TYPE_AND_OPEN]: (state, { payload: dialogType }) => ({\r\n      ...state,\r\n      dialogType: dialogType,\r\n      open: true,\r\n    }),\r\n    [CLOSE_DIALOG]: (state) => ({\r\n      ...state,\r\n      open: false,\r\n    }),\r\n  },\r\n  initialState,\r\n);\r\n\r\nexport default dialog;\r\n","import React, { useState, useCallback } from 'react';\r\nimport LoadDialog from '../../components/dialog/LoadDialog';\r\nimport {\r\n  getDataFromStorage,\r\n  removeDotArtFromStorage,\r\n  clearSavedDotArtFromStorage,\r\n} from '../../util/localStorage';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useSnackbar } from 'notistack';\r\nimport { loadDotArt } from '../../modules/dot';\r\nimport { loadPalettes } from '../../modules/palettes';\r\nimport { closeDialog } from '../../modules/dialog';\r\n\r\nconst LoadDialogContainer = () => {\r\n  const dispatch = useDispatch();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const [loadedData, setLoadedData] = useState(\r\n    getDataFromStorage(localStorage),\r\n  );\r\n  const removeDotArtHandle = (dotArtIdx) => {\r\n    removeDotArtFromStorage(localStorage, dotArtIdx);\r\n    setLoadedData(getDataFromStorage(localStorage));\r\n  };\r\n  const loadDotArtHandle = useCallback(\r\n    (loadedData) => {\r\n      dispatch(loadDotArt(loadedData.dot));\r\n      dispatch(loadPalettes(loadedData.palettes));\r\n      dispatch(closeDialog());\r\n      enqueueSnackbar('Load DotArt From LocalStorage', { variant: 'success' });\r\n    },\r\n    [dispatch],\r\n  );\r\n  const clearStorageHandler = () => {\r\n    clearSavedDotArtFromStorage(localStorage);\r\n    setLoadedData(getDataFromStorage(localStorage));\r\n    enqueueSnackbar('Clear DotArt From LocalStorage', { variant: 'success' });\r\n  };\r\n  return (\r\n    <LoadDialog\r\n      loadedData={loadedData}\r\n      removeDotArtHandle={removeDotArtHandle}\r\n      loadDotArtHandle={loadDotArtHandle}\r\n      clearStorageHandler={clearStorageHandler}\r\n    />\r\n  );\r\n};\r\n\r\nexport default LoadDialogContainer;\r\n","import React, { useState } from 'react';\r\nimport Preview from '../common/Preview';\r\nimport CustomButton from '../common/CustomButton';\r\nimport styled from 'styled-components';\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  height: 100%;\r\n`;\r\n\r\nconst ButtonWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  margin-bottom: 8px;\r\n  & > * {\r\n    margin: 8px;\r\n    height: 40px;\r\n    width: 80px;\r\n  }\r\n`;\r\n\r\nconst PreviewScrollWrapper = styled.div`\r\n  overflow: auto;\r\n  max-width: 100%;\r\n  max-height: 100%;\r\n`;\r\n\r\nconst PreviewBlock = styled.div.attrs(\r\n  ({ pixelSize, columnCount, rowCount }) => ({\r\n    style: {\r\n      width: `${columnCount * pixelSize}px`,\r\n      height: `${rowCount * pixelSize}px`,\r\n    },\r\n  }),\r\n)`\r\n  margin-top: 8px;\r\n  margin-bottom: 8px;\r\n`;\r\n\r\nconst DownLoadDialog = ({ dot, saveFileHandler }) => {\r\n  const [type, setType] = useState('single');\r\n  const {\r\n    dotList,\r\n    columnCount,\r\n    rowCount,\r\n    activeIdx,\r\n    pixelSize,\r\n    animationDuration,\r\n  } = dot;\r\n  return (\r\n    <Wrapper>\r\n      <ButtonWrapper>\r\n        <CustomButton\r\n          selected={type === 'single'}\r\n          onClick={() => setType('single')}\r\n        >\r\n          single\r\n        </CustomButton>\r\n        <CustomButton selected={type === 'gif'} onClick={() => setType('gif')}>\r\n          gif\r\n        </CustomButton>\r\n        <CustomButton\r\n          selected={type === 'sprite'}\r\n          onClick={() => setType('sprite')}\r\n        >\r\n          sprite\r\n        </CustomButton>\r\n      </ButtonWrapper>\r\n\r\n      <PreviewScrollWrapper>\r\n        <PreviewBlock\r\n          pixelSize={pixelSize}\r\n          columnCount={columnCount}\r\n          rowCount={rowCount}\r\n        >\r\n          <Preview\r\n            dotSet={dotList[activeIdx].dot}\r\n            dotList={dotList}\r\n            column={columnCount}\r\n            size={pixelSize}\r\n            animation={type === 'gif' ? true : false}\r\n            duration={animationDuration}\r\n          />\r\n        </PreviewBlock>\r\n      </PreviewScrollWrapper>\r\n      <CustomButton\r\n        baseColor=\"#0f0f0f\"\r\n        width=\"160\"\r\n        onClick={() => saveFileHandler(type)}\r\n      >\r\n        download!\r\n      </CustomButton>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default DownLoadDialog;\r\n","import GIFEncoder from 'gif-encoder';\r\nimport blobStream from 'blob-stream';\r\nimport { saveAs } from 'file-saver';\r\n\r\nfunction randomName() {\r\n  return Math.random()\r\n    .toString(36)\r\n    .replace(/[^a-z]+/g, '')\r\n    .substr(0, 8);\r\n}\r\n\r\nfunction fillCanvasWithDotArt(canvas, dotArtInfo) {\r\n  const { dotArt, cols, pixelSize, dotArtHeight, dotArtIdx } = dotArtInfo;\r\n  const ctx = canvas;\r\n  dotArt['dot'].flat().forEach((fillStyle, pixelIdx) => {\r\n    if (!fillStyle) {\r\n      return;\r\n    }\r\n    ctx.fillStyle = fillStyle;\r\n\r\n    const col = pixelIdx % cols;\r\n    const row = Math.floor(pixelIdx / cols);\r\n    ctx.fillRect(\r\n      col * pixelSize,\r\n      row * pixelSize + dotArtHeight * dotArtIdx,\r\n      pixelSize,\r\n      pixelSize,\r\n    );\r\n  });\r\n  return ctx;\r\n}\r\n\r\nfunction renderImageToCanvas(type, canvasInfo, currentDotArtInfo, dotList) {\r\n  const { canvas, canvasHeight, canvasWidth } = canvasInfo;\r\n  const { dotArt, dotArtHeight, dotArtWidth, pixelSize } = currentDotArtInfo;\r\n  const cols = Math.floor(dotArtWidth / pixelSize);\r\n  let ctx = canvas.getContext('2d');\r\n  ctx.canvas.width = canvasWidth;\r\n  ctx.canvas.height = canvasHeight;\r\n  switch (type) {\r\n    case 'spritesheet':\r\n      dotList.forEach((currentDotArt, dotArtIdx) => {\r\n        ctx = fillCanvasWithDotArt(ctx, {\r\n          dotArt: currentDotArt,\r\n          cols,\r\n          pixelSize,\r\n          dotArtHeight,\r\n          dotArtIdx,\r\n        });\r\n      });\r\n      break;\r\n    default:\r\n      ctx = fillCanvasWithDotArt(ctx, {\r\n        dotArt,\r\n        cols,\r\n        pixelSize,\r\n        dotArtHeight,\r\n        dotArtIdx: 0,\r\n      });\r\n      break;\r\n  }\r\n  return ctx.getImageData(0, 0, canvasWidth, canvasHeight).data;\r\n}\r\n\r\nconst saveCanvasToDisk = (blob, fileExtension) => {\r\n  saveAs(blob, `${randomName()}.${fileExtension}`);\r\n};\r\n\r\nconst saveFileDotArt = (type, dotArtData) => {\r\n  const {\r\n    dotList,\r\n    columnCount,\r\n    rowCount,\r\n    animationDuration,\r\n    activeIdx,\r\n    pixelSize,\r\n  } = dotArtData;\r\n\r\n  const durationInMillisecond = animationDuration * 1000;\r\n  const dotArtWidth = columnCount * pixelSize;\r\n  const dotArtHeight = rowCount * pixelSize;\r\n  const canvasWidth = dotArtWidth;\r\n  const canvasHeight =\r\n    type === 'spritesheet' ? dotArtHeight * dotList.length : dotArtHeight;\r\n\r\n  const canvas = document.createElement('canvas');\r\n  const gif = new GIFEncoder(canvasWidth, canvasHeight);\r\n  gif.pipe(blobStream()).on('finish', function () {\r\n    saveCanvasToDisk(this.toBlob(), 'gif');\r\n  });\r\n\r\n  gif.setRepeat(0); // loop indefinitely\r\n  gif.setDispose(3); // restore to previous\r\n  gif.writeHeader();\r\n\r\n  switch (type) {\r\n    case 'single':\r\n    case 'spritesheet':\r\n      renderImageToCanvas(\r\n        type,\r\n        {\r\n          canvas,\r\n          canvasHeight,\r\n          canvasWidth,\r\n        },\r\n        {\r\n          dotArt: dotList[activeIdx],\r\n          dotArtHeight,\r\n          dotArtWidth,\r\n          pixelSize,\r\n        },\r\n        dotList,\r\n      );\r\n      canvas.toBlob(function (blob) {\r\n        saveCanvasToDisk(blob, 'png');\r\n      });\r\n      break;\r\n    default: {\r\n      let previousInterval = 0;\r\n      dotList.forEach((dotArt, idx, dotAryArray) => {\r\n        const isLastDotArt = idx === dotAryArray.length - 1;\r\n        const currentInterval = isLastDotArt ? 100 : dotList[idx]['interval'];\r\n        const diff = currentInterval - previousInterval;\r\n        const delay = diff * 0.01 * durationInMillisecond;\r\n\r\n        gif.setDelay(delay);\r\n        previousInterval = currentInterval;\r\n\r\n        gif.addFrame(\r\n          renderImageToCanvas(\r\n            type,\r\n            {\r\n              canvas,\r\n              canvasHeight,\r\n              canvasWidth,\r\n            },\r\n            {\r\n              dotArt,\r\n              dotArtHeight,\r\n              dotArtWidth,\r\n              pixelSize,\r\n            },\r\n          ),\r\n        );\r\n      });\r\n      gif.finish();\r\n    }\r\n  }\r\n};\r\n\r\nexport default saveFileDotArt;\r\n","import React from 'react';\r\nimport DownLoadDialog from '../../components/dialog/DownLoadDialog';\r\nimport saveFileDotArt from '../../util/saveFileDotArt';\r\n\r\nconst DownLoadDialogContainer = ({ dot }) => {\r\n  const saveFileHandler = (type) => {\r\n    saveFileDotArt(type, dot);\r\n  };\r\n  return <DownLoadDialog dot={dot} saveFileHandler={saveFileHandler} />;\r\n};\r\n\r\nexport default DownLoadDialogContainer;\r\n","import React from 'react';\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport PreviewDialogContainer from '../../containers/dialog/PreviewDialogContainer';\r\nimport LoadDialogContainer from '../../containers/dialog/LoadDialogContainer';\r\nimport DownLoadDialogContainer from '../../containers/dialog/DownLoadDialogContainer';\r\nimport { useSelector } from 'react-redux';\r\nimport MuiDialog from '@material-ui/core/Dialog';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  closeButton: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n}));\r\n\r\n// Dialog 스타일 덮어쓰기 높이 최대로, 안에 Preview 스크롤 생길 수 있게\r\nconst Dialog = withStyles((theme) => ({\r\n  paperScrollPaper: {\r\n    height: `calc(100% - 64px)`,\r\n  },\r\n}))(MuiDialog);\r\n\r\nconst DialogContent = withStyles((theme) => ({\r\n  root: {\r\n    overflow: 'hidden',\r\n    height: '100%',\r\n  },\r\n}))(MuiDialogContent);\r\n\r\nconst Dialogs = ({ dialogType, open, handleCloseDialog }) => {\r\n  const classes = useStyles();\r\n  const { dot } = useSelector(({ dotArt }) => ({ dot: dotArt.present.dot }));\r\n\r\n  const handleClose = () => {\r\n    handleCloseDialog();\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Dialog open={open} fullWidth={true} maxWidth=\"xl\" onClose={handleClose}>\r\n        <DialogTitle>\r\n          <IconButton\r\n            color=\"inherit\"\r\n            onClick={handleClose}\r\n            size=\"small\"\r\n            className={classes.closeButton}\r\n          >\r\n            <CloseIcon />\r\n          </IconButton>\r\n          {dialogType}\r\n        </DialogTitle>\r\n        <DialogContent dividers={true}>\r\n          {open &&\r\n            (() => {\r\n              switch (dialogType) {\r\n                case 'Preview':\r\n                  return <PreviewDialogContainer dot={dot} />;\r\n                case 'Css':\r\n                  return <div />;\r\n                case 'DownLoad':\r\n                  return <DownLoadDialogContainer dot={dot} />;\r\n                case 'Load':\r\n                  return <LoadDialogContainer />;\r\n                case 'Test':\r\n                  return (\r\n                    <div>\r\n                      {[...new Array(50)]\r\n                        .map(\r\n                          () => `Cras mattis consectetur purus sit amet fermentum.\r\nCras justo odio, dapibus ac facilisis in, egestas eget quam.\r\nMorbi leo risus, porta ac consectetur ac, vestibulum at eros.\r\nPraesent commodo cursus magna, vel scelerisque nisl consectetur et.`,\r\n                        )\r\n                        .join('\\n')}\r\n                    </div>\r\n                  );\r\n                default:\r\n                  return null;\r\n              }\r\n            })()}\r\n        </DialogContent>\r\n      </Dialog>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Dialogs;\r\n","import React, { useCallback } from 'react';\r\nimport Dialogs from '../../components/dialog/Dialogs';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { closeDialog } from '../../modules/dialog';\r\n\r\nconst DialogContainer = () => {\r\n  const dispatch = useDispatch();\r\n  const { dialogType, open } = useSelector(({ dialog }) => ({\r\n    dialogType: dialog.dialogType,\r\n    open: dialog.open,\r\n  }));\r\n\r\n  const handleCloseDialog = useCallback(() => {\r\n    dispatch(closeDialog());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    open && (\r\n      <Dialogs\r\n        dialogType={dialogType}\r\n        open={open}\r\n        handleCloseDialog={handleCloseDialog}\r\n      />\r\n    )\r\n  );\r\n};\r\n\r\nexport default React.memo(DialogContainer);\r\n","import React, { useState, useCallback, useEffect } from 'react';\r\nimport Preview from '../../components/common/Preview';\r\nimport styled, { css } from 'styled-components';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport FileCopyRoundedIcon from '@material-ui/icons/FileCopyRounded';\r\nimport { Draggable } from 'react-beautiful-dnd';\r\n\r\nconst CustomDiv = styled.div`\r\n  position: relative;\r\n  display: grid;\r\n  width: 16px;\r\n  left: 48px;\r\n  margin: 0px;\r\n  padding: 0px;\r\n  & > * + * {\r\n    margin-top: 16px;\r\n  }\r\n`;\r\n\r\nconst CardDiv = styled.div`\r\n  overflow: hidden;\r\n  background: rgb(255, 255, 255);\r\n  opacity: 0.6;\r\n  border: solid 1px black;\r\n  box-sizing: border-box;\r\n  cursor: pointer;\r\n  ${(props) =>\r\n    props.active &&\r\n    css`\r\n      opacity: 1;\r\n      border: solid 1.5px #b22222;\r\n    `}\r\n`;\r\n\r\nconst StyleButton = styled.div`\r\n  background: #9e9e9e;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 1.5rem;\r\n  height: 1.5rem;\r\n  font-size: 1rem;\r\n  color: #f0f0f0;\r\n  ${(props) =>\r\n    !props.disabled &&\r\n    css`\r\n      &:hover {\r\n        background: #6e6e6e;\r\n        color: #fff;\r\n      }\r\n    `}\r\n`;\r\n\r\nconst IntervalInput = styled.input`\r\n  width: 72px;\r\n  height: 24px;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  background: rgba(0, 0, 0, 0.7);\r\n  text-align: center;\r\n  color: white;\r\n  &:focus {\r\n    background: rgba(230, 230, 230, 1);\r\n    color: rgba(0, 0, 0, 0.7);\r\n  }\r\n  -moz-appearance: textfield;\r\n  &::-webkit-outer-spin-button,\r\n  &::-webkit-inner-spin-button {\r\n    -webkit-appearance: none;\r\n    margin: 0;\r\n  }\r\n`;\r\n\r\nconst DotListBlock = ({\r\n  active,\r\n  idx,\r\n  dot,\r\n  columnCount,\r\n  rowCount,\r\n  interval,\r\n  handleChangeIdx,\r\n  handleCopyDotArt,\r\n  handleRemoveDotArt,\r\n  handleChangeInterval,\r\n  lastIndex,\r\n}) => {\r\n  const [aniInterval, setAniInterval] = useState(interval);\r\n\r\n  useEffect(() => {\r\n    setAniInterval(interval);\r\n  }, [interval]);\r\n\r\n  const onChangeInput = (e) => {\r\n    setAniInterval(e.target.value);\r\n  };\r\n\r\n  const onBlurHandle = useCallback(\r\n    (e) => {\r\n      if (e.target.value.length === 0) {\r\n        setAniInterval(interval);\r\n        return;\r\n      } else {\r\n        setAniInterval(interval);\r\n        handleChangeInterval(Math.round(e.target.value * 100) / 100, idx);\r\n      }\r\n    },\r\n    [handleChangeInterval, idx, interval],\r\n  );\r\n\r\n  return active === true ? (\r\n    <Draggable key={idx} draggableId={`dotArt-${idx}`} index={idx}>\r\n      {(provided) => (\r\n        <CardDiv\r\n          active={true}\r\n          ref={provided.innerRef}\r\n          {...provided.draggableProps}\r\n          {...provided.dragHandleProps}\r\n        >\r\n          <Preview dotSet={dot} column={columnCount} size={2} />\r\n          <CustomDiv>\r\n            <StyleButton onClick={() => handleRemoveDotArt(idx)}>\r\n              <DeleteIcon fontSize=\"inherit\" />\r\n            </StyleButton>\r\n            <StyleButton onClick={() => handleCopyDotArt(idx)}>\r\n              <FileCopyRoundedIcon fontSize=\"inherit\" />\r\n            </StyleButton>\r\n          </CustomDiv>\r\n          <IntervalInput\r\n            value={aniInterval}\r\n            type=\"number\"\r\n            onChange={onChangeInput}\r\n            onBlur={(e) => onBlurHandle(e)}\r\n            disabled={lastIndex} // 애니메이션의 마지막은 100%로 고정\r\n            step=\"0.1\"\r\n          />\r\n        </CardDiv>\r\n      )}\r\n    </Draggable>\r\n  ) : (\r\n    <Draggable key={idx} draggableId={`dotArt-${idx}`} index={idx}>\r\n      {(provided) => (\r\n        <CardDiv\r\n          active={false}\r\n          onClick={() => handleChangeIdx(idx)}\r\n          ref={provided.innerRef}\r\n          {...provided.draggableProps}\r\n          {...provided.dragHandleProps}\r\n        >\r\n          <Preview dotSet={dot} column={columnCount} size={2} />\r\n          <CustomDiv>\r\n            <StyleButton disabled={true}>\r\n              <DeleteIcon fontSize=\"inherit\" />\r\n            </StyleButton>\r\n            <StyleButton disabled={true}>\r\n              <FileCopyRoundedIcon fontSize=\"inherit\" />\r\n            </StyleButton>\r\n          </CustomDiv>\r\n          <IntervalInput value={interval} disabled />\r\n        </CardDiv>\r\n      )}\r\n    </Draggable>\r\n  );\r\n};\r\n\r\nexport default React.memo(DotListBlock);\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport DotListBlock from './DotListBlock';\r\nimport CustomButton from '../common/CustomButton';\r\nimport AddToPhotosIcon from '@material-ui/icons/AddToPhotos';\r\nimport { Droppable, DragDropContext } from 'react-beautiful-dnd';\r\n\r\nconst DotListDiv = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst ScrollCustom = styled.div`\r\n  background: rgba(0, 0, 0, 0.3);\r\n  border-radius: 0.5rem;\r\n  width: calc(100% - 40px);\r\n  margin: 0px 8px;\r\n  display: flex;\r\n  flex-wrap: nowrap;\r\n  overflow: auto;\r\n  & > * {\r\n    width: 72px;\r\n    min-width: 72px;\r\n    margin: 8px 0px 8px 8px;\r\n    height: 88px;\r\n  }\r\n  & > :last-child {\r\n    margin-right: 8px;\r\n  }\r\n  &::-webkit-scrollbar {\r\n    width: 16px;\r\n  }\r\n  &::-webkit-scrollbar-track {\r\n    background: #f1f1f1;\r\n  }\r\n  &::-webkit-scrollbar-thumb {\r\n    background: #888;\r\n  }\r\n  &::-webkit-scrollbar-thumb:hover {\r\n    background: #555;\r\n  }\r\n`;\r\n\r\nconst DotList = ({\r\n  dotList,\r\n  activeIdx,\r\n  columnCount,\r\n  rowCount,\r\n  handleChangeIdx,\r\n  handleRemoveDotArt,\r\n  handleCopyDotArt,\r\n  handleAddDotArt,\r\n  handleChangeInterval,\r\n  handleReorderDotList,\r\n}) => {\r\n  const onDragEnd = (result) => {\r\n    if (!result.destination) {\r\n      return;\r\n    }\r\n\r\n    if (result.type === 'dotList') {\r\n      handleReorderDotList(result.source.index, result.destination.index);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <DotListDiv>\r\n      <CustomButton width=\"40\" onClick={() => handleAddDotArt()}>\r\n        <AddToPhotosIcon />\r\n      </CustomButton>\r\n      <DragDropContext onDragEnd={onDragEnd}>\r\n        <Droppable droppableId=\"dotList\" type=\"dotList\" direction=\"horizontal\">\r\n          {(provided) => (\r\n            <ScrollCustom ref={provided.innerRef} {...provided.droppableProps}>\r\n              {dotList &&\r\n                dotList.map((dot, idx) => {\r\n                  return (\r\n                    <DotListBlock\r\n                      active={activeIdx === idx}\r\n                      idx={idx}\r\n                      key={dot.id}\r\n                      dot={dot.dot}\r\n                      interval={dot.interval}\r\n                      columnCount={columnCount}\r\n                      rowCount={rowCount}\r\n                      handleCopyDotArt={handleCopyDotArt}\r\n                      handleRemoveDotArt={handleRemoveDotArt}\r\n                      handleChangeInterval={handleChangeInterval}\r\n                      handleChangeIdx={handleChangeIdx}\r\n                      lastIndex={dotList.length - 1 === idx}\r\n                    />\r\n                  );\r\n                })}\r\n              {provided.placeholder}\r\n            </ScrollCustom>\r\n          )}\r\n        </Droppable>\r\n      </DragDropContext>\r\n    </DotListDiv>\r\n  );\r\n};\r\n\r\nexport default React.memo(DotList);\r\n","import React, { useCallback } from 'react';\r\nimport DotList from '../../components/dotArtTools/DotList';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport {\r\n  changeActiveIdx,\r\n  removeActiveDotArt,\r\n  copyActiveDotArt,\r\n  addNewDotArt,\r\n  changeAnimationInterval,\r\n  reorderDotList,\r\n} from '../../modules/dot';\r\n\r\nconst DotListContainer = () => {\r\n  const dispatch = useDispatch();\r\n  const { dotList, activeIdx, columnCount, rowCount } = useSelector(\r\n    ({ dotArt }) => ({\r\n      dotList: dotArt.present.dot.dotList,\r\n      activeIdx: dotArt.present.dot.activeIdx,\r\n      columnCount: dotArt.present.dot.columnCount,\r\n      rowCount: dotArt.present.dot.rowCount,\r\n    }),\r\n  );\r\n  const handleChangeIdx = useCallback(\r\n    (idx) => {\r\n      dispatch(changeActiveIdx(idx));\r\n    },\r\n    [dispatch],\r\n  );\r\n  const handleRemoveDotArt = useCallback(\r\n    (idx) => {\r\n      dispatch(removeActiveDotArt(idx));\r\n    },\r\n    [dispatch],\r\n  );\r\n  const handleCopyDotArt = useCallback(\r\n    (idx) => {\r\n      dispatch(copyActiveDotArt(idx));\r\n    },\r\n    [dispatch],\r\n  );\r\n  const handleAddDotArt = useCallback(() => {\r\n    dispatch(addNewDotArt());\r\n  }, [dispatch]);\r\n  const handleChangeInterval = useCallback(\r\n    (interval, activeIdx) => {\r\n      dispatch(changeAnimationInterval(interval, activeIdx));\r\n    },\r\n    [dispatch],\r\n  );\r\n  const handleReorderDotList = useCallback(\r\n    (startIdx, endIdx) => {\r\n      dispatch(reorderDotList({ startIdx, endIdx }));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  return (\r\n    <DotList\r\n      dotList={dotList}\r\n      activeIdx={activeIdx}\r\n      columnCount={columnCount}\r\n      rowCount={rowCount}\r\n      handleChangeIdx={handleChangeIdx}\r\n      handleRemoveDotArt={handleRemoveDotArt}\r\n      handleCopyDotArt={handleCopyDotArt}\r\n      handleAddDotArt={handleAddDotArt}\r\n      handleChangeInterval={handleChangeInterval}\r\n      handleReorderDotList={handleReorderDotList}\r\n    />\r\n  );\r\n};\r\n\r\nexport default React.memo(DotListContainer);\r\n","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport Preview from '../common/Preview';\r\nimport CustomButton from '../../components/common/CustomButton';\r\nimport {\r\n  MdFullscreen,\r\n  MdFullscreenExit,\r\n  MdPlayArrow,\r\n  MdPause,\r\n  MdContentCopy,\r\n} from 'react-icons/md';\r\n\r\nconst PreviewWrapper = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst ButtonBox = styled.div`\r\n  display: flex;\r\n  width: 100px;\r\n  height: 30px;\r\n`;\r\n\r\nconst PreviewBlock = styled.div`\r\n  margin-top: 5px;\r\n  width: ${(props) =>\r\n    props.zoomIn ? `${props.columnCount * 6}px` : `${props.columnCount * 3}px`};\r\n  height: ${(props) =>\r\n    props.zoomIn ? `${props.rowCount * 6}px` : `${props.rowCount * 3}px`};\r\n  /* overflow: auto; */\r\n  max-width: 300px;\r\n  max-height: 300px;\r\n`;\r\n\r\nconst InputStyle = styled.input`\r\n  width: 72px;\r\n  height: 24px;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  background: rgba(0, 0, 0, 0.7);\r\n  color: white;\r\n  &:focus {\r\n    background: rgba(230, 230, 230, 1);\r\n    color: rgba(0, 0, 0, 0.7);\r\n  }\r\n  -moz-appearance: textfield;\r\n  &::-webkit-outer-spin-button,\r\n  &::-webkit-inner-spin-button {\r\n    -webkit-appearance: none;\r\n    margin: 0;\r\n  }\r\n`;\r\n\r\nconst PreViewTools = ({\r\n  dotSet,\r\n  dotList,\r\n  rowCount,\r\n  columnCount,\r\n  animationDuration,\r\n  pixelSize,\r\n  handleOpenDialog,\r\n  handleChangeAnimationDuration,\r\n  handelChangePixelSize,\r\n}) => {\r\n  const [play, setPlay] = useState(false);\r\n  const [zoomIn, setZoomIn] = useState(false);\r\n\r\n  const togglePlay = () => {\r\n    setPlay(!play);\r\n  };\r\n\r\n  const toggleZoom = () => {\r\n    setZoomIn(!zoomIn);\r\n  };\r\n\r\n  const onChangeAnimationDuration = (e) => {\r\n    setPlay(false);\r\n    if (e.target.value <= 0 || e.target.value === '') {\r\n      handleChangeAnimationDuration(0);\r\n    } else {\r\n      handleChangeAnimationDuration(e.target.value);\r\n    }\r\n  };\r\n\r\n  const onChangePixelSize = (e) => {\r\n    handelChangePixelSize(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <PreviewWrapper>\r\n      <div>\r\n        <ButtonBox>\r\n          <CustomButton\r\n            onClick={togglePlay}\r\n            selected={play}\r\n            selectColor=\"#f05556\"\r\n            color={play ? '#b71b2d' : '#008000'}\r\n            baseColor=\"#3db12a\"\r\n          >\r\n            {play ? <MdPause /> : <MdPlayArrow />}\r\n          </CustomButton>\r\n\r\n          <CustomButton onClick={toggleZoom}>\r\n            {zoomIn ? <MdFullscreenExit /> : <MdFullscreen />}\r\n          </CustomButton>\r\n\r\n          <CustomButton onClick={() => handleOpenDialog('Preview')}>\r\n            <MdContentCopy />\r\n          </CustomButton>\r\n        </ButtonBox>\r\n        <PreviewBlock\r\n          zoomIn={zoomIn}\r\n          rowCount={rowCount}\r\n          columnCount={columnCount}\r\n        >\r\n          <Preview\r\n            dotSet={dotSet}\r\n            dotList={dotList}\r\n            column={columnCount}\r\n            size={zoomIn ? 6 : 3}\r\n            animation={play}\r\n            duration={animationDuration}\r\n          />\r\n        </PreviewBlock>\r\n      </div>\r\n      <div>\r\n        <InputStyle\r\n          value={animationDuration}\r\n          type=\"number\"\r\n          onChange={(e) => onChangeAnimationDuration(e)}\r\n        />\r\n        <InputStyle\r\n          value={pixelSize}\r\n          type=\"number\"\r\n          onChange={(e) => onChangePixelSize(e)}\r\n        />\r\n      </div>\r\n    </PreviewWrapper>\r\n  );\r\n};\r\n\r\nexport default React.memo(PreViewTools);\r\n","import React, { useCallback } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { changeTypeAndOpen } from '../../modules/dialog';\r\nimport { changeAnimationDuration, changePixelSize } from '../../modules/dot';\r\nimport PreViewTools from '../../components/dotArtTools/PreViewTools';\r\n\r\nconst PreViewContainer = () => {\r\n  const dispatch = useDispatch();\r\n  const {\r\n    dotSet,\r\n    dotList,\r\n    rowCount,\r\n    columnCount,\r\n    animationDuration,\r\n    pixelSize,\r\n  } = useSelector(({ dotArt }) => ({\r\n    dotSet: dotArt.present.dot.dotList[dotArt.present.dot.activeIdx].dot,\r\n    dotList: dotArt.present.dot.dotList,\r\n    rowCount: dotArt.present.dot.rowCount,\r\n    columnCount: dotArt.present.dot.columnCount,\r\n    animationDuration: dotArt.present.dot.animationDuration,\r\n    pixelSize: dotArt.present.dot.pixelSize,\r\n  }));\r\n\r\n  const handleOpenDialog = useCallback(\r\n    (type) => {\r\n      dispatch(changeTypeAndOpen(type));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  const handleChangeAnimationDuration = useCallback(\r\n    (duration) => {\r\n      dispatch(changeAnimationDuration(duration));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  const handelChangePixelSize = useCallback(\r\n    (pixelSize) => {\r\n      dispatch(changePixelSize(pixelSize));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  return (\r\n    <PreViewTools\r\n      dotSet={dotSet}\r\n      dotList={dotList}\r\n      rowCount={rowCount}\r\n      columnCount={columnCount}\r\n      animationDuration={animationDuration}\r\n      pixelSize={pixelSize}\r\n      handleOpenDialog={handleOpenDialog}\r\n      handleChangeAnimationDuration={handleChangeAnimationDuration}\r\n      handelChangePixelSize={handelChangePixelSize}\r\n    />\r\n  );\r\n};\r\n\r\nexport default React.memo(PreViewContainer);\r\n","import React from 'react';\r\nimport styled, { css } from 'styled-components';\r\nimport { INITIAL_DOT_COLOR } from '../../modules/dot';\r\n\r\nconst DotStyled = styled.div`\r\n  border: none;\r\n  cursor: cell;\r\n  padding: 0;\r\n  margin: 0 auto;\r\n  color: white;\r\n  font-size: 1rem;\r\n  box-sizing: border-box;\r\n  /* transition: all 0.3s linear, width 0.1s linear, height 0.1s linear; */\r\n  ${(props) =>\r\n    css`\r\n      background: ${props.dotColor || INITIAL_DOT_COLOR};\r\n    `}\r\n`;\r\n\r\nconst DivBlock = ({\r\n  rowIdx,\r\n  columnIdx,\r\n  dotColor,\r\n  onMouseDownHandler,\r\n  onMouseUpHandler,\r\n  onMouseOverHandler,\r\n  // onTouchMoveHandler,\r\n}) => {\r\n  return (\r\n    <DotStyled\r\n      dotColor={dotColor}\r\n      onContextMenu={(e) => e.preventDefault()}\r\n      onMouseDown={(e) => onMouseDownHandler(e, rowIdx, columnIdx)}\r\n      onMouseOver={(e) => onMouseOverHandler(e, rowIdx, columnIdx)}\r\n      onMouseUp={(e) => onMouseUpHandler(e)}\r\n      // onTouchStart={(e) => onMouseDownHandler(e, dotIdx)}\r\n      // onTouchMove={(e) => onTouchMoveHandler(e, dotIdx)}\r\n    />\r\n  );\r\n};\r\n\r\nexport default React.memo(DivBlock);\r\n","import React from 'react';\r\nimport DivBlock from '../common/DivBlock';\r\n\r\nconst DotPaintLine = ({\r\n  dotLine,\r\n  dotLineIdx,\r\n  onMouseDownHandler,\r\n  onMouseUpHandler,\r\n  onMouseOverHandler,\r\n  // onTouchMoveHandler,\r\n}) => {\r\n  return (\r\n    <div>\r\n      {dotLine.map((color, columnIdx) => {\r\n        return (\r\n          <DivBlock\r\n            key={columnIdx}\r\n            rowIdx={dotLineIdx}\r\n            columnIdx={columnIdx}\r\n            dotColor={color}\r\n            onMouseDownHandler={onMouseDownHandler}\r\n            onMouseUpHandler={onMouseUpHandler}\r\n            onMouseOverHandler={onMouseOverHandler}\r\n            // onTouchMoveHandler={onTouchMoveHandler}\r\n          />\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(DotPaintLine);\r\n","import React, { useCallback } from 'react';\r\nimport styled, { css } from 'styled-components';\r\nimport DotPaintLine from './DotPaintLine';\r\n\r\nconst DotPaintWrapper = styled.div`\r\n  display: flex;\r\n  width: auto;\r\n  height: auto;\r\n  /* min-width: 250px;\r\n  min-height: 200px; */\r\n  /* max-width: calc(100% - 40px);\r\n  max-height: calc(100% - 40px); */\r\n  box-sizing: border-box;\r\n  /* padding: 30px; */\r\n  touch-action: none;\r\n  overflow: auto;\r\n`;\r\n\r\nconst DotPaintBlock = styled.div`\r\n  display: inline-flex;\r\n  justify-content: flex-start;\r\n  flex-direction: column;\r\n  width: auto;\r\n  height: auto;\r\n  margin: 0 auto;\r\n  padding: 0;\r\n  border: 1px solid black;\r\n  box-sizing: border-box;\r\n  & > * {\r\n    display: flex;\r\n  }\r\n  & > * > * {\r\n    ${(props) =>\r\n      props.border &&\r\n      css`\r\n        border: ${props.border.size}px solid ${props.border.color};\r\n        width: ${props.dotSize}rem;\r\n        height: ${props.dotSize}rem;\r\n      `}\r\n  }\r\n`;\r\n\r\nconst DotPaint = ({\r\n  dotSet,\r\n  border,\r\n  dotSize,\r\n  columnCount,\r\n  onChangePaintState,\r\n  onDotActionHandle,\r\n}) => {\r\n  const onMouseDownHandler = useCallback(\r\n    (e, rowIdx, columnIdx) => {\r\n      e.preventDefault();\r\n      onChangePaintState('DRAGGING');\r\n      onDotActionHandle(rowIdx, columnIdx);\r\n    },\r\n    [onChangePaintState, onDotActionHandle],\r\n  );\r\n  const onMouseUpHandler = useCallback(\r\n    (e) => {\r\n      e.preventDefault();\r\n      onChangePaintState('IDLE');\r\n    },\r\n    [onChangePaintState],\r\n  );\r\n  const onMouseOverHandler = useCallback(\r\n    (e, rowIdx, columnIdx) => {\r\n      e.preventDefault();\r\n      onDotActionHandle(rowIdx, columnIdx);\r\n    },\r\n    [onDotActionHandle],\r\n  );\r\n  const onTouchStartHandler = useCallback(\r\n    (e) => {\r\n      e.preventDefault();\r\n      onChangePaintState('DRAGGING');\r\n    },\r\n    [onChangePaintState],\r\n  );\r\n  const onTouchMoveHandler = useCallback(\r\n    (e, dotIdx) => {\r\n      e.preventDefault();\r\n      onDotActionHandle(dotIdx);\r\n    },\r\n    [onDotActionHandle],\r\n  );\r\n  return (\r\n    <DotPaintWrapper\r\n      onMouseLeave={(e) => onMouseUpHandler(e)}\r\n      onMouseUp={(e) => onMouseUpHandler(e)}\r\n      onTouchStart={(e) => onTouchStartHandler(e)}\r\n      // onTouchMove={(e) => onTouchMoveHandler(e)}\r\n      onTouchEnd={(e) => onMouseUpHandler(e)}\r\n    >\r\n      <DotPaintBlock\r\n        dotSize={dotSize}\r\n        columnCount={columnCount}\r\n        border={border}\r\n      >\r\n        {dotSet &&\r\n          dotSet.map((dotLine, idx) => {\r\n            return (\r\n              <DotPaintLine\r\n                dotLine={dotLine}\r\n                key={idx}\r\n                dotLineIdx={idx}\r\n                columnCount={columnCount}\r\n                // dotSize={dotSize}\r\n                // border={border}\r\n                onMouseDownHandler={onMouseDownHandler}\r\n                onMouseUpHandler={onMouseUpHandler}\r\n                onMouseOverHandler={onMouseOverHandler}\r\n                onTouchMoveHandler={onTouchMoveHandler}\r\n              />\r\n            );\r\n          })}\r\n      </DotPaintBlock>\r\n    </DotPaintWrapper>\r\n  );\r\n};\r\n\r\nexport default DotPaint;\r\n","import { createAction, handleActions } from 'redux-actions';\r\n\r\n// paintTool\r\nexport const DOT = 'DOT';\r\nexport const BUCKET = 'BUCKET';\r\nexport const PICKER = 'PICKER';\r\nexport const ERASER = 'ERASER';\r\n\r\nconst CHANGE_PAINT_TOOL = 'paintTool/CHANGE_PAINT_TOOL';\r\nconst CHANGE_PAINT_STATE = 'paintTool/CHANGE_PAINT_STATE';\r\n\r\nexport const changePaintTool = createAction(\r\n  CHANGE_PAINT_TOOL,\r\n  (paintTool) => paintTool,\r\n);\r\nexport const changePaintState = createAction(\r\n  CHANGE_PAINT_STATE,\r\n  (paintState) => paintState,\r\n);\r\n\r\nconst initialState = {\r\n  selectedPaintTool: DOT,\r\n  paintState: 'IDLE',\r\n};\r\n\r\nconst paintTool = handleActions(\r\n  {\r\n    [CHANGE_PAINT_TOOL]: (state, { payload: paintTool }) => ({\r\n      ...state,\r\n      // 같은걸 누르면 기본인 DOT로 바뀌게\r\n      selectedPaintTool:\r\n        state.selectedPaintTool === paintTool ? DOT : paintTool,\r\n    }),\r\n    [CHANGE_PAINT_STATE]: (state, { payload: paintState }) => ({\r\n      ...state,\r\n      paintState: paintState,\r\n    }),\r\n  },\r\n  initialState,\r\n);\r\n\r\nexport default paintTool;\r\n","import { createAction, handleActions } from 'redux-actions';\r\nimport { produce } from 'immer';\r\nimport shortid from 'shortid';\r\n\r\n// 하나의 palette에 최대 10개의 색 까지. palette는 10개까지\r\nconst DEFAULT_PALETTE = [\r\n  {\r\n    id: shortid.generate(),\r\n    nick: 'Forest',\r\n    colors: [\r\n      '#393b2d',\r\n      '#75651a',\r\n      '#775b1c',\r\n      '#788260',\r\n      '#bab887',\r\n      '#dfd6c5',\r\n      '#e6e6e6',\r\n      '#eee6d1',\r\n      '#f8eacf',\r\n    ],\r\n  },\r\n  {\r\n    id: shortid.generate(),\r\n    nick: 'Ocean',\r\n    colors: ['#4b73a4', '#667883', '#937e6a', '#b89d80', '#dadbd6', '#faf9fb'],\r\n  },\r\n  {\r\n    id: shortid.generate(),\r\n    nick: 'City',\r\n    colors: ['#03070a', '#374552', '#3c8999', '#959ea7', '#9ccce3', '#b8cde0'],\r\n  },\r\n  {\r\n    id: shortid.generate(),\r\n    nick: 'Robot',\r\n    colors: [\r\n      '#171516',\r\n      '#303030',\r\n      '#553634',\r\n      '#92898c',\r\n      '#a70d01',\r\n      '#c4c2c3',\r\n      '#d12a21',\r\n    ],\r\n  },\r\n  {\r\n    id: shortid.generate(),\r\n    nick: 'Lizard',\r\n    colors: [\r\n      '#1d0e0b',\r\n      '#393e54',\r\n      '#5e260d',\r\n      '#605d66',\r\n      '#98894e',\r\n      '#9f7441',\r\n      '#dde2ff',\r\n      '#eaac73',\r\n    ],\r\n  },\r\n];\r\n\r\nconst SELECT_COLOR = 'palette/SELECT_COLOR';\r\nconst CHANGE_COLOR = 'palette/CHANGE_COLOR';\r\nconst INSERT_COLOR = 'palette/INSERT_COLOR';\r\nconst DELETE_COLOR = 'palette/DELETE_COLOR';\r\nconst CHANGE_NICK = 'palette/CHANGE_NICK';\r\nconst INSERT_PALETTE = 'palette/INSERT_PALETTE';\r\nconst DELETE_PALETTE = 'palette/DELETE_PALETTE';\r\n\r\nexport const selectColor = createAction(\r\n  SELECT_COLOR,\r\n  (selectData) => selectData,\r\n);\r\nexport const changeColor = createAction(CHANGE_COLOR);\r\nexport const insertColor = createAction(INSERT_COLOR, (paletteId) => paletteId);\r\nexport const deleteColor = createAction(\r\n  DELETE_COLOR,\r\n  (selectData) => selectData,\r\n);\r\nexport const changeNick = createAction(\r\n  CHANGE_NICK,\r\n  ({ paletteId, newNick }) => ({ paletteId, newNick }),\r\n);\r\nexport const insertPalette = createAction(INSERT_PALETTE);\r\nexport const deletePalette = createAction(\r\n  DELETE_PALETTE,\r\n  (paletteId) => paletteId,\r\n);\r\n\r\nconst initialState = {\r\n  paletteSet: DEFAULT_PALETTE,\r\n  selectColorId: {\r\n    paletteId: DEFAULT_PALETTE[0]['id'],\r\n    colorId: 0,\r\n  },\r\n};\r\n\r\nfunction randomColor(arrayLength) {\r\n  let resultArr = [];\r\n  for (let i = 0; i < arrayLength; i++) {\r\n    resultArr.push('#' + Math.round(Math.random() * 0xffffff).toString(16));\r\n  }\r\n  return resultArr;\r\n}\r\n\r\nconst palette = handleActions(\r\n  {\r\n    [SELECT_COLOR]: (state, { payload: selectData }) =>\r\n      produce(state, (draft) => {\r\n        draft.selectColorId = {\r\n          paletteId: selectData.palette,\r\n          colorId: selectData.color,\r\n        };\r\n      }),\r\n    [CHANGE_COLOR]: () => {},\r\n    [INSERT_COLOR]: (state, { payload: paletteId }) =>\r\n      produce(state, (draft) => {\r\n        draft.paletteSet.map((paletteSet) =>\r\n          paletteSet.id === paletteId\r\n            ? paletteSet.colors.push(randomColor(1))\r\n            : paletteSet,\r\n        );\r\n      }),\r\n    [DELETE_COLOR]: (state, { payload: selectData }) =>\r\n      produce(state, (draft) => {\r\n        const palette = draft.paletteSet.find(\r\n          (paletteSet) => paletteSet.id === selectData.palette,\r\n        );\r\n        palette.colors = palette.colors.filter(\r\n          (color, idx) => idx !== selectData.color,\r\n        );\r\n        // 파레트 colors 길이가 0보다 크면 해당 파레트에서 선택한 paletteCell을 바꿔줌\r\n        if (palette.colors.length > 0) {\r\n          // 선택되있던 Cell이 0보다 크면 그 값에서 -1\r\n          selectData.color > 0\r\n            ? (draft.selectColorId.color = selectData.color - 1)\r\n            : (draft.selectColorId.color = 0);\r\n        } else {\r\n          // 만약 palette.colors의 길이가 0이 되어버렸다면?\r\n          palette.colors.push(randomColor(1));\r\n          draft.selectColorId.color = 0;\r\n        }\r\n      }),\r\n    [CHANGE_NICK]: (state, { payload: { paletteId, newNick } }) =>\r\n      produce(state, (draft) => {\r\n        draft.paletteSet.map((paletteSet) =>\r\n          paletteSet.id === paletteId\r\n            ? (paletteSet.nick = newNick)\r\n            : paletteSet,\r\n        );\r\n      }),\r\n    [INSERT_PALETTE]: (state) =>\r\n      produce(state, (draft) => {\r\n        draft.paletteSet.push({\r\n          id: shortid.generate(),\r\n          nick: 'New Palette',\r\n          colors: randomColor(5),\r\n        });\r\n      }),\r\n    [DELETE_PALETTE]: (state, { payload: paletteId }) =>\r\n      produce(state, (draft) => {\r\n        draft.paletteSet = draft.paletteSet.filter(\r\n          (paletteSet) => paletteSet.id !== paletteId,\r\n        );\r\n\r\n        // palette 삭제 후 paletteSet에 아무것도 없다면 새로 추가\r\n        if (draft.paletteSet.length === 0) {\r\n          draft.paletteSet.push({\r\n            id: shortid.generate(),\r\n            nick: 'Must Have One',\r\n            colors: randomColor(5),\r\n          });\r\n        }\r\n\r\n        // 새로 selectColorId 지정\r\n        draft.selectColorId = {\r\n          paletteId: draft.paletteSet[0].id,\r\n          colorId: 0,\r\n        };\r\n      }),\r\n  },\r\n  initialState,\r\n);\r\n\r\nexport default palette;\r\n","import { createAction, handleActions } from 'redux-actions';\r\nimport produce from 'immer';\r\nimport { takeLatest } from 'redux-saga/effects';\r\nimport createRequestSaga, {\r\n  createRequestActionTypes,\r\n} from '../lib/createRequestSaga';\r\nimport * as authAPI from '../lib/auth';\r\n\r\nconst CHANGE_FILED = 'auth/CHANGE_FILED';\r\nconst INITIALIZE_FORM = 'auth/INITIALIZE_FORM';\r\nconst RESET_ERROR = 'auth/RESET_ERROR';\r\n\r\nconst [SIGNUP, SIGNUP_SUCCESS, SIGNUP_FAILURE] = createRequestActionTypes(\r\n  'auth/SIGNUP',\r\n);\r\n\r\nconst [LOGIN, LOGIN_SUCCESS, LOGIN_FAILURE] = createRequestActionTypes(\r\n  'auth/LOGIN',\r\n);\r\n\r\nexport const changeField = createAction(\r\n  CHANGE_FILED,\r\n  ({ form, key, value }) => ({\r\n    form, // login, signup\r\n    key, // username, password, passwordConfirm\r\n    value, // 실제 바꾸려는 값\r\n  }),\r\n);\r\n\r\nexport const initializeForm = createAction(INITIALIZE_FORM, (form) => form);\r\nexport const resetError = createAction(RESET_ERROR);\r\nexport const signup = createAction(SIGNUP, ({ username, password }) => ({\r\n  username,\r\n  password,\r\n}));\r\nexport const login = createAction(LOGIN, ({ username, password }) => ({\r\n  username,\r\n  password,\r\n}));\r\n\r\nconst signupSaga = createRequestSaga(SIGNUP, authAPI.signup);\r\nconst loginSaga = createRequestSaga(LOGIN, authAPI.login);\r\nexport function* authSaga() {\r\n  yield takeLatest(SIGNUP, signupSaga);\r\n  yield takeLatest(LOGIN, loginSaga);\r\n}\r\n\r\nconst initialState = {\r\n  signup: {\r\n    username: '',\r\n    password: '',\r\n    passwordConfirm: '',\r\n  },\r\n  login: {\r\n    username: '',\r\n    password: '',\r\n  },\r\n};\r\n\r\nconst auth = handleActions(\r\n  {\r\n    [CHANGE_FILED]: (state, { payload: { form, key, value } }) =>\r\n      produce(state, (draft) => {\r\n        draft[form][key] = value; // ex: state.signup.username을 바꾼다\r\n      }),\r\n    [INITIALIZE_FORM]: (state, { payload: form }) => ({\r\n      ...state,\r\n      authError: null,\r\n      [form]: initialState[form],\r\n    }),\r\n    [RESET_ERROR]: (state) => ({\r\n      ...state,\r\n      authError: null,\r\n    }),\r\n    [SIGNUP_SUCCESS]: (state, { payload: auth }) => ({\r\n      ...state,\r\n      authError: null,\r\n      auth,\r\n    }),\r\n    [SIGNUP_FAILURE]: (state, { payload: error }) => ({\r\n      ...state,\r\n      authError: error,\r\n    }),\r\n    [LOGIN_SUCCESS]: (state, { payload: auth }) => ({\r\n      ...state,\r\n      authError: null,\r\n      auth,\r\n    }),\r\n    [LOGIN_FAILURE]: (state, { payload: error }) => ({\r\n      ...state,\r\n      authError: error,\r\n    }),\r\n  },\r\n  initialState,\r\n);\r\n\r\nexport default auth;\r\n","import { combineReducers } from 'redux';\r\nimport { all } from 'redux-saga/effects';\r\nimport { createAction, handleActions } from 'redux-actions';\r\nimport dot from './dot';\r\nimport palette from './palette';\r\nimport paintTool, { DOT, BUCKET, PICKER, ERASER } from './paintTool';\r\nimport loading from './loading';\r\nimport auth, { authSaga } from './auth';\r\nimport user, { userSaga } from './user';\r\nimport palettes from './palettes';\r\nimport dialog from './dialog';\r\nimport { produce } from 'immer';\r\nimport undoable from 'redux-undo';\r\n\r\nexport const DOT_ACTIONS = 'index/DOT_ACTIONS';\r\n\r\nexport const dotActions = createAction(\r\n  DOT_ACTIONS,\r\n  ({ rowIdx, columnIdx }) => ({\r\n    rowIdx,\r\n    columnIdx,\r\n  }),\r\n);\r\n\r\n// undo redo 기능을 활용할 부분만 따로 combine\r\nconst combineDotArt = combineReducers({\r\n  dot: dot,\r\n  palette: palette,\r\n  palettes: palettes,\r\n});\r\n\r\nconst combineReducer = combineReducers({\r\n  dotArt: undoable(combineDotArt, {\r\n    limit: 100,\r\n    // debug: true,\r\n    ignoreInitialState: true,\r\n  }),\r\n  paintTool: paintTool,\r\n  auth: auth,\r\n  dialog: dialog,\r\n  user,\r\n  loading,\r\n});\r\n\r\nconst floodFill = (dotArt, dotId, color, rowCount, columnCount) => {\r\n  const cellCollection = [];\r\n  let auxId;\r\n\r\n  // right\r\n  if ((dotId + 1) % columnCount !== 0) {\r\n    auxId = dotId + 1;\r\n    if (dotArt[auxId] === color) cellCollection.push(auxId);\r\n  }\r\n  // left\r\n  if (dotId % columnCount !== 0) {\r\n    auxId = dotId - 1;\r\n    if (dotArt[auxId] === color) cellCollection.push(auxId);\r\n  }\r\n  // top\r\n  if (dotId >= columnCount) {\r\n    auxId = dotId - columnCount;\r\n    if (dotArt[auxId] === color) cellCollection.push(auxId);\r\n  }\r\n  // bottom\r\n  if (dotId < columnCount * rowCount - columnCount) {\r\n    auxId = dotId + columnCount;\r\n    if (dotArt[auxId] === color) cellCollection.push(auxId);\r\n  }\r\n  return cellCollection;\r\n};\r\n\r\nconst bucketDotArt = (\r\n  dotArt,\r\n  dotIdx,\r\n  dotColor,\r\n  paletteColor,\r\n  rowCount,\r\n  columnCount,\r\n) => {\r\n  const queue = [dotIdx];\r\n  let newDotArt = dotArt.slice();\r\n  let currentId;\r\n  let adjacents;\r\n  let adjacentId;\r\n  let adjacentColor;\r\n\r\n  while (queue.length > 0) {\r\n    currentId = queue.shift();\r\n    newDotArt = produce(newDotArt, (draft) => {\r\n      draft[currentId] = paletteColor;\r\n    });\r\n    adjacents = floodFill(\r\n      newDotArt,\r\n      currentId,\r\n      dotColor,\r\n      rowCount,\r\n      columnCount,\r\n    );\r\n\r\n    for (let i = 0; i < adjacents.length; i++) {\r\n      adjacentId = adjacents[i];\r\n      adjacentColor = dotArt[adjacentId];\r\n      if (queue.indexOf(adjacentId) === -1 && adjacentColor !== paletteColor) {\r\n        queue.push(adjacentId);\r\n      }\r\n    }\r\n  }\r\n\r\n  return newDotArt;\r\n};\r\n\r\nconst dotActionsHandler = (\r\n  state,\r\n  paintTool,\r\n  paintToolState,\r\n  rowIdx,\r\n  columnIdx,\r\n) => {\r\n  // selectedPaintTool -> PaintToolState -> rowIdx, columnIdx 체크 순\r\n  if (paintToolState === 'IDLE') return { ...state };\r\n  switch (paintTool) {\r\n    case DOT:\r\n      if (paintToolState === 'DRAGGING') {\r\n        const palettes = state.dotArt.present.palettes;\r\n        const { paletteId, colorId } = palettes.selectColorId;\r\n\r\n        // 선택된 색상 추출\r\n        const color = palettes.palettes.reduce(\r\n          (acc, palette) =>\r\n            palette.id === paletteId ? palette.colors[colorId] : acc,\r\n          [],\r\n        );\r\n\r\n        const activeIdx = state.dotArt.present.dot.activeIdx;\r\n        return produce(state, (draft) => {\r\n          draft.dotArt.present.dot.dotList[activeIdx].dot[rowIdx][\r\n            columnIdx\r\n          ] = color;\r\n        });\r\n      } else return { ...state };\r\n    case BUCKET:\r\n      if (paintToolState === 'DRAGGING') {\r\n        const palettes = state.dotArt.present.palettes;\r\n\r\n        const { paletteId, colorId } = palettes.selectColorId;\r\n        const paletteColor = palettes.palettes.reduce(\r\n          (acc, palette) =>\r\n            palette.id === paletteId ? palette.colors[colorId] : acc,\r\n          [],\r\n        );\r\n\r\n        const dot = state.dotArt.present.dot;\r\n        const activeIdx = dot.activeIdx;\r\n\r\n        const { rowCount, columnCount } = dot;\r\n        // 2차배열 1차배열로 풀어서 넣어줌\r\n        const dotArt = dot.dotList[activeIdx].dot.reduce((acc, cur) =>\r\n          acc.concat(cur),\r\n        );\r\n        const selectedDotId = rowIdx * columnCount + columnIdx;\r\n\r\n        const dotColor = dotArt[selectedDotId];\r\n        const newDotArt = bucketDotArt(\r\n          dotArt,\r\n          selectedDotId,\r\n          dotColor,\r\n          paletteColor,\r\n          rowCount,\r\n          columnCount,\r\n        );\r\n\r\n        let returnDotArt = [];\r\n        let idx = 0;\r\n        for (let i = 0; i < rowCount; i++) {\r\n          let row = [];\r\n          for (let j = 0; j < columnCount; j++) {\r\n            row.push(newDotArt[idx]);\r\n            idx++;\r\n          }\r\n          returnDotArt.push(row);\r\n          row = [];\r\n        }\r\n        return produce(state, (draft) => {\r\n          draft.dotArt.present.dot.dotList[activeIdx].dot = returnDotArt;\r\n        });\r\n      } else {\r\n        return { ...state };\r\n      }\r\n    case PICKER:\r\n      if (paintToolState === 'DRAGGING') {\r\n        const dot = state.dotArt.present.dot;\r\n        const activeIdx = dot.activeIdx;\r\n        const dotColor = dot.dotList[activeIdx].dot[rowIdx][columnIdx];\r\n\r\n        // 색이 없는 셀을 클릭했다면\r\n        if (!dotColor) return { ...state };\r\n\r\n        // 해당 색상이 이미 palette안에 있는지 순회\r\n        const palettes = state.dotArt.present.palettes.palettes;\r\n        let existedColor = '';\r\n        palettes.map((palette) =>\r\n          palette.colors.map((color, colorIdx) =>\r\n            color === dotColor\r\n              ? (existedColor = { paletteId: palette.id, colorId: colorIdx })\r\n              : '',\r\n          ),\r\n        );\r\n        if (existedColor) {\r\n          console.log(existedColor);\r\n          return produce(state, (draft) => {\r\n            draft.dotArt.present.palettes.selectColorId = existedColor;\r\n          });\r\n        } else {\r\n          if (\r\n            state.dotArt.present.palettes.trashCan.filter(\r\n              (color) => color === dotColor,\r\n            ).length > 0\r\n          ) {\r\n            return { ...state };\r\n          } else {\r\n            return produce(state, (draft) => {\r\n              draft.dotArt.present.palettes.trashCan.unshift(dotColor);\r\n            });\r\n          }\r\n        }\r\n      } else {\r\n        return { ...state };\r\n      }\r\n    case ERASER:\r\n      if (paintToolState === 'DRAGGING') {\r\n        const activeIdx = state.dotArt.present.dot.activeIdx;\r\n        return produce(state, (draft) => {\r\n          draft.dotArt.present.dot.dotList[activeIdx].dot[rowIdx][columnIdx] =\r\n            '';\r\n        });\r\n      }\r\n      return { ...state };\r\n    default:\r\n      return { ...state };\r\n  }\r\n};\r\n\r\nconst crossSilceReducer = handleActions(\r\n  {\r\n    [DOT_ACTIONS]: (state, { payload: { rowIdx, columnIdx } }) =>\r\n      dotActionsHandler(\r\n        state,\r\n        state.paintTool.selectedPaintTool,\r\n        state.paintTool.paintState,\r\n        rowIdx,\r\n        columnIdx,\r\n      ),\r\n  },\r\n  {},\r\n);\r\n\r\nfunction rootReducer(state, action) {\r\n  const intermediateState = combineReducer(state, action);\r\n  const finalState = crossSilceReducer(intermediateState, action);\r\n  return finalState;\r\n}\r\n\r\nexport function* rootSaga() {\r\n  yield all([authSaga(), userSaga()]);\r\n}\r\n\r\nexport default rootReducer;\r\n","import React, { useCallback } from 'react';\r\nimport DotPaint from '../components/dotPaint/DotPaint';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { changePaintState } from '../modules/paintTool';\r\nimport { dotActions } from '../modules/index';\r\n\r\nconst DotpaintContainer = () => {\r\n  const dispatch = useDispatch();\r\n  const { dot, border, dotSize, columnCount } = useSelector(({ dotArt: { present: { dot }}}) => \r\n    ({\r\n      // dotSet: dot.dotSet,\r\n      dot: dot.dotList[dot.activeIdx].dot,\r\n      border: dot.border,\r\n      dotSize: dot.dotSize,\r\n      columnCount: dot.columnCount,\r\n    }),\r\n  ); // prettier-ignore\r\n\r\n  const onChangePaintState = useCallback(\r\n    (paintState) => dispatch(changePaintState(paintState)),\r\n    [dispatch],\r\n  );\r\n\r\n  const onDotActionHandle = useCallback(\r\n    (rowIdx, columnIdx) =>\r\n      dispatch(\r\n        dotActions({\r\n          rowIdx: rowIdx,\r\n          columnIdx: columnIdx,\r\n        }),\r\n      ),\r\n    [dispatch],\r\n  );\r\n\r\n  return (\r\n    dot && (\r\n      <DotPaint\r\n        dotSet={dot}\r\n        border={border}\r\n        dotSize={dotSize}\r\n        columnCount={columnCount}\r\n        onChangePaintState={onChangePaintState}\r\n        onDotActionHandle={onDotActionHandle}\r\n      />\r\n    )\r\n  );\r\n};\r\n\r\nexport default DotpaintContainer;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { DOT, BUCKET, PICKER, ERASER } from '../../../modules/paintTool';\r\nimport CustomButton from '../../common/CustomButton';\r\nimport { TiPencil, TiPipette } from 'react-icons/ti';\r\nimport { BsFillBucketFill } from 'react-icons/bs';\r\nimport { FaEraser } from 'react-icons/fa';\r\n\r\nconst PaintToolBlock = styled.div`\r\n  display: flex;\r\n  /* width: 240px; */\r\n  height: 40px;\r\n`;\r\nconst PaintTool = ({ onChangePaintTool, selectedPaintTool }) => {\r\n  return (\r\n    <PaintToolBlock>\r\n      <CustomButton\r\n        paintTool={DOT}\r\n        selected={selectedPaintTool === DOT}\r\n        onClick={() => onChangePaintTool(DOT)}\r\n      >\r\n        <TiPencil />\r\n      </CustomButton>\r\n      <CustomButton\r\n        paintTool={BUCKET}\r\n        selected={selectedPaintTool === BUCKET}\r\n        onClick={() => onChangePaintTool(BUCKET)}\r\n      >\r\n        <BsFillBucketFill />\r\n      </CustomButton>\r\n      <CustomButton\r\n        paintTool={PICKER}\r\n        selected={selectedPaintTool === PICKER}\r\n        onClick={() => onChangePaintTool(PICKER)}\r\n      >\r\n        <TiPipette />\r\n      </CustomButton>\r\n      <CustomButton\r\n        paintTool={ERASER}\r\n        selected={selectedPaintTool === ERASER}\r\n        onClick={() => onChangePaintTool(ERASER)}\r\n      >\r\n        <FaEraser />\r\n      </CustomButton>\r\n    </PaintToolBlock>\r\n  );\r\n};\r\n\r\nexport default React.memo(PaintTool);\r\n","import React, { useCallback } from 'react';\r\nimport { changePaintTool } from '../../modules/paintTool';\r\nimport PaintTool from '../../components/dotPaint/dotHeader/PaintTool';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nconst PaintToolContainer = () => {\r\n  const dispatch = useDispatch();\r\n  const { selectedPaintTool } = useSelector(({ paintTool }) => ({\r\n    selectedPaintTool: paintTool.selectedPaintTool,\r\n  }));\r\n  const onChangePaintTool = useCallback(\r\n    (paintTool) => dispatch(changePaintTool(paintTool)),\r\n    [dispatch],\r\n  );\r\n  return (\r\n    <>\r\n      <PaintTool\r\n        onChangePaintTool={onChangePaintTool}\r\n        selectedPaintTool={selectedPaintTool}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PaintToolContainer;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { useState } from 'react';\r\nimport { TiPinOutline } from 'react-icons/ti';\r\nimport { RiDeleteBinLine } from 'react-icons/ri';\r\n\r\nconst NickBox = styled.div`\r\n  display: flex;\r\n  width: auto;\r\n  height: auto;\r\n`;\r\nconst NickInput = styled.input`\r\n  width: 100px;\r\n  height: 100%;\r\n  border: none;\r\n  background: inherit;\r\n  font-size: 12px;\r\n  font-weight: bold;\r\n  text-align: right;\r\n  margin-right: 5px;\r\n  :focus {\r\n    text-align: left;\r\n    outline: none;\r\n  }\r\n`;\r\nconst NickButton = styled.button`\r\n  cursor: pointer;\r\n  width: 15px;\r\n  height: 15px;\r\n  margin: 0;\r\n  padding: 0;\r\n`;\r\n\r\nconst NickBlock = ({\r\n  paletteId,\r\n  paletteNick,\r\n  onChangeNick,\r\n  onDeletePalette,\r\n}) => {\r\n  const [nick, setNick] = useState(paletteNick);\r\n  const onChangeInput = (e) => {\r\n    setNick(e.target.value);\r\n  };\r\n  const changeNick = () => {\r\n    if (paletteNick !== nick) onChangeNick(paletteId, nick);\r\n  };\r\n  const deletePalette = () => {\r\n    onDeletePalette(paletteId);\r\n  };\r\n  return (\r\n    <>\r\n      <NickBox>\r\n        <NickButton onClick={deletePalette}>\r\n          <RiDeleteBinLine />\r\n        </NickButton>\r\n        <NickButton onClick={changeNick}>\r\n          <TiPinOutline />\r\n        </NickButton>\r\n        <NickInput onBlur={changeNick} onChange={onChangeInput} value={nick} />\r\n      </NickBox>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NickBlock;\r\n","import React from 'react';\r\nimport styled, { css } from 'styled-components';\r\nimport { RiAddLine } from 'react-icons/ri';\r\n\r\nconst selectBorder = '#000000';\r\nconst defaultBorder = '#ffffff';\r\n\r\nconst Cell = styled.div`\r\n  cursor: pointer;\r\n  box-sizing: border-box;\r\n  position: relative;\r\n  width: 30px;\r\n  height: 17.32px;\r\n  margin-left: 3px;\r\n  background-color: ${(props) => props.color || ''};\r\n  border-left: solid 3px\r\n    ${(props) => (props.selected ? selectBorder : defaultBorder)};\r\n  border-right: solid 3px\r\n    ${(props) => (props.selected ? selectBorder : defaultBorder)};\r\n  /* transition: all 0.5s linear; */\r\n  ${(props) =>\r\n    props.odd &&\r\n    css`\r\n      margin-top: -17px;\r\n    `}\r\n\r\n  :before,\r\n  :after {\r\n    content: '';\r\n    box-sizing: border-box;\r\n    position: absolute;\r\n    z-index: 1;\r\n    width: 21.21px;\r\n    height: 21.21px;\r\n    -webkit-transform: scaleY(0.5774) rotate(-45deg);\r\n    -ms-transform: scaleY(0.5774) rotate(-45deg);\r\n    transform: scaleY(0.5774) rotate(-45deg);\r\n    background-color: ${(props) => props.color || ''};\r\n    left: 1.3934px;\r\n    /* transition: all 0.5s linear; */\r\n  }\r\n\r\n  :before {\r\n    top: -10.6066px;\r\n    border-top: solid 4.2426px\r\n      ${(props) => (props.selected ? selectBorder : defaultBorder)};\r\n    border-right: solid 4.2426px\r\n      ${(props) => (props.selected ? selectBorder : defaultBorder)};\r\n  }\r\n\r\n  :after {\r\n    bottom: -10.6066px;\r\n    border-bottom: solid 4.2426px\r\n      ${(props) => (props.selected ? selectBorder : defaultBorder)};\r\n    border-left: solid 4.2426px\r\n      ${(props) => (props.selected ? selectBorder : defaultBorder)};\r\n  }\r\n\r\n  &:hover {\r\n    color: white;\r\n  }\r\n`;\r\n\r\nconst AddIcon = styled(RiAddLine)`\r\n  z-index: 2;\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  &:hover {\r\n    color: white;\r\n  }\r\n`;\r\n\r\nconst PaletteCell = ({\r\n  color,\r\n  selectData,\r\n  onSelectColor,\r\n  onDeleteColor,\r\n  onInsertColor,\r\n  selected,\r\n}) => {\r\n  const onSelectClick = () => {\r\n    if (selected !== true) onSelectColor(selectData);\r\n  };\r\n  const onDeleteDoubleClick = () => {\r\n    // 만일을 위해 셀렉이 된 경우만 삭제되게\r\n    if (selected === true) onDeleteColor(selectData);\r\n  };\r\n  const onInsertClick = () => {\r\n    onInsertColor(selectData.palette);\r\n  };\r\n  return color === undefined ? (\r\n    <Cell color=\"rgba(0,0,0,0)\" onClick={onInsertClick}>\r\n      <AddIcon />\r\n    </Cell>\r\n  ) : (\r\n    <Cell\r\n      color={color}\r\n      selected={selected}\r\n      onClick={onSelectClick}\r\n      onDoubleClick={onDeleteDoubleClick}\r\n    />\r\n  );\r\n};\r\n\r\nexport default React.memo(PaletteCell);\r\n","import React from 'react';\r\nimport styled, { css } from 'styled-components';\r\nimport NickBlock from './NickBlock';\r\nimport PaletteCell from '../../common/PaletteCell';\r\nimport { RiHeartAddLine } from 'react-icons/ri';\r\n\r\nconst PaletteWrapper = styled.div`\r\n  padding-top: 15px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  background: rgba(10, 10, 10, 0.2);\r\n`;\r\nconst PaletteBody = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\nconst PaletteBlock = styled.div`\r\n  display: inherit;\r\n`;\r\nconst PaletteSet = styled.div`\r\n  display: inherit;\r\n  & + & {\r\n    margin-top: 10px;\r\n  }\r\n  ${(props) =>\r\n    props.odd &&\r\n    css`\r\n      margin-left: 17px;\r\n    `}\r\n`;\r\n\r\nconst AddPaletteButton = styled.button`\r\n  box-sizing: border-box;\r\n  outline: none;\r\n  padding: 0;\r\n  margin: 0;\r\n  border-radius: 1rem;\r\n  border: 2px solid black;\r\n  color: black;\r\n  width: 100px;\r\n  height: 30px;\r\n  background: white;\r\n  cursor: pointer;\r\n\r\n  /* &:hover {\r\n    color: black;\r\n    border: 2px solid black;\r\n  } */\r\n`;\r\n\r\nconst Palette = ({\r\n  paletteSet,\r\n  onSelectColor,\r\n  onInsertColor,\r\n  onDeleteColor,\r\n  onChangeNick,\r\n  onInsertPalette,\r\n  onDeletePalette,\r\n  selectColorId,\r\n}) => {\r\n  let count = 0;\r\n  const Palettes = paletteSet.map((palette) => (\r\n    <PaletteSet key={palette.id} odd={++count % 2 === 0}>\r\n      <NickBlock\r\n        paletteId={palette.id}\r\n        paletteNick={palette.nick}\r\n        onChangeNick={onChangeNick}\r\n        onDeletePalette={onDeletePalette}\r\n      />\r\n      <PaletteBlock>\r\n        {palette.colors.map((color, idx) => (\r\n          <PaletteCell\r\n            key={idx}\r\n            color={color}\r\n            selectData={{ palette: palette.id, color: idx }}\r\n            onSelectColor={onSelectColor}\r\n            onDeleteColor={onDeleteColor}\r\n            selected={\r\n              palette.id === selectColorId.paletteId &&\r\n              idx === selectColorId.colorId\r\n            }\r\n          />\r\n        ))}\r\n        {/* palette 색은 최대 10개까지 */}\r\n        {palette.colors.length <= 10 ? (\r\n          <PaletteCell\r\n            selectData={{ palette: palette.id }}\r\n            onInsertColor={onInsertColor}\r\n          />\r\n        ) : null}\r\n      </PaletteBlock>\r\n    </PaletteSet>\r\n  ));\r\n\r\n  return (\r\n    <PaletteWrapper>\r\n      <PaletteBody>\r\n        {Palettes}\r\n        {count < 10 ? (\r\n          <PaletteSet odd={++count % 2 === 0}>\r\n            <AddPaletteButton onClick={onInsertPalette}>\r\n              <RiHeartAddLine />\r\n            </AddPaletteButton>\r\n          </PaletteSet>\r\n        ) : null}\r\n      </PaletteBody>\r\n    </PaletteWrapper>\r\n  );\r\n};\r\n\r\nexport default React.memo(Palette);\r\n","import React, { useCallback } from 'react';\r\nimport Palette from '../../components/dotPaint/dotHeader/Palette';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport {\r\n  selectColor,\r\n  insertColor,\r\n  deleteColor,\r\n  changeNick,\r\n  insertPalette,\r\n  deletePalette,\r\n} from '../../modules/palette';\r\n\r\nconst PaletteContainer = () => {\r\n  const dispatch = useDispatch();\r\n  const { paletteSet, selectColorId } = useSelector(({ dotArt }) => ({\r\n    paletteSet: dotArt.present.palette.paletteSet,\r\n    selectColorId: dotArt.present.palette.selectColorId,\r\n  }));\r\n\r\n  const onSelectColor = useCallback(\r\n    (selectData) => {\r\n      dispatch(selectColor(selectData));\r\n    },\r\n    [dispatch],\r\n  );\r\n  const onInsertColor = useCallback(\r\n    (paletteId) => {\r\n      dispatch(insertColor(paletteId));\r\n    },\r\n    [dispatch],\r\n  );\r\n  const onDeleteColor = useCallback(\r\n    (selectData) => {\r\n      dispatch(deleteColor(selectData));\r\n    },\r\n    [dispatch],\r\n  );\r\n  const onChangeNick = useCallback(\r\n    (paletteId, newNick) => {\r\n      dispatch(changeNick({ paletteId: paletteId, newNick: newNick }));\r\n    },\r\n    [dispatch],\r\n  );\r\n  const onInsertPalette = useCallback(() => {\r\n    dispatch(insertPalette());\r\n  }, [dispatch]);\r\n  const onDeletePalette = useCallback(\r\n    (paletteId) => {\r\n      dispatch(deletePalette(paletteId));\r\n    },\r\n    [dispatch],\r\n  );\r\n  return (\r\n    <>\r\n      <Palette\r\n        paletteSet={paletteSet}\r\n        onSelectColor={onSelectColor}\r\n        onInsertColor={onInsertColor}\r\n        onDeleteColor={onDeleteColor}\r\n        onChangeNick={onChangeNick}\r\n        onInsertPalette={onInsertPalette}\r\n        onDeletePalette={onDeletePalette}\r\n        selectColorId={selectColorId}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PaletteContainer;\r\n","import React, { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { ChromePicker } from 'react-color';\r\n\r\nconst ColorBlock = styled.div`\r\n  margin: 0 auto;\r\n  padding: 2px;\r\n  cursor: pointer;\r\n  border: 0.01rem solid #8e8e8e;\r\n  display: inline-block;\r\n`;\r\n\r\nconst Color = styled.div`\r\n  border-radius: 2px;\r\n  width: 36px;\r\n  height: 14px;\r\n  background: ${(props) => props.backgroundColor || 'white'};\r\n  color: white;\r\n  font-size: 0.5rem;\r\n`;\r\n\r\nconst ColorPickerBlock = styled.div`\r\n  position: absolute;\r\n  z-index: 2;\r\n`;\r\n\r\nconst Cover = styled.div`\r\n  position: fixed;\r\n  top: 0px;\r\n  right: 0px;\r\n  bottom: 0px;\r\n  left: 0px;\r\n`;\r\n\r\nconst ColorPicker = ({ backgroundColor, onChangeColor }) => {\r\n  const [color, setColor] = useState(backgroundColor);\r\n  const [localColor, setLocalColor] = useState(backgroundColor);\r\n  const [displayColorPicker, setDisplayColorPicker] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setColor(backgroundColor);\r\n  }, [backgroundColor]);\r\n\r\n  const handleChange = (pick) => {\r\n    setColor(pick.hex);\r\n  };\r\n\r\n  const handleClick = () => {\r\n    setDisplayColorPicker(!displayColorPicker);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setDisplayColorPicker(false);\r\n    if (color !== localColor) {\r\n      setLocalColor(color);\r\n      onChangeColor(color);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <ColorBlock onClick={handleClick}>\r\n        <Color backgroundColor={color}>{color}</Color>\r\n      </ColorBlock>\r\n      {displayColorPicker ? (\r\n        <ColorPickerBlock>\r\n          <Cover onClick={handleClose} />\r\n          <ChromePicker disableAlpha color={color} onChange={handleChange} />\r\n        </ColorPickerBlock>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(ColorPicker);\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport SketchPicker from '../../common/ColorPicker';\r\n\r\nconst BorderBox = styled.div`\r\n  display: flex;\r\n`;\r\nconst BorderRangeBar = styled.input``;\r\n\r\nconst BorderControl = ({\r\n  borderSize,\r\n  onSizeChange,\r\n  backgroundColor,\r\n  onChangeColor,\r\n}) => {\r\n  return (\r\n    <BorderBox>\r\n      <span>테두리 크기 : {borderSize}px</span>\r\n      <BorderRangeBar\r\n        type=\"range\"\r\n        min=\"0\"\r\n        max=\"50\"\r\n        value={borderSize * 10}\r\n        onChange={onSizeChange}\r\n        step=\"5\"\r\n      />\r\n      색상:\r\n      <SketchPicker\r\n        backgroundColor={backgroundColor}\r\n        onChangeColor={onChangeColor}\r\n      />\r\n    </BorderBox>\r\n  );\r\n};\r\n\r\nexport default BorderControl;\r\n","import React, { useCallback } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { changeDotBorderSize, changeDotBorderColor } from '../../modules/dot';\r\nimport BorderControl from '../../components/dotPaint/dotHeader/BorderControl';\r\n\r\nconst DotBorderContainer = () => {\r\n  const dispatch = useDispatch();\r\n  const { borderSize, borderColor } = useSelector(({ dotArt }) => ({\r\n    borderSize: dotArt.present.dot.border.size,\r\n    borderColor: dotArt.present.dot.border.color,\r\n  }));\r\n\r\n  const onSizeChange = useCallback(\r\n    (e) => {\r\n      dispatch(changeDotBorderSize(e.target.value / 10));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  const onChangeColor = useCallback(\r\n    (pick) => {\r\n      dispatch(changeDotBorderColor(pick));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <BorderControl\r\n        borderSize={borderSize}\r\n        onSizeChange={onSizeChange}\r\n        backgroundColor={borderColor}\r\n        onChangeColor={onChangeColor}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DotBorderContainer;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst DotSizeBlock = styled.div``;\r\nconst DotSizeRangeBar = styled.input``;\r\n\r\nconst DotSizeChanger = ({ dotSize, onChange }) => {\r\n  return (\r\n    <>\r\n      <DotSizeBlock>\r\n        <span>도트 크기{dotSize}</span>\r\n        <DotSizeRangeBar\r\n          type=\"range\"\r\n          min=\"4\"\r\n          max=\"20\"\r\n          value={dotSize * 10}\r\n          onChange={onChange}\r\n          step=\"2\"\r\n        />\r\n      </DotSizeBlock>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DotSizeChanger;\r\n","import React, { useCallback } from 'react';\r\nimport DotSizeChanger from '../../components/dotPaint/dotHeader/DotSizeChanger';\r\nimport { changeDotSize } from '../../modules/dot';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nconst DotSizeContainer = () => {\r\n  const dispatch = useDispatch();\r\n  const { dotSize } = useSelector(({ dotArt }) => ({\r\n    dotSize: dotArt.present.dot.dotSize,\r\n  }));\r\n\r\n  const handleOnChange = useCallback(\r\n    (e) => {\r\n      dispatch(changeDotSize(e.target.value / 10));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <DotSizeChanger dotSize={dotSize} onChange={handleOnChange} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DotSizeContainer;\r\n","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport CustomButton from '../../common/CustomButton';\r\nimport { TiPlusOutline, TiMinusOutline } from 'react-icons/ti';\r\n\r\nconst DotAreaBlock = styled.div`\r\n  display: flex;\r\n  width: 120px;\r\n  height: 40px;\r\n`;\r\nconst AreaInput = styled.input`\r\n  font-size: 20px;\r\n  width: 40px;\r\n  height: 40px;\r\n  border: 1px solid #225ea7;\r\n  outline: none;\r\n  border-radius: 0.5rem;\r\n  text-align: center;\r\n  box-shadow: 0 0.3rem #999;\r\n  transition: all 0.3s ease-in-out;\r\n`;\r\n\r\nconst DotAreaControl = ({ onChangeArea, row, column, dotClear }) => {\r\n  const [rowCount, setRowCount] = useState(row);\r\n  const [columnCount, setColumnCount] = useState(column);\r\n\r\n  const onChangeRow = (e) => {\r\n    setRowCount(e.target.value.replace(/[^0-9]/g, ''));\r\n  };\r\n\r\n  const onChangeColumn = (e) => {\r\n    setColumnCount(e.target.value.replace(/[^0-9]/g, ''));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <DotAreaBlock>\r\n        <CustomButton\r\n          onClick={() => {\r\n            setRowCount(rowCount + 1);\r\n            onChangeArea(rowCount + 1, columnCount);\r\n          }}\r\n        >\r\n          <TiPlusOutline />\r\n        </CustomButton>\r\n        <AreaInput value={rowCount} onChange={onChangeRow} />\r\n        <CustomButton\r\n          onClick={() => {\r\n            setRowCount(rowCount - 1);\r\n            onChangeArea(rowCount - 1, columnCount);\r\n          }}\r\n        >\r\n          <TiMinusOutline />\r\n        </CustomButton>\r\n      </DotAreaBlock>\r\n      <DotAreaBlock>\r\n        <CustomButton\r\n          onClick={() => {\r\n            setColumnCount(columnCount + 1);\r\n            onChangeArea(rowCount, columnCount + 1);\r\n          }}\r\n        >\r\n          <TiPlusOutline />\r\n        </CustomButton>\r\n        <AreaInput value={columnCount} onChange={onChangeColumn} />\r\n        <CustomButton\r\n          onClick={() => {\r\n            setColumnCount(columnCount - 1);\r\n            onChangeArea(rowCount, columnCount - 1);\r\n          }}\r\n        >\r\n          <TiMinusOutline />\r\n        </CustomButton>\r\n      </DotAreaBlock>\r\n      <DotAreaBlock>\r\n        <button onClick={() => onChangeArea(rowCount, columnCount)}>\r\n          커밋\r\n        </button>\r\n        <button onClick={dotClear}>초기화버튼임</button>\r\n      </DotAreaBlock>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default React.memo(DotAreaControl);\r\n","import React, { useCallback } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { changeDotArea, clearDot } from '../../modules/dot';\r\nimport DotAreaControl from '../../components/dotPaint/dotHeader/DotAreaControl';\r\n\r\nconst DotAreaContainer = () => {\r\n  const dispatch = useDispatch();\r\n  const { rowCount, columnCount } = useSelector(({ dotArt }) => ({\r\n    rowCount: dotArt.present.dot.rowCount,\r\n    columnCount: dotArt.present.dot.columnCount,\r\n  }));\r\n\r\n  const onChangeArea = useCallback(\r\n    (row, column) => {\r\n      dispatch(\r\n        changeDotArea({ newRow: parseInt(row), newColumn: parseInt(column) }),\r\n      );\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  const handleDotClear = useCallback(() => {\r\n    dispatch(clearDot());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <>\r\n      <DotAreaControl\r\n        onChangeArea={onChangeArea}\r\n        row={rowCount}\r\n        column={columnCount}\r\n        dotClear={handleDotClear}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DotAreaContainer;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst selectBorder = '#000000';\r\nconst defaultBorder = '#ffffff';\r\n\r\nconst Cell = styled.div`\r\n  cursor: pointer;\r\n  box-sizing: border-box;\r\n  position: relative;\r\n  width: 30px;\r\n  height: 17.32px;\r\n  margin-left: 0px;\r\n  background-color: ${(props) => props.color || ''};\r\n  border-left: solid 3px\r\n    ${(props) => (props.selected ? selectBorder : defaultBorder)};\r\n  border-right: solid 3px\r\n    ${(props) => (props.selected ? selectBorder : defaultBorder)};\r\n\r\n  :before,\r\n  :after {\r\n    content: '';\r\n    box-sizing: border-box;\r\n    position: absolute;\r\n    z-index: 1;\r\n    width: 21.21px;\r\n    height: 21.21px;\r\n    -webkit-transform: scaleY(0.5774) rotate(-45deg);\r\n    -ms-transform: scaleY(0.5774) rotate(-45deg);\r\n    transform: scaleY(0.5774) rotate(-45deg);\r\n    background-color: ${(props) => props.color || ''};\r\n    left: 1.3934px;\r\n  }\r\n\r\n  :before {\r\n    top: -10.6066px;\r\n    border-top: solid 4.2426px\r\n      ${(props) => (props.selected ? selectBorder : defaultBorder)};\r\n    border-right: solid 4.2426px\r\n      ${(props) => (props.selected ? selectBorder : defaultBorder)};\r\n  }\r\n\r\n  :after {\r\n    bottom: -10.6066px;\r\n    border-bottom: solid 4.2426px\r\n      ${(props) => (props.selected ? selectBorder : defaultBorder)};\r\n    border-left: solid 4.2426px\r\n      ${(props) => (props.selected ? selectBorder : defaultBorder)};\r\n  }\r\n\r\n  &:hover {\r\n    color: white;\r\n  }\r\n`;\r\n\r\nconst ColorCell = ({ children, innerRef, ...rest }) => {\r\n  return (\r\n    <Cell ref={innerRef} {...rest}>\r\n      {children}\r\n    </Cell>\r\n  );\r\n};\r\n\r\nexport default ColorCell;\r\n","import React from 'react';\r\nimport { Draggable } from 'react-beautiful-dnd';\r\nimport ColorCell from '../common/ColorCell';\r\n\r\nconst PaletteCell = ({\r\n  color,\r\n  paletteId,\r\n  cellIdx,\r\n  selected,\r\n  handleSelectColorCell,\r\n}) => {\r\n  return (\r\n    <Draggable\r\n      key={cellIdx}\r\n      draggableId={`cell-${paletteId}-${cellIdx}`}\r\n      index={cellIdx}\r\n    >\r\n      {(provided) => (\r\n        <ColorCell\r\n          color={color}\r\n          selected={selected}\r\n          // ref={provided.innerRef}\r\n          innerRef={provided.innerRef}\r\n          {...provided.draggableProps}\r\n          {...provided.dragHandleProps}\r\n          onClick={() => handleSelectColorCell(paletteId, cellIdx)}\r\n        />\r\n      )}\r\n    </Draggable>\r\n  );\r\n};\r\n\r\nexport default PaletteCell;\r\n","import React from 'react';\r\nimport { Droppable, Draggable } from 'react-beautiful-dnd';\r\nimport PaletteCell from './PaletteCell';\r\nimport styled from 'styled-components';\r\nimport { GrDrag } from 'react-icons/gr';\r\n\r\nconst PaletteBlock = styled.div`\r\n  display: flex;\r\n  margin-top: 8px;\r\n  &:nth-child(odd) {\r\n    margin-left: 16px;\r\n  }\r\n`;\r\n\r\nconst PaletteDragHandle = styled.div`\r\n  width: 16px;\r\n  height: 16px;\r\n`;\r\n\r\nconst DraggBlock = styled.div`\r\n  display: flex;\r\n  /* width: 300px; */\r\n`;\r\n\r\nfunction customStyle(style, snapshot, odd, smallThenDragIdx) {\r\n  if (snapshot.isDragging) {\r\n    return style;\r\n  }\r\n\r\n  const { transform } = style;\r\n  if (transform === null) {\r\n    return { ...style };\r\n  }\r\n\r\n  return {\r\n    ...style,\r\n    marginLeft: `0px`,\r\n    transform: `${style.transform.slice(0, 9)}(${\r\n      smallThenDragIdx ? (odd ? 16 : 0) : odd ? 0 : 16\r\n    }${style.transform.slice(11)}`,\r\n  };\r\n}\r\n\r\nconst blockCustomStyle = (isDraggingOver) => ({\r\n  background: isDraggingOver ? `gray` : ``,\r\n});\r\n\r\nconst Palette = ({\r\n  palette,\r\n  idx,\r\n  dragIdx,\r\n  selectColorId,\r\n  handleSelectColorCell,\r\n}) => {\r\n  return (\r\n    <Draggable key={palette.id} draggableId={`pale-${palette.id}`} index={idx}>\r\n      {(provided, snapshot) => (\r\n        <PaletteBlock\r\n          {...provided.draggableProps}\r\n          ref={provided.innerRef}\r\n          style={customStyle(\r\n            provided.draggableProps.style,\r\n            snapshot,\r\n            idx % 2 !== 0,\r\n            dragIdx > idx,\r\n          )}\r\n        >\r\n          <PaletteDragHandle {...provided.dragHandleProps}>\r\n            <GrDrag />\r\n          </PaletteDragHandle>\r\n          <Droppable\r\n            droppableId={`${palette.id}`}\r\n            type=\"cell\"\r\n            direction=\"horizontal\"\r\n            isDropDisabled={!(palette.colors.length < 7)}\r\n          >\r\n            {(provided, snapshot) => (\r\n              <DraggBlock\r\n                ref={provided.innerRef}\r\n                {...provided.droppableProps}\r\n                style={blockCustomStyle(snapshot.isDraggingOver)}\r\n              >\r\n                {palette.colors.map((color, cellIdx) => (\r\n                  <PaletteCell\r\n                    color={color}\r\n                    paletteId={palette.id}\r\n                    cellIdx={cellIdx}\r\n                    key={`${palette.id}${cellIdx}`}\r\n                    selected={\r\n                      selectColorId.paletteId === palette.id &&\r\n                      selectColorId.colorId === cellIdx\r\n                    }\r\n                    handleSelectColorCell={handleSelectColorCell}\r\n                  />\r\n                ))}\r\n                {provided.placeholder}\r\n              </DraggBlock>\r\n            )}\r\n          </Droppable>\r\n        </PaletteBlock>\r\n      )}\r\n    </Draggable>\r\n  );\r\n};\r\n\r\nexport default Palette;\r\n","import React from 'react';\r\nimport { Droppable } from 'react-beautiful-dnd';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport styled from 'styled-components';\r\n\r\nconst TrashCanWrapper = styled.div`\r\n  ${(props) => (props.displayBool ? `` : `display: none`)}\r\n`;\r\n\r\nconst TrashCanBlock = styled.div`\r\n  width: 35px;\r\n  height: 35px;\r\n  background: skyblue;\r\n`;\r\n\r\nconst TrashCan = ({ dragType }) => {\r\n  return (\r\n    <React.Fragment>\r\n      <TrashCanWrapper displayBool={dragType === 'pale'}>\r\n        <Droppable type=\"palettes\" droppableId=\"PaletteTrashCan\">\r\n          {(provided) => (\r\n            <TrashCanBlock ref={provided.innerRef} {...provided.droppableProps}>\r\n              <DeleteIcon fontSize=\"large\" />\r\n              {provided.placeholder}\r\n            </TrashCanBlock>\r\n          )}\r\n        </Droppable>\r\n      </TrashCanWrapper>\r\n      <TrashCanWrapper displayBool={dragType === 'cell'}>\r\n        <Droppable type=\"cell\" droppableId=\"CellTrashCan\">\r\n          {(provided) => (\r\n            <TrashCanBlock ref={provided.innerRef} {...provided.droppableProps}>\r\n              <DeleteIcon fontSize=\"large\" />\r\n              {provided.placeholder}\r\n            </TrashCanBlock>\r\n          )}\r\n        </Droppable>\r\n      </TrashCanWrapper>\r\n      <TrashCanWrapper displayBool={dragType === 'temp'}>\r\n        <TrashCanBlock>\r\n          <DeleteIcon fontSize=\"large\" />\r\n        </TrashCanBlock>\r\n      </TrashCanWrapper>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default TrashCan;\r\n","import React from 'react';\r\nimport { Draggable } from 'react-beautiful-dnd';\r\nimport ColorCell from '../common/ColorCell';\r\n\r\nconst TempBlockCell = ({ color, cellIdx }) => {\r\n  return (\r\n    <Draggable key={cellIdx} draggableId={`temp-${cellIdx}`} index={cellIdx}>\r\n      {(provided) => (\r\n        <ColorCell\r\n          color={color}\r\n          innerRef={provided.innerRef}\r\n          {...provided.draggableProps}\r\n          {...provided.dragHandleProps}\r\n        />\r\n      )}\r\n    </Draggable>\r\n  );\r\n};\r\n\r\nexport default TempBlockCell;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Droppable } from 'react-beautiful-dnd';\r\nimport TempBlockCell from './TempBlockCell';\r\n\r\nconst TempBlockDiv = styled.div`\r\n  background: rgba(0, 0, 0, 0.3);\r\n  /* width: calc(100% - 40px); */\r\n  width: 100%;\r\n  padding: 8px;\r\n  display: flex;\r\n  flex-wrap: nowrap;\r\n  overflow-x: auto;\r\n  overflow-y: hidden;\r\n  & > * {\r\n    min-width: 30px;\r\n    /* margin-top: 8px; */\r\n  }\r\n  &::-webkit-scrollbar {\r\n    width: 2px;\r\n    height: 2px;\r\n  }\r\n  &::-webkit-scrollbar-track {\r\n    background: #f1f1f1;\r\n  }\r\n  &::-webkit-scrollbar-thumb {\r\n    background: #888;\r\n  }\r\n  &::-webkit-scrollbar-thumb:hover {\r\n    background: #555;\r\n  }\r\n`;\r\nconst TempBlock = ({ trashCan }) => {\r\n  return (\r\n    <Droppable\r\n      droppableId=\"temp\"\r\n      type=\"cell\"\r\n      direction=\"horizontal\"\r\n      isDropDisabled={true}\r\n    >\r\n      {(provided) => (\r\n        <TempBlockDiv ref={provided.innerRef} {...provided.droppableProps}>\r\n          {trashCan.map((color, cellIdx) => (\r\n            <TempBlockCell\r\n              color={color}\r\n              cellIdx={cellIdx}\r\n              key={`temp-${cellIdx}`}\r\n            />\r\n          ))}\r\n          {provided.placeholder}\r\n        </TempBlockDiv>\r\n      )}\r\n    </Droppable>\r\n  );\r\n};\r\n\r\nexport default TempBlock;\r\n","import React, { useState } from 'react';\r\nimport { Droppable, DragDropContext } from 'react-beautiful-dnd';\r\nimport Palette from './Palette';\r\nimport TrashCan from './TrashCan';\r\nimport TempBlock from './TempBlock';\r\nimport styled from 'styled-components';\r\nimport ColorCell from '../common/ColorCell';\r\n\r\nconst DraggablePaletteBlock = styled.div`\r\n  padding: 8px 0px;\r\n  background: gray;\r\n`;\r\n\r\nconst CloneBlock = styled.div`\r\n  display: flex;\r\n  margin-left: 32px;\r\n`;\r\n\r\nconst TrashBlock = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst getListStyle = (isDraggingOver) => ({\r\n  background: isDraggingOver ? 'lightblue' : 'lightgrey',\r\n});\r\n\r\nconst Palettes = ({\r\n  palettes,\r\n  trashCan,\r\n  selectColorId,\r\n  handleReorderPalettes,\r\n  handleReorderCell,\r\n  handleMovePaletteToTrashCan,\r\n  handleMoveCellToTrashCan,\r\n  handleMoveCellFromTrashCan,\r\n  handleSelectColorCell,\r\n}) => {\r\n  const [dragIdx, setDragIdx] = useState(0);\r\n  const [dragType, setDragType] = useState('pale');\r\n  const onDragEnd = (result) => {\r\n    if (!result.destination) {\r\n      return;\r\n    }\r\n\r\n    if (result.type === 'palettes') {\r\n      if (result.destination.droppableId === 'PaletteTrashCan') {\r\n        handleMovePaletteToTrashCan(result.source.index);\r\n      } else {\r\n        handleReorderPalettes(result.source.index, result.destination.index);\r\n      }\r\n    } else if (result.type === 'cell') {\r\n      if (result.destination.droppableId === 'CellTrashCan') {\r\n        handleMoveCellToTrashCan(\r\n          result.source.droppableId,\r\n          result.source.index,\r\n        );\r\n      } else if (result.source.droppableId === 'temp') {\r\n        handleMoveCellFromTrashCan(\r\n          result.destination.droppableId,\r\n          result.source.index,\r\n          result.destination.index,\r\n        );\r\n      } else {\r\n        handleReorderCell(\r\n          result.source.droppableId,\r\n          result.destination.droppableId,\r\n          result.source.index,\r\n          result.destination.index,\r\n        );\r\n      }\r\n    } else {\r\n      console.log(result);\r\n    }\r\n  };\r\n\r\n  const onBeforeDragStart = (result) => {\r\n    setDragIdx(result.source.index);\r\n  };\r\n\r\n  const onBeforeCapture = (result) => {\r\n    setDragType(result.draggableId.substring(0, 4));\r\n  };\r\n\r\n  return (\r\n    <DragDropContext\r\n      onDragEnd={onDragEnd}\r\n      onBeforeDragStart={onBeforeDragStart}\r\n      onBeforeCapture={onBeforeCapture}\r\n    >\r\n      <TrashBlock>\r\n        <TrashCan dragType={dragType} />\r\n        <TempBlock trashCan={trashCan} />\r\n      </TrashBlock>\r\n      <Droppable\r\n        droppableId=\"palettes\"\r\n        type=\"palettes\"\r\n        renderClone={(provided) => (\r\n          <CloneBlock\r\n            {...provided.draggableProps}\r\n            {...provided.dragHandleProps}\r\n            ref={provided.innerRef}\r\n          >\r\n            <ColorCell />\r\n            <ColorCell />\r\n            <ColorCell />\r\n            <ColorCell />\r\n            <ColorCell />\r\n          </CloneBlock>\r\n        )}\r\n      >\r\n        {(provided, snapshot) => (\r\n          <DraggablePaletteBlock\r\n            ref={provided.innerRef}\r\n            {...provided.droppableProps}\r\n            style={getListStyle(snapshot.isDraggingOver)}\r\n          >\r\n            {palettes.map((palette, idx) => (\r\n              <Palette\r\n                palette={palette}\r\n                key={palette.id}\r\n                idx={idx}\r\n                dragIdx={dragIdx}\r\n                selectColorId={selectColorId}\r\n                handleSelectColorCell={handleSelectColorCell}\r\n              />\r\n            ))}\r\n            {provided.placeholder}\r\n          </DraggablePaletteBlock>\r\n        )}\r\n      </Droppable>\r\n    </DragDropContext>\r\n  );\r\n};\r\n\r\nexport default React.memo(Palettes);\r\n","import React, { useCallback } from 'react';\r\nimport Palettes from '../../components/dotArtTools/Palettes';\r\nimport {\r\n  reorderPalettes,\r\n  reorderPaletteCell,\r\n  movePaletteToTrashCan,\r\n  moveCellToTrashCan,\r\n  moveCellFromTrashCan,\r\n  selectColorCell,\r\n} from '../../modules/palettes';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nconst PalettesConatiner = () => {\r\n  const dispatch = useDispatch();\r\n  const { palettes, trashCan, selectColorId } = useSelector(({ dotArt }) => ({\r\n    palettes: dotArt.present.palettes.palettes,\r\n    trashCan: dotArt.present.palettes.trashCan,\r\n    selectColorId: dotArt.present.palettes.selectColorId,\r\n  }));\r\n\r\n  const handleReorderPalettes = useCallback(\r\n    (startIdx, endIdx) => {\r\n      dispatch(reorderPalettes({ startIdx, endIdx }));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  const handleReorderCell = useCallback(\r\n    (startPaletteId, endPaletteId, startIdx, endIdx) => {\r\n      dispatch(\r\n        reorderPaletteCell({ startPaletteId, endPaletteId, startIdx, endIdx }),\r\n      );\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  const handleMovePaletteToTrashCan = useCallback(\r\n    (dragIdx) => {\r\n      dispatch(movePaletteToTrashCan({ dragIdx }));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  const handleMoveCellToTrashCan = useCallback(\r\n    (paletteId, dragIdx) => {\r\n      dispatch(moveCellToTrashCan({ paletteId, dragIdx }));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  const handleMoveCellFromTrashCan = useCallback(\r\n    (endPaletteId, startIdx, endIdx) => {\r\n      dispatch(moveCellFromTrashCan({ endPaletteId, startIdx, endIdx }));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  const handleSelectColorCell = useCallback(\r\n    (paletteId, selectIdx) =>\r\n      dispatch(selectColorCell({ paletteId, selectIdx })),\r\n    [dispatch],\r\n  );\r\n\r\n  return (\r\n    <Palettes\r\n      palettes={palettes}\r\n      trashCan={trashCan}\r\n      selectColorId={selectColorId}\r\n      handleReorderPalettes={handleReorderPalettes}\r\n      handleReorderCell={handleReorderCell}\r\n      handleMovePaletteToTrashCan={handleMovePaletteToTrashCan}\r\n      handleMoveCellToTrashCan={handleMoveCellToTrashCan}\r\n      handleMoveCellFromTrashCan={handleMoveCellFromTrashCan}\r\n      handleSelectColorCell={handleSelectColorCell}\r\n    />\r\n  );\r\n};\r\n\r\nexport default React.memo(PalettesConatiner);\r\n","import React from 'react';\r\nimport SwipeableViews from 'react-swipeable-views';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Box from '@material-ui/core/Box';\r\nimport PaletteContainer from '../../containers/DotHeader/PaletteContainer';\r\nimport DotBorderContainer from '../../containers/DotHeader/DotBorderContainer';\r\nimport DotSizeContainer from '../../containers/DotHeader/DotSizeContainer';\r\nimport DotAreaContainer from '../../containers/DotHeader/DotAreaContainer';\r\nimport PalettesConatiner from '../../containers/dotArtTools/PalettesContainer';\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      //   id={`full-width-tabpanel-${index}`}\r\n      //   aria-labelledby={`full-width-tab-${index}`}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && <Box p={3}>{children}</Box>}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    // id: `full-width-tab-${index}`,\r\n    // 'aria-controls': `full-width-tabpanel-${index}`,\r\n    id: `simple-tab-${index}`,\r\n    'aria-controls': `simple-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    width: '100%',\r\n    // position: 'fixed',\r\n    bottom: '0px',\r\n    height: '250px',\r\n  },\r\n}));\r\n\r\nconst BottomTools = () => {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [value, setValue] = React.useState(0);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  const handleChangeIndex = (index) => {\r\n    setValue(index);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\" color=\"default\">\r\n        <Tabs\r\n          value={value}\r\n          onChange={handleChange}\r\n          indicatorColor=\"secondary\"\r\n          textColor=\"secondary\"\r\n          //   variant=\"fullWidth\"\r\n          //   aria-label=\"full width tabs example\"\r\n          aria-label=\"simple tabs example\"\r\n        >\r\n          <Tab label=\"Item One\" {...a11yProps(0)} />\r\n          <Tab label=\"Item Two\" {...a11yProps(1)} />\r\n          <Tab label=\"Item Three\" {...a11yProps(2)} />\r\n        </Tabs>\r\n      </AppBar>\r\n      <SwipeableViews\r\n        axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\r\n        index={value}\r\n        onChangeIndex={handleChangeIndex}\r\n      >\r\n        <TabPanel value={value} index={0} dir={theme.direction}>\r\n          {/* <PalettesConatiner /> */}\r\n        </TabPanel>\r\n        <TabPanel value={value} index={1} dir={theme.direction}>\r\n          <DotBorderContainer />\r\n          <DotSizeContainer />\r\n          <DotAreaContainer />\r\n        </TabPanel>\r\n        <TabPanel value={value} index={2} dir={theme.direction}>\r\n          <PaletteContainer />\r\n        </TabPanel>\r\n      </SwipeableViews>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BottomTools;\r\n","import React from 'react';\r\nimport BottomTools from '../../components/dotArtTools/BottomTools';\r\n\r\nconst BottomToolsContainer = () => {\r\n  return <BottomTools />;\r\n};\r\n\r\nexport default BottomToolsContainer;\r\n","import React from 'react';\r\nimport { FaUndo, FaRedo } from 'react-icons/fa';\r\nimport CustomButton from '../common/CustomButton';\r\nimport styled from 'styled-components';\r\n\r\nconst RedoUndoBlock = styled.div`\r\n  display: flex;\r\n  height: 40px;\r\n`;\r\n\r\nconst UndoRedo = ({ undoHandle, redoHandle }) => {\r\n  return (\r\n    <RedoUndoBlock>\r\n      <CustomButton onClick={() => undoHandle()}>\r\n        <FaUndo />\r\n      </CustomButton>\r\n      <CustomButton onClick={() => redoHandle()}>\r\n        <FaRedo />\r\n      </CustomButton>\r\n    </RedoUndoBlock>\r\n  );\r\n};\r\n\r\nexport default UndoRedo;\r\n","import React, { useCallback } from 'react';\r\nimport { ActionCreators } from 'redux-undo';\r\nimport { useDispatch } from 'react-redux';\r\nimport UndoRedo from '../../components/dotArtTools/UndoRedo';\r\n\r\nconst UndoRedoContainer = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const undoHandle = useCallback(() => {\r\n    dispatch(ActionCreators.undo());\r\n  }, [dispatch]);\r\n  const redoHandle = useCallback(() => {\r\n    dispatch(ActionCreators.redo());\r\n  }, [dispatch]);\r\n\r\n  return <UndoRedo undoHandle={undoHandle} redoHandle={redoHandle} />;\r\n};\r\n\r\nexport default UndoRedoContainer;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport GetAppIcon from '@material-ui/icons/GetApp';\r\nimport PublishIcon from '@material-ui/icons/Publish';\r\nimport CustomButton from '../common/CustomButton';\r\nimport FiberNewIcon from '@material-ui/icons/FiberNew';\r\nimport { useSnackbar } from 'notistack';\r\n\r\nconst SaveLoadBlock = styled.div`\r\n  display: flex;\r\n  /* width: 240px; */\r\n  height: 40px;\r\n`;\r\n\r\nconst SaveLoad = ({\r\n  newProjectHandler,\r\n  saveHandler,\r\n  loadHandler,\r\n  downLoadHandler,\r\n}) => {\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  const onClickNewProject = () => {\r\n    newProjectHandler();\r\n  };\r\n\r\n  const onClickSave = () => {\r\n    if (saveHandler()) {\r\n      enqueueSnackbar('Save DotArt To LocalStorage', { variant: 'success' });\r\n    } else {\r\n      enqueueSnackbar('Save Fail!', { variant: 'error' });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <SaveLoadBlock>\r\n      <CustomButton onClick={onClickNewProject}>\r\n        <FiberNewIcon fontSize=\"large\" />\r\n      </CustomButton>\r\n      <CustomButton onClick={onClickSave}>\r\n        <PublishIcon />\r\n      </CustomButton>\r\n      <CustomButton onClick={() => loadHandler('Load')}>\r\n        <GetAppIcon />\r\n      </CustomButton>\r\n      <CustomButton onClick={() => downLoadHandler('DownLoad')}>\r\n        Down\r\n      </CustomButton>\r\n    </SaveLoadBlock>\r\n  );\r\n};\r\n\r\nexport default SaveLoad;\r\n","import React, { useCallback, useEffect } from 'react';\r\nimport SaveLoad from '../../components/dotArtTools/SaveLoad';\r\nimport { saveDotArtToStorage } from '../../util/localStorage';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { changeTypeAndOpen } from '../../modules/dialog';\r\nimport { getDataFromStorage, initialStorage } from '../../util/localStorage';\r\nimport { newDotArtProject, loadDotArt } from '../../modules/dot';\r\nimport { loadPalettes } from '../../modules/palettes';\r\nimport shortid from 'shortid';\r\n\r\nconst SaveLoadContainer = () => {\r\n  const dispatch = useDispatch();\r\n  const {\r\n    dotList,\r\n    border,\r\n    dotSize,\r\n    columnCount,\r\n    rowCount,\r\n    animationDuration,\r\n  } = useSelector(({ dotArt: { present: { dot } } }) => ({\r\n    dotList: dot.dotList,\r\n    border: dot.border,\r\n    dotSize: dot.dotSize,\r\n    columnCount: dot.columnCount,\r\n    rowCount: dot.rowCount,\r\n    animationDuration: dot.animationDuration,\r\n  }));\r\n  const { palettes, selectColorId } = useSelector(\r\n    ({\r\n      dotArt: {\r\n        present: { palettes },\r\n      },\r\n    }) => ({\r\n      palettes: palettes.palettes,\r\n      selectColorId: palettes.selectColorId,\r\n    }),\r\n  );\r\n\r\n  useEffect(() => {\r\n    let loadedData = getDataFromStorage(localStorage);\r\n    if (loadedData) {\r\n      dispatch(loadDotArt(loadedData.dotArt[loadedData.current].dot));\r\n      dispatch(loadPalettes(loadedData.dotArt[loadedData.current].palettes));\r\n    } else {\r\n      initialStorage(localStorage);\r\n      loadedData = getDataFromStorage(localStorage);\r\n      dispatch(loadDotArt(loadedData.dotArt[loadedData.current].dot));\r\n      dispatch(loadPalettes(loadedData.dotArt[loadedData.current].palettes));\r\n    }\r\n  }, []);\r\n\r\n  const newProjectHandler = useCallback(() => {\r\n    dispatch(newDotArtProject());\r\n  }, [dispatch]);\r\n\r\n  const loadHandler = useCallback(\r\n    (type) => {\r\n      dispatch(changeTypeAndOpen(type));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  const downLoadHandler = useCallback(\r\n    (type) => {\r\n      dispatch(changeTypeAndOpen(type));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  const saveHandler = () => {\r\n    const saveDotArtData = {\r\n      dot: {\r\n        id: shortid.generate(),\r\n        dotList: dotList,\r\n        border: border,\r\n        dotSize: dotSize,\r\n        columnCount: columnCount,\r\n        rowCount: rowCount,\r\n        animationDuration: animationDuration,\r\n      },\r\n      palettes: { palettes: palettes, selectColorId: selectColorId },\r\n    };\r\n\r\n    return saveDotArtToStorage(localStorage, saveDotArtData);\r\n  };\r\n\r\n  return (\r\n    <SaveLoad\r\n      newProjectHandler={newProjectHandler}\r\n      saveHandler={saveHandler}\r\n      loadHandler={loadHandler}\r\n      downLoadHandler={downLoadHandler}\r\n    />\r\n  );\r\n};\r\n\r\nexport default React.memo(SaveLoadContainer);\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport {\r\n  changePaintTool,\r\n  DOT,\r\n  BUCKET,\r\n  PICKER,\r\n  ERASER,\r\n} from '../../modules/paintTool';\r\nimport { ActionCreators } from 'redux-undo';\r\nimport tinykeys from 'tinykeys';\r\n\r\nconst KeyBindings = () => {\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    const keyCombinations = {\r\n      '$mod+KeyZ': (event) => {\r\n        event.preventDefault();\r\n        dispatch(ActionCreators.undo());\r\n      },\r\n      '$mod+Shift+KeyZ': (event) => {\r\n        event.preventDefault();\r\n        dispatch(ActionCreators.redo());\r\n      },\r\n      // prettier-ignore\r\n      'KeyQ': event => {\r\n        event.preventDefault();\r\n        dispatch(changePaintTool(DOT));\r\n      },\r\n      // prettier-ignore\r\n      'KeyW': event => {\r\n          event.preventDefault();\r\n          dispatch(changePaintTool(BUCKET));\r\n        },\r\n      // prettier-ignore\r\n      'KeyE': event => {\r\n          event.preventDefault();\r\n          dispatch(changePaintTool(PICKER));\r\n        },\r\n      // prettier-ignore\r\n      'KeyR': event => {\r\n          event.preventDefault();\r\n          dispatch(changePaintTool(ERASER));\r\n        },\r\n      //   '$mod+ArrowRight': (event) => {\r\n      //     event.preventDefault();\r\n      //     dispatch(changeDimensions('columns', 1));\r\n      //   },\r\n      //   '$mod+ArrowLeft': (event) => {\r\n      //     event.preventDefault();\r\n      //     dispatch(changeDimensions('columns', -1));\r\n      //   },\r\n      //   '$mod+ArrowDown': (event) => {\r\n      //     event.preventDefault();\r\n      //     dispatch(changeDimensions('rows', 1));\r\n      //   },\r\n      //   '$mod+ArrowUp': (event) => {\r\n      //     event.preventDefault();\r\n      //     dispatch(changeDimensions('rows', -1));\r\n      //   },\r\n    };\r\n    const unsubscribe = tinykeys(window, keyCombinations);\r\n    return () => {\r\n      unsubscribe();\r\n    };\r\n  });\r\n  return <div />;\r\n};\r\n\r\nexport default KeyBindings;\r\n","import React from 'react';\r\nimport KeyBingings from '../../components/dotArtTools/KeyBindings';\r\n\r\nconst KeyBindingsContainer = () => {\r\n  return <KeyBingings />;\r\n};\r\n\r\nexport default KeyBindingsContainer;\r\n","import React from 'react';\r\nimport DialogContainer from '../containers/dialog/DialogContainer';\r\nimport DotListContainer from '../containers/dotArtTools/DotListContainer';\r\nimport PreViewContainer from '../containers/dotArtTools/PreViewContainer';\r\nimport DotPaintContainer from '../containers/DotPaintContainer';\r\nimport PaintToolContainer from '../containers/DotHeader/PaintToolContainer';\r\nimport BottomToolsContainer from '../containers/dotArtTools/BottomToolsContainer';\r\nimport UndoRedoContainer from '../containers/dotArtTools/UndoRedoContainer';\r\nimport SaveLoadContainer from '../containers/dotArtTools/SaveLoadContainer';\r\nimport PalettesContainer from '../containers/dotArtTools/PalettesContainer';\r\nimport KeyBingingsContainer from '../containers/dotArtTools/KeyBindingsContainer';\r\nimport styled from 'styled-components';\r\n\r\nconst MainWrapper = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst LeftToolBox = styled.div`\r\n  & > * {\r\n    margin: 8px 0px;\r\n    max-width: 240px;\r\n  }\r\n`;\r\n\r\nconst RightToolBox = styled.div`\r\n  & > * {\r\n    margin: 8px 0px;\r\n    max-width: 240px;\r\n  }\r\n`;\r\n\r\nconst DotArtPage = () => {\r\n  return (\r\n    <React.Fragment>\r\n      <DialogContainer />\r\n      <DotListContainer />\r\n      <MainWrapper>\r\n        <LeftToolBox>\r\n          <SaveLoadContainer />\r\n          <PaintToolContainer />\r\n          <UndoRedoContainer />\r\n          <PalettesContainer />\r\n        </LeftToolBox>\r\n        <RightToolBox>\r\n          <PreViewContainer />\r\n        </RightToolBox>\r\n      </MainWrapper>\r\n      <DotPaintContainer />\r\n      <KeyBingingsContainer />\r\n      <BottomToolsContainer />\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default DotArtPage;\r\n","import React from 'react';\r\nimport { BrowserRouter, Route, Switch, withRouter } from 'react-router-dom';\r\nimport HeaderContainer from '../containers/header/HeaderContainer';\r\nimport DotArtPage from '../pages/DotArtPage';\r\n\r\nconst MainPage = ({ match }) => {\r\n  return (\r\n    <BrowserRouter>\r\n      <HeaderContainer path={match.path}>\r\n        <Switch>\r\n          <Route\r\n            path={[match.path, `${match.path}/dot`]}\r\n            component={DotArtPage}\r\n            exact\r\n          />\r\n          {/* <Route path={`${match.path}/community`} component={} exact /> */}\r\n        </Switch>\r\n      </HeaderContainer>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default withRouter(MainPage);\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Paper, Container, Typography } from '@material-ui/core';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport PaletteIcon from '@material-ui/icons/Palette';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport LockIcon from '@material-ui/icons/Lock';\r\nimport MoodIcon from '@material-ui/icons/Mood';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Link from '@material-ui/core/Link';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Slide from '@material-ui/core/Slide';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(10),\r\n    paddingTop: theme.spacing(2),\r\n    paddingBottom: theme.spacing(2),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  palette: {\r\n    fontSize: '50px',\r\n    color: theme.palette.primary.main,\r\n  },\r\n  form: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n    '& + &': {\r\n      margin: theme.spacing(0, 0, 2),\r\n    },\r\n  },\r\n}));\r\n\r\nconst titleMap = {\r\n  login: 'Login',\r\n  signup: 'SignUp',\r\n};\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nconst AuthTemplate = ({\r\n  type,\r\n  onSubmit,\r\n  onChange,\r\n  form,\r\n  history,\r\n  validError,\r\n  userAuthError,\r\n  onResetAuthError,\r\n}) => {\r\n  const title = titleMap[type];\r\n  const classes = useStyles();\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    onResetAuthError();\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (userAuthError) {\r\n      setOpen(true);\r\n    }\r\n  }, [userAuthError]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Dialog\r\n        open={open}\r\n        TransitionComponent={Transition}\r\n        keepMounted\r\n        onClose={handleClose}\r\n        aria-labelledby=\"alert-dialog-slide-title\"\r\n        aria-describedby=\"alert-dialog-slide-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-slide-title\">{title} fail</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-slide-description\">\r\n            {userAuthError}\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            OK\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      <Container maxWidth=\"xs\">\r\n        <CssBaseline />\r\n        <Paper className={classes.paper}>\r\n          <PaletteIcon className={classes.palette} />\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Dot Art\r\n          </Typography>\r\n          <form className={classes.form} noValidate onSubmit={onSubmit}>\r\n            <TextField\r\n              onChange={onChange}\r\n              value={form.username}\r\n              variant=\"outlined\"\r\n              required\r\n              margin=\"normal\"\r\n              fullWidth\r\n              name=\"username\"\r\n              label=\"User\"\r\n              id=\"username\"\r\n              helperText={validError.username}\r\n              error={validError.username ? true : false}\r\n              autoFocus\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">\r\n                    <AccountCircleIcon color=\"primary\" />\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n            <TextField\r\n              onChange={onChange}\r\n              value={form.password}\r\n              variant=\"outlined\"\r\n              required\r\n              margin=\"normal\"\r\n              fullWidth\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              helperText={validError.password}\r\n              error={validError.password ? true : false}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">\r\n                    <LockIcon color=\"primary\" />\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n            {type === 'signup' && (\r\n              <TextField\r\n                onChange={onChange}\r\n                value={form.passwordConfirm}\r\n                variant=\"outlined\"\r\n                required\r\n                margin=\"normal\"\r\n                fullWidth\r\n                name=\"passwordConfirm\"\r\n                label=\"PasswordConfirm\"\r\n                type=\"password\"\r\n                id=\"passwordConfirm\"\r\n                helperText={validError.passwordConfirm}\r\n                error={validError.passwordConfirm ? true : false}\r\n                InputProps={{\r\n                  endAdornment: (\r\n                    <InputAdornment position=\"end\">\r\n                      <LockIcon color=\"primary\" />\r\n                    </InputAdornment>\r\n                  ),\r\n                }}\r\n              />\r\n            )}\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n            >\r\n              {type === 'login' ? 'Log In' : 'Sign Up'}\r\n            </Button>\r\n            {type === 'login' && (\r\n              <Button\r\n                fullWidth\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n                className={classes.submit}\r\n                startIcon={<MoodIcon />}\r\n              >\r\n                Access Guest Account\r\n              </Button>\r\n            )}\r\n            <Grid container>\r\n              <Grid item xs></Grid>\r\n              {type === 'login' ? (\r\n                <Grid item>\r\n                  <Link onClick={() => history.push('/signup')}>\r\n                    Don't have an account?\r\n                  </Link>\r\n                </Grid>\r\n              ) : (\r\n                <Grid item>\r\n                  <Link onClick={() => history.push('/login')}>\r\n                    have account?\r\n                  </Link>\r\n                </Grid>\r\n              )}\r\n            </Grid>\r\n          </form>\r\n        </Paper>\r\n      </Container>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default withRouter(AuthTemplate);\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  changeField,\r\n  initializeForm,\r\n  login,\r\n  resetError,\r\n} from '../../modules/auth';\r\nimport AuthTemplate from '../../components/common/AuthTemplate';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { check } from '../../modules/user';\r\n\r\nconst LoginContainer = ({ history }) => {\r\n  const dispatch = useDispatch();\r\n  const [validError, setValidError] = useState({ username: '', password: '' });\r\n  const [userAuthError, setUserAuthError] = useState('');\r\n  const { form, auth, authError, user } = useSelector(({ auth, user }) => ({\r\n    form: auth.login,\r\n    auth: auth.auth,\r\n    authError: auth.authError,\r\n    user: user.user,\r\n  }));\r\n\r\n  const onChange = (e) => {\r\n    const { value, name } = e.target;\r\n\r\n    // error 제거\r\n    let newError = { ...validError };\r\n    newError[name] = '';\r\n    setValidError(newError);\r\n    setUserAuthError('');\r\n\r\n    dispatch(\r\n      changeField({\r\n        form: 'login',\r\n        key: name,\r\n        value,\r\n      }),\r\n    );\r\n  };\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    setUserAuthError('');\r\n\r\n    const { username, password } = form;\r\n\r\n    let err = '';\r\n    if (username === '') err = { ...err, username: 'User is blank' };\r\n    if (password === '') err = { ...err, password: 'Password is blank' };\r\n\r\n    if (err) {\r\n      setValidError(err);\r\n      return;\r\n    }\r\n\r\n    dispatch(login({ username, password }));\r\n  };\r\n\r\n  const onResetAuthError = () => {\r\n    setUserAuthError('');\r\n    dispatch(resetError());\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(initializeForm('login'));\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (authError) {\r\n      if (authError.response.status === 401) {\r\n        setUserAuthError('Email and Password did not match.');\r\n        dispatch(changeField({ form: 'login', key: 'password', value: '' }));\r\n        return;\r\n      }\r\n    }\r\n    if (auth) {\r\n      console.log('login');\r\n      dispatch(check());\r\n    }\r\n  }, [auth, authError, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      try {\r\n        localStorage.setItem('dotArt_user', JSON.stringify(user));\r\n      } catch (e) {\r\n        console.log('localStorage is not working!');\r\n      }\r\n      history.push('/');\r\n    }\r\n  }, [history, user]);\r\n\r\n  return (\r\n    <AuthTemplate\r\n      type=\"login\"\r\n      form={form}\r\n      onChange={onChange}\r\n      onSubmit={onSubmit}\r\n      validError={validError}\r\n      userAuthError={userAuthError}\r\n      onResetAuthError={onResetAuthError}\r\n    />\r\n  );\r\n};\r\n\r\nexport default withRouter(LoginContainer);\r\n","import React from 'react';\r\nimport LoginContainer from '../containers/auth/LoginContainer';\r\n\r\nconst LoginPage = () => {\r\n  return <LoginContainer />;\r\n};\r\n\r\nexport default LoginPage;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  changeField,\r\n  initializeForm,\r\n  signup,\r\n  resetError,\r\n} from '../../modules/auth';\r\nimport { check } from '../../modules/user';\r\nimport AuthTemplate from '../../components/common/AuthTemplate';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst SignUpContainer = ({ history }) => {\r\n  const dispatch = useDispatch();\r\n  const [userAuthError, setUserAuthError] = useState('');\r\n  const [validError, setValidError] = useState({\r\n    username: '',\r\n    password: '',\r\n    passwordConfirm: '',\r\n  });\r\n  const { form, auth, authError, user } = useSelector(({ auth, user }) => ({\r\n    form: auth.signup,\r\n    auth: auth.auth,\r\n    authError: auth.authError,\r\n    user: user.user,\r\n  }));\r\n\r\n  const onChange = (e) => {\r\n    const { value, name } = e.target;\r\n\r\n    // error 제거\r\n    let newError = { ...validError };\r\n    newError[name] = '';\r\n    setValidError(newError);\r\n    setUserAuthError('');\r\n\r\n    dispatch(\r\n      changeField({\r\n        form: 'signup',\r\n        key: name,\r\n        value,\r\n      }),\r\n    );\r\n  };\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    setUserAuthError('');\r\n\r\n    const { username, password, passwordConfirm } = form;\r\n\r\n    let err = '';\r\n    if (username === '') err = { ...err, username: 'User is blank' };\r\n    if (password === '') err = { ...err, password: 'Password is blank' };\r\n    if (password !== passwordConfirm) {\r\n      err = {\r\n        ...err,\r\n        passwordConfirm: 'PasswordConfirm and Password is different',\r\n      };\r\n      dispatch(\r\n        changeField({ form: 'signup', key: 'passwordConfirm', value: '' }),\r\n      );\r\n    }\r\n    if (passwordConfirm === '') {\r\n      err = { ...err, passwordConfirm: 'PasswordConfirm is blank' };\r\n    }\r\n    if (err) {\r\n      setValidError(err);\r\n      return;\r\n    }\r\n\r\n    dispatch(signup({ username, password }));\r\n  };\r\n\r\n  const onResetAuthError = () => {\r\n    setUserAuthError('');\r\n    dispatch(resetError());\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(initializeForm('signup'));\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (authError) {\r\n      if (authError.response.status === 409) {\r\n        setUserAuthError(\r\n          'User exist already, please signup another user instead',\r\n        );\r\n        dispatch(changeField({ form: 'signup', key: 'password', value: '' }));\r\n        dispatch(\r\n          changeField({ form: 'signup', key: 'passwordConfirm', value: '' }),\r\n        );\r\n        return;\r\n      }\r\n      setUserAuthError('Sign up failed, please try again');\r\n      return;\r\n    }\r\n    if (auth) {\r\n      console.log('회원 가입 성공');\r\n      console.log(auth);\r\n      dispatch(check());\r\n    }\r\n  }, [auth, authError, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      try {\r\n        localStorage.setItem('dotArt_user', JSON.stringify(user));\r\n      } catch (e) {\r\n        console.log('localStorage is not working!');\r\n      }\r\n      history.push('/');\r\n    }\r\n  }, [user, history]);\r\n\r\n  return (\r\n    <AuthTemplate\r\n      type=\"signup\"\r\n      form={form}\r\n      onChange={onChange}\r\n      onSubmit={onSubmit}\r\n      validError={validError}\r\n      userAuthError={userAuthError}\r\n      onResetAuthError={onResetAuthError}\r\n    />\r\n  );\r\n};\r\n\r\nexport default withRouter(SignUpContainer);\r\n","import React from 'react';\r\nimport SignUpContainer from '../containers/auth/SignUpContainer';\r\n\r\nconst SignUpPage = () => {\r\n  return <SignUpContainer />;\r\n};\r\n\r\nexport default SignUpPage;\r\n","import React, { useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst IndexPage = (props) => {\r\n  useEffect(() => {\r\n    // guest account도 관리해야함\r\n    const token = localStorage.getItem('dotArt_user');\r\n\r\n    // token이 없으면 login 페이지로\r\n    // if (!token) {\r\n    //   props.history.push('/login');\r\n    // } else {\r\n    props.history.push('/main/dot');\r\n    // }\r\n  }, [props.history]);\r\n  return <div></div>;\r\n};\r\n\r\nexport default withRouter(IndexPage);\r\n","import React from 'react';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\nimport MainPage from './pages/MainPage';\r\nimport LoginPage from './pages/LoginPage';\r\nimport SignUpPage from './pages/SignUpPage';\r\nimport IndexPage from './pages/IndexPage';\r\nimport { createMuiTheme } from '@material-ui/core/styles';\r\nimport { ThemeProvider } from '@material-ui/styles';\r\nimport { SnackbarProvider } from 'notistack';\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#9e9e9e',\r\n      light: '#b1b1b1',\r\n      dark: '#6e6e6e',\r\n      contrastText: '#fff',\r\n    },\r\n    secondary: {\r\n      main: '#11cb5f',\r\n    },\r\n  },\r\n});\r\n\r\nconst App = () => {\r\n  console.log('음.....');\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <SnackbarProvider\r\n        maxSnack={3}\r\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\r\n      >\r\n        <BrowserRouter>\r\n          <Switch>\r\n            <Route path=\"/dotPaint/\" component={IndexPage} exact />\r\n            <Route component={LoginPage} path=\"/login\" exact />\r\n            <Route component={SignUpPage} path=\"/signup\" exact />\r\n            <Route component={MainPage} path=\"/main\" />\r\n            <Route\r\n              render={({ location }) => (\r\n                <div>\r\n                  <h1>4 0 4</h1>\r\n                  {console.log(location)}\r\n                  <p>{location.pathname}는 없는 주소입니다</p>\r\n                </div>\r\n              )}\r\n            />\r\n          </Switch>\r\n        </BrowserRouter>\r\n      </SnackbarProvider>\r\n    </ThemeProvider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport rootReducer, { rootSaga } from './modules';\r\nimport { check, tempSetUser } from './modules/user';\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  // composeWithDevTools(applyMiddleware(sagaMiddleware)),\r\n  applyMiddleware(sagaMiddleware),\r\n);\r\n\r\n// function loadUser() {\r\n//   try {\r\n//     const user = localStorage.getItem('dotArt_user');\r\n//     if (!user) return;\r\n\r\n//     store.dispatch(tempSetUser(user));\r\n//     store.dispatch(check());\r\n//   } catch (e) {\r\n//     console.log('localStorage is not working!');\r\n//   }\r\n// }\r\n\r\nsagaMiddleware.run(rootSaga);\r\n// loadUser();\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </Provider>,\r\n  document.getElementById('root'),\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}